function Xx(e,n){for(var r=0;r<n.length;r++){const i=n[r];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eg={exports:{}},ml={},Tg={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=Symbol.for("react.element"),Yx=Symbol.for("react.portal"),Qx=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),e1=Symbol.for("react.profiler"),t1=Symbol.for("react.provider"),n1=Symbol.for("react.context"),r1=Symbol.for("react.forward_ref"),i1=Symbol.for("react.suspense"),o1=Symbol.for("react.memo"),s1=Symbol.for("react.lazy"),tp=Symbol.iterator;function a1(e){return e===null||typeof e!="object"?null:(e=tp&&e[tp]||e["@@iterator"],typeof e=="function"?e:null)}var Lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mg=Object.assign,zg={};function Ii(e,n,r){this.props=e,this.context=n,this.refs=zg,this.updater=r||Lg}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Og(){}Og.prototype=Ii.prototype;function Tf(e,n,r){this.props=e,this.context=n,this.refs=zg,this.updater=r||Lg}var Lf=Tf.prototype=new Og;Lf.constructor=Tf;Mg(Lf,Ii.prototype);Lf.isPureReactComponent=!0;var np=Array.isArray,Ag=Object.prototype.hasOwnProperty,Mf={current:null},Rg={key:!0,ref:!0,__self:!0,__source:!0};function Ig(e,n,r){var i,s={},a=null,u=null;if(n!=null)for(i in n.ref!==void 0&&(u=n.ref),n.key!==void 0&&(a=""+n.key),n)Ag.call(n,i)&&!Rg.hasOwnProperty(i)&&(s[i]=n[i]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var h=Array(c),p=0;p<c;p++)h[p]=arguments[p+2];s.children=h}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return{$$typeof:fs,type:e,key:a,ref:u,props:s,_owner:Mf.current}}function l1(e,n){return{$$typeof:fs,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function zf(e){return typeof e=="object"&&e!==null&&e.$$typeof===fs}function u1(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return n[r]})}var rp=/\/+/g;function yu(e,n){return typeof e=="object"&&e!==null&&e.key!=null?u1(""+e.key):n.toString(36)}function ma(e,n,r,i,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case fs:case Yx:u=!0}}if(u)return u=e,s=s(u),e=i===""?"."+yu(u,0):i,np(s)?(r="",e!=null&&(r=e.replace(rp,"$&/")+"/"),ma(s,n,r,"",function(p){return p})):s!=null&&(zf(s)&&(s=l1(s,r+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(rp,"$&/")+"/")+e)),n.push(s)),1;if(u=0,i=i===""?".":i+":",np(e))for(var c=0;c<e.length;c++){a=e[c];var h=i+yu(a,c);u+=ma(a,n,r,h,s)}else if(h=a1(e),typeof h=="function")for(e=h.call(e),c=0;!(a=e.next()).done;)a=a.value,h=i+yu(a,c++),u+=ma(a,n,r,h,s);else if(a==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return u}function Hs(e,n,r){if(e==null)return e;var i=[],s=0;return ma(e,i,"","",function(a){return n.call(r,a,s++)}),i}function c1(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},ga={transition:null},f1={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:ga,ReactCurrentOwner:Mf};function Dg(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Hs,forEach:function(e,n,r){Hs(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return Hs(e,function(){n++}),n},toArray:function(e){return Hs(e,function(n){return n})||[]},only:function(e){if(!zf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Ii;ge.Fragment=Qx;ge.Profiler=e1;ge.PureComponent=Tf;ge.StrictMode=Jx;ge.Suspense=i1;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f1;ge.act=Dg;ge.cloneElement=function(e,n,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Mg({},e.props),s=e.key,a=e.ref,u=e._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,u=Mf.current),n.key!==void 0&&(s=""+n.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in n)Ag.call(n,h)&&!Rg.hasOwnProperty(h)&&(i[h]=n[h]===void 0&&c!==void 0?c[h]:n[h])}var h=arguments.length-2;if(h===1)i.children=r;else if(1<h){c=Array(h);for(var p=0;p<h;p++)c[p]=arguments[p+2];i.children=c}return{$$typeof:fs,type:e.type,key:s,ref:a,props:i,_owner:u}};ge.createContext=function(e){return e={$$typeof:n1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t1,_context:e},e.Consumer=e};ge.createElement=Ig;ge.createFactory=function(e){var n=Ig.bind(null,e);return n.type=e,n};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:r1,render:e}};ge.isValidElement=zf;ge.lazy=function(e){return{$$typeof:s1,_payload:{_status:-1,_result:e},_init:c1}};ge.memo=function(e,n){return{$$typeof:o1,type:e,compare:n===void 0?null:n}};ge.startTransition=function(e){var n=ga.transition;ga.transition={};try{e()}finally{ga.transition=n}};ge.unstable_act=Dg;ge.useCallback=function(e,n){return ct.current.useCallback(e,n)};ge.useContext=function(e){return ct.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};ge.useEffect=function(e,n){return ct.current.useEffect(e,n)};ge.useId=function(){return ct.current.useId()};ge.useImperativeHandle=function(e,n,r){return ct.current.useImperativeHandle(e,n,r)};ge.useInsertionEffect=function(e,n){return ct.current.useInsertionEffect(e,n)};ge.useLayoutEffect=function(e,n){return ct.current.useLayoutEffect(e,n)};ge.useMemo=function(e,n){return ct.current.useMemo(e,n)};ge.useReducer=function(e,n,r){return ct.current.useReducer(e,n,r)};ge.useRef=function(e){return ct.current.useRef(e)};ge.useState=function(e){return ct.current.useState(e)};ge.useSyncExternalStore=function(e,n,r){return ct.current.useSyncExternalStore(e,n,r)};ge.useTransition=function(){return ct.current.useTransition()};ge.version="18.3.1";Tg.exports=ge;var M=Tg.exports;const Rn=Ef(M),h1=Xx({__proto__:null,default:Rn},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1=M,p1=Symbol.for("react.element"),m1=Symbol.for("react.fragment"),g1=Object.prototype.hasOwnProperty,v1=d1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_1={key:!0,ref:!0,__self:!0,__source:!0};function Bg(e,n,r){var i,s={},a=null,u=null;r!==void 0&&(a=""+r),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(u=n.ref);for(i in n)g1.call(n,i)&&!_1.hasOwnProperty(i)&&(s[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps,n)s[i]===void 0&&(s[i]=n[i]);return{$$typeof:p1,type:e,key:a,ref:u,props:s,_owner:v1.current}}ml.Fragment=m1;ml.jsx=Bg;ml.jsxs=Bg;Eg.exports=ml;var m=Eg.exports,sc={},Fg={exports:{}},Et={},Ug={exports:{}},$g={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(U,X){var Z=U.length;U.push(X);e:for(;0<Z;){var J=Z-1>>>1,re=U[J];if(0<s(re,X))U[J]=X,U[Z]=re,Z=J;else break e}}function r(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var X=U[0],Z=U.pop();if(Z!==X){U[0]=Z;e:for(var J=0,re=U.length,he=re>>>1;J<he;){var ue=2*(J+1)-1,fe=U[ue],le=ue+1,ne=U[le];if(0>s(fe,Z))le<re&&0>s(ne,fe)?(U[J]=ne,U[le]=Z,J=le):(U[J]=fe,U[ue]=Z,J=ue);else if(le<re&&0>s(ne,Z))U[J]=ne,U[le]=Z,J=le;else break e}}return X}function s(U,X){var Z=U.sortIndex-X.sortIndex;return Z!==0?Z:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var h=[],p=[],g=1,d=null,_=3,y=!1,w=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(U){for(var X=r(p);X!==null;){if(X.callback===null)i(p);else if(X.startTime<=U)i(p),X.sortIndex=X.expirationTime,n(h,X);else break;X=r(p)}}function j(U){if(S=!1,N(U),!w)if(r(h)!==null)w=!0,W(E);else{var X=r(p);X!==null&&ee(j,X.startTime-U)}}function E(U,X){w=!1,S&&(S=!1,x(O),O=-1),y=!0;var Z=_;try{for(N(X),d=r(h);d!==null&&(!(d.expirationTime>X)||U&&!V());){var J=d.callback;if(typeof J=="function"){d.callback=null,_=d.priorityLevel;var re=J(d.expirationTime<=X);X=e.unstable_now(),typeof re=="function"?d.callback=re:d===r(h)&&i(h),N(X)}else i(h);d=r(h)}if(d!==null)var he=!0;else{var ue=r(p);ue!==null&&ee(j,ue.startTime-X),he=!1}return he}finally{d=null,_=Z,y=!1}}var T=!1,z=null,O=-1,B=5,D=-1;function V(){return!(e.unstable_now()-D<B)}function H(){if(z!==null){var U=e.unstable_now();D=U;var X=!0;try{X=z(!0,U)}finally{X?Q():(T=!1,z=null)}}else T=!1}var Q;if(typeof k=="function")Q=function(){k(H)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,q=R.port2;R.port1.onmessage=H,Q=function(){q.postMessage(null)}}else Q=function(){P(H,0)};function W(U){z=U,T||(T=!0,Q())}function ee(U,X){O=P(function(){U(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,W(E))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(U){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var Z=_;_=X;try{return U()}finally{_=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=_;_=U;try{return X()}finally{_=Z}},e.unstable_scheduleCallback=function(U,X,Z){var J=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?J+Z:J):Z=J,U){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,U={id:g++,callback:X,priorityLevel:U,startTime:Z,expirationTime:re,sortIndex:-1},Z>J?(U.sortIndex=Z,n(p,U),r(h)===null&&U===r(p)&&(S?(x(O),O=-1):S=!0,ee(j,Z-J))):(U.sortIndex=re,n(h,U),w||y||(w=!0,W(E))),U},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(U){var X=_;return function(){var Z=_;_=X;try{return U.apply(this,arguments)}finally{_=Z}}}})($g);Ug.exports=$g;var y1=Ug.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1=M,Pt=y1;function K(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hg=new Set,Bo={};function Hr(e,n){Ci(e,n),Ci(e+"Capture",n)}function Ci(e,n){for(Bo[e]=n,e=0;e<n.length;e++)Hg.add(n[e])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=Object.prototype.hasOwnProperty,w1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ip={},op={};function b1(e){return ac.call(op,e)?!0:ac.call(ip,e)?!1:w1.test(e)?op[e]=!0:(ip[e]=!0,!1)}function k1(e,n,r,i){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S1(e,n,r,i){if(n===null||typeof n>"u"||k1(e,n,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ft(e,n,r,i,s,a,u){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=u}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Qe[n]=new ft(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Of=/[\-:]([a-z])/g;function Af(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Of,Af);Qe[n]=new ft(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Of,Af);Qe[n]=new ft(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Of,Af);Qe[n]=new ft(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rf(e,n,r,i){var s=Qe.hasOwnProperty(n)?Qe[n]:null;(s!==null?s.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S1(n,r,s,i)&&(r=null),i||s===null?b1(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(n=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(n):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,n,r):e.setAttribute(n,r))))}var $n=x1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),si=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),lc=Symbol.for("react.profiler"),Zg=Symbol.for("react.provider"),Wg=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),uc=Symbol.for("react.suspense"),cc=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),Vg=Symbol.for("react.offscreen"),sp=Symbol.iterator;function to(e){return e===null||typeof e!="object"?null:(e=sp&&e[sp]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,xu;function _o(e){if(xu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);xu=n&&n[1]||""}return`
`+xu+e}var wu=!1;function bu(e,n){if(!e||wu)return"";wu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(p){var i=p}Reflect.construct(e,[],n)}else{try{n.call()}catch(p){i=p}e.call(n.prototype)}else{try{throw Error()}catch(p){i=p}e()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=i.stack.split(`
`),u=s.length-1,c=a.length-1;1<=u&&0<=c&&s[u]!==a[c];)c--;for(;1<=u&&0<=c;u--,c--)if(s[u]!==a[c]){if(u!==1||c!==1)do if(u--,c--,0>c||s[u]!==a[c]){var h=`
`+s[u].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=u&&0<=c);break}}}finally{wu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_o(e):""}function N1(e){switch(e.tag){case 5:return _o(e.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return e=bu(e.type,!1),e;case 11:return e=bu(e.type.render,!1),e;case 1:return e=bu(e.type,!0),e;default:return""}}function fc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case si:return"Portal";case lc:return"Profiler";case If:return"StrictMode";case uc:return"Suspense";case cc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wg:return(e.displayName||"Context")+".Consumer";case Zg:return(e._context.displayName||"Context")+".Provider";case Df:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bf:return n=e.displayName||null,n!==null?n:fc(e.type)||"Memo";case Kn:n=e._payload,e=e._init;try{return fc(e(n))}catch{}}return null}function C1(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fc(n);case 8:return n===If?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gg(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function P1(e){var n=Gg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return s.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ws(e){e._valueTracker||(e._valueTracker=P1(e))}function qg(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return e&&(i=Gg(e)?e.checked?"true":"false":e.value),e=i,e!==r?(n.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hc(e,n){var r=n.checked;return Re({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ap(e,n){var r=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;r=dr(n.value!=null?n.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xg(e,n){n=n.checked,n!=null&&Rf(e,"checked",n,!1)}function dc(e,n){Xg(e,n);var r=dr(n.value),i=n.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?pc(e,n.type,r):n.hasOwnProperty("defaultValue")&&pc(e,n.type,dr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function lp(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pc(e,n,r){(n!=="number"||Ma(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yo=Array.isArray;function _i(e,n,r,i){if(e=e.options,n){n={};for(var s=0;s<r.length;s++)n["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=n.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+dr(r),n=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}n!==null||e[s].disabled||(n=e[s])}n!==null&&(n.selected=!0)}}function mc(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(K(91));return Re({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function up(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(K(92));if(yo(r)){if(1<r.length)throw Error(K(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:dr(r)}}function Kg(e,n){var r=dr(n.value),i=dr(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function cp(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Yg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gc(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Yg(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vs,Qg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(n,r,i,s)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Fo(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j1=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(e){j1.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Co[n]=Co[e]})});function Jg(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||Co.hasOwnProperty(e)&&Co[e]?(""+n).trim():n+"px"}function e0(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Jg(r,n[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var E1=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vc(e,n){if(n){if(E1[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(K(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(K(61))}if(n.style!=null&&typeof n.style!="object")throw Error(K(62))}}function _c(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=null;function Ff(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xc=null,yi=null,xi=null;function fp(e){if(e=ps(e)){if(typeof xc!="function")throw Error(K(280));var n=e.stateNode;n&&(n=xl(n),xc(e.stateNode,e.type,n))}}function t0(e){yi?xi?xi.push(e):xi=[e]:yi=e}function n0(){if(yi){var e=yi,n=xi;if(xi=yi=null,fp(e),n)for(e=0;e<n.length;e++)fp(n[e])}}function r0(e,n){return e(n)}function i0(){}var ku=!1;function o0(e,n,r){if(ku)return e(n,r);ku=!0;try{return r0(e,n,r)}finally{ku=!1,(yi!==null||xi!==null)&&(i0(),n0())}}function Uo(e,n){var r=e.stateNode;if(r===null)return null;var i=xl(r);if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,n,typeof r));return r}var wc=!1;if(In)try{var no={};Object.defineProperty(no,"passive",{get:function(){wc=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{wc=!1}function T1(e,n,r,i,s,a,u,c,h){var p=Array.prototype.slice.call(arguments,3);try{n.apply(r,p)}catch(g){this.onError(g)}}var Po=!1,za=null,Oa=!1,bc=null,L1={onError:function(e){Po=!0,za=e}};function M1(e,n,r,i,s,a,u,c,h){Po=!1,za=null,T1.apply(L1,arguments)}function z1(e,n,r,i,s,a,u,c,h){if(M1.apply(this,arguments),Po){if(Po){var p=za;Po=!1,za=null}else throw Error(K(198));Oa||(Oa=!0,bc=p)}}function Zr(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function s0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function hp(e){if(Zr(e)!==e)throw Error(K(188))}function O1(e){var n=e.alternate;if(!n){if(n=Zr(e),n===null)throw Error(K(188));return n!==e?null:e}for(var r=e,i=n;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return hp(s),e;if(a===i)return hp(s),n;a=a.sibling}throw Error(K(188))}if(r.return!==i.return)r=s,i=a;else{for(var u=!1,c=s.child;c;){if(c===r){u=!0,r=s,i=a;break}if(c===i){u=!0,i=s,r=a;break}c=c.sibling}if(!u){for(c=a.child;c;){if(c===r){u=!0,r=a,i=s;break}if(c===i){u=!0,i=a,r=s;break}c=c.sibling}if(!u)throw Error(K(189))}}if(r.alternate!==i)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:n}function a0(e){return e=O1(e),e!==null?l0(e):null}function l0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=l0(e);if(n!==null)return n;e=e.sibling}return null}var u0=Pt.unstable_scheduleCallback,dp=Pt.unstable_cancelCallback,A1=Pt.unstable_shouldYield,R1=Pt.unstable_requestPaint,Be=Pt.unstable_now,I1=Pt.unstable_getCurrentPriorityLevel,Uf=Pt.unstable_ImmediatePriority,c0=Pt.unstable_UserBlockingPriority,Aa=Pt.unstable_NormalPriority,D1=Pt.unstable_LowPriority,f0=Pt.unstable_IdlePriority,gl=null,pn=null;function B1(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(gl,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:$1,F1=Math.log,U1=Math.LN2;function $1(e){return e>>>=0,e===0?32:31-(F1(e)/U1|0)|0}var Gs=64,qs=4194304;function xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ra(e,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,u=r&268435455;if(u!==0){var c=u&~s;c!==0?i=xo(c):(a&=u,a!==0&&(i=xo(a)))}else u=r&~s,u!==0?i=xo(u):a!==0&&(i=xo(a));if(i===0)return 0;if(n!==0&&n!==i&&!(n&s)&&(s=i&-i,a=n&-n,s>=a||s===16&&(a&4194240)!==0))return n;if(i&4&&(i|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)r=31-Jt(n),s=1<<r,i|=e[r],n&=~s;return i}function H1(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z1(e,n){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Jt(a),c=1<<u,h=s[u];h===-1?(!(c&r)||c&i)&&(s[u]=H1(c,n)):h<=n&&(e.expiredLanes|=c),a&=~c}}function kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function h0(){var e=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),e}function Su(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function hs(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Jt(n),e[n]=r}function W1(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Jt(r),a=1<<s;n[s]=0,i[s]=-1,e[s]=-1,r&=~a}}function $f(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var i=31-Jt(r),s=1<<i;s&n|e[i]&n&&(e[i]|=n),r&=~s}}var be=0;function d0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var p0,Hf,m0,g0,v0,Sc=!1,Xs=[],ir=null,or=null,sr=null,$o=new Map,Ho=new Map,Jn=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pp(e,n){switch(e){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":$o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(n.pointerId)}}function ro(e,n,r,i,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},n!==null&&(n=ps(n),n!==null&&Hf(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,s!==null&&n.indexOf(s)===-1&&n.push(s),e)}function G1(e,n,r,i,s){switch(n){case"focusin":return ir=ro(ir,e,n,r,i,s),!0;case"dragenter":return or=ro(or,e,n,r,i,s),!0;case"mouseover":return sr=ro(sr,e,n,r,i,s),!0;case"pointerover":var a=s.pointerId;return $o.set(a,ro($o.get(a)||null,e,n,r,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Ho.set(a,ro(Ho.get(a)||null,e,n,r,i,s)),!0}return!1}function _0(e){var n=jr(e.target);if(n!==null){var r=Zr(n);if(r!==null){if(n=r.tag,n===13){if(n=s0(r),n!==null){e.blockedOn=n,v0(e.priority,function(){m0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Nc(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);yc=i,r.target.dispatchEvent(i),yc=null}else return n=ps(r),n!==null&&Hf(n),e.blockedOn=r,!1;n.shift()}return!0}function mp(e,n,r){va(e)&&r.delete(n)}function q1(){Sc=!1,ir!==null&&va(ir)&&(ir=null),or!==null&&va(or)&&(or=null),sr!==null&&va(sr)&&(sr=null),$o.forEach(mp),Ho.forEach(mp)}function io(e,n){e.blockedOn===n&&(e.blockedOn=null,Sc||(Sc=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,q1)))}function Zo(e){function n(s){return io(s,e)}if(0<Xs.length){io(Xs[0],e);for(var r=1;r<Xs.length;r++){var i=Xs[r];i.blockedOn===e&&(i.blockedOn=null)}}for(ir!==null&&io(ir,e),or!==null&&io(or,e),sr!==null&&io(sr,e),$o.forEach(n),Ho.forEach(n),r=0;r<Jn.length;r++)i=Jn[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Jn.length&&(r=Jn[0],r.blockedOn===null);)_0(r),r.blockedOn===null&&Jn.shift()}var wi=$n.ReactCurrentBatchConfig,Ia=!0;function X1(e,n,r,i){var s=be,a=wi.transition;wi.transition=null;try{be=1,Zf(e,n,r,i)}finally{be=s,wi.transition=a}}function K1(e,n,r,i){var s=be,a=wi.transition;wi.transition=null;try{be=4,Zf(e,n,r,i)}finally{be=s,wi.transition=a}}function Zf(e,n,r,i){if(Ia){var s=Nc(e,n,r,i);if(s===null)Ou(e,n,i,Da,r),pp(e,i);else if(G1(s,e,n,r,i))i.stopPropagation();else if(pp(e,i),n&4&&-1<V1.indexOf(e)){for(;s!==null;){var a=ps(s);if(a!==null&&p0(a),a=Nc(e,n,r,i),a===null&&Ou(e,n,i,Da,r),a===s)break;s=a}s!==null&&i.stopPropagation()}else Ou(e,n,i,null,r)}}var Da=null;function Nc(e,n,r,i){if(Da=null,e=Ff(i),e=jr(e),e!==null)if(n=Zr(e),n===null)e=null;else if(r=n.tag,r===13){if(e=s0(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Da=e,null}function y0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I1()){case Uf:return 1;case c0:return 4;case Aa:case D1:return 16;case f0:return 536870912;default:return 16}default:return 16}}var tr=null,Wf=null,_a=null;function x0(){if(_a)return _a;var e,n=Wf,r=n.length,i,s="value"in tr?tr.value:tr.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var u=r-e;for(i=1;i<=u&&n[r-i]===s[a-i];i++);return _a=s.slice(e,1<i?1-i:void 0)}function ya(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function gp(){return!1}function Tt(e){function n(r,i,s,a,u){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ks:gp,this.isPropagationStopped=gp,this}return Re(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vf=Tt(Di),ds=Re({},Di,{view:0,detail:0}),Y1=Tt(ds),Nu,Cu,oo,vl=Re({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(Nu=e.screenX-oo.screenX,Cu=e.screenY-oo.screenY):Cu=Nu=0,oo=e),Nu)},movementY:function(e){return"movementY"in e?e.movementY:Cu}}),vp=Tt(vl),Q1=Re({},vl,{dataTransfer:0}),J1=Tt(Q1),ew=Re({},ds,{relatedTarget:0}),Pu=Tt(ew),tw=Re({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),nw=Tt(tw),rw=Re({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iw=Tt(rw),ow=Re({},Di,{data:0}),_p=Tt(ow),sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uw(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lw[e])?!!n[e]:!1}function Gf(){return uw}var cw=Re({},ds,{key:function(e){if(e.key){var n=sw[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gf,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fw=Tt(cw),hw=Re({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=Tt(hw),dw=Re({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gf}),pw=Tt(dw),mw=Re({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),gw=Tt(mw),vw=Re({},vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_w=Tt(vw),yw=[9,13,27,32],qf=In&&"CompositionEvent"in window,jo=null;In&&"documentMode"in document&&(jo=document.documentMode);var xw=In&&"TextEvent"in window&&!jo,w0=In&&(!qf||jo&&8<jo&&11>=jo),xp=" ",wp=!1;function b0(e,n){switch(e){case"keyup":return yw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var li=!1;function ww(e,n){switch(e){case"compositionend":return k0(n);case"keypress":return n.which!==32?null:(wp=!0,xp);case"textInput":return e=n.data,e===xp&&wp?null:e;default:return null}}function bw(e,n){if(li)return e==="compositionend"||!qf&&b0(e,n)?(e=x0(),_a=Wf=tr=null,li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return w0&&n.locale!=="ko"?null:n.data;default:return null}}var kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!kw[e.type]:n==="textarea"}function S0(e,n,r,i){t0(i),n=Ba(n,"onChange"),0<n.length&&(r=new Vf("onChange","change",null,r,i),e.push({event:r,listeners:n}))}var Eo=null,Wo=null;function Sw(e){A0(e,0)}function _l(e){var n=fi(e);if(qg(n))return e}function Nw(e,n){if(e==="change")return n}var N0=!1;if(In){var ju;if(In){var Eu="oninput"in document;if(!Eu){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Eu=typeof kp.oninput=="function"}ju=Eu}else ju=!1;N0=ju&&(!document.documentMode||9<document.documentMode)}function Sp(){Eo&&(Eo.detachEvent("onpropertychange",C0),Wo=Eo=null)}function C0(e){if(e.propertyName==="value"&&_l(Wo)){var n=[];S0(n,Wo,e,Ff(e)),o0(Sw,n)}}function Cw(e,n,r){e==="focusin"?(Sp(),Eo=n,Wo=r,Eo.attachEvent("onpropertychange",C0)):e==="focusout"&&Sp()}function Pw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(Wo)}function jw(e,n){if(e==="click")return _l(n)}function Ew(e,n){if(e==="input"||e==="change")return _l(n)}function Tw(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var tn=typeof Object.is=="function"?Object.is:Tw;function Vo(e,n){if(tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!ac.call(n,s)||!tn(e[s],n[s]))return!1}return!0}function Np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cp(e,n){var r=Np(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=n&&i>=n)return{node:r,offset:n-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Np(r)}}function P0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?P0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function j0(){for(var e=window,n=Ma();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ma(e.document)}return n}function Xf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Lw(e){var n=j0(),r=e.focusedElem,i=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&P0(r.ownerDocument.documentElement,r)){if(i!==null&&Xf(r)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=Cp(r,a);var u=Cp(r,i);s&&u&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(n=n.createRange(),n.setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(n),e.extend(u.node,u.offset)):(n.setEnd(u.node,u.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mw=In&&"documentMode"in document&&11>=document.documentMode,ui=null,Cc=null,To=null,Pc=!1;function Pp(e,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pc||ui==null||ui!==Ma(i)||(i=ui,"selectionStart"in i&&Xf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),To&&Vo(To,i)||(To=i,i=Ba(Cc,"onSelect"),0<i.length&&(n=new Vf("onSelect","select",null,n,r),e.push({event:n,listeners:i}),n.target=ui)))}function Ys(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ci={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},Tu={},E0={};In&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function yl(e){if(Tu[e])return Tu[e];if(!ci[e])return e;var n=ci[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in E0)return Tu[e]=n[r];return e}var T0=yl("animationend"),L0=yl("animationiteration"),M0=yl("animationstart"),z0=yl("transitionend"),O0=new Map,jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,n){O0.set(e,n),Hr(n,[e])}for(var Lu=0;Lu<jp.length;Lu++){var Mu=jp[Lu],zw=Mu.toLowerCase(),Ow=Mu[0].toUpperCase()+Mu.slice(1);mr(zw,"on"+Ow)}mr(T0,"onAnimationEnd");mr(L0,"onAnimationIteration");mr(M0,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(z0,"onTransitionEnd");Ci("onMouseEnter",["mouseout","mouseover"]);Ci("onMouseLeave",["mouseout","mouseover"]);Ci("onPointerEnter",["pointerout","pointerover"]);Ci("onPointerLeave",["pointerout","pointerover"]);Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aw=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Ep(e,n,r){var i=e.type||"unknown-event";e.currentTarget=r,z1(i,n,void 0,e),e.currentTarget=null}function A0(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var a=void 0;if(n)for(var u=i.length-1;0<=u;u--){var c=i[u],h=c.instance,p=c.currentTarget;if(c=c.listener,h!==a&&s.isPropagationStopped())break e;Ep(s,c,p),a=h}else for(u=0;u<i.length;u++){if(c=i[u],h=c.instance,p=c.currentTarget,c=c.listener,h!==a&&s.isPropagationStopped())break e;Ep(s,c,p),a=h}}}if(Oa)throw e=bc,Oa=!1,bc=null,e}function Pe(e,n){var r=n[Mc];r===void 0&&(r=n[Mc]=new Set);var i=e+"__bubble";r.has(i)||(R0(n,e,2,!1),r.add(i))}function zu(e,n,r){var i=0;n&&(i|=4),R0(r,e,i,n)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function Go(e){if(!e[Qs]){e[Qs]=!0,Hg.forEach(function(r){r!=="selectionchange"&&(Aw.has(r)||zu(r,!1,e),zu(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Qs]||(n[Qs]=!0,zu("selectionchange",!1,n))}}function R0(e,n,r,i){switch(y0(n)){case 1:var s=X1;break;case 4:s=K1;break;default:s=Zf}r=s.bind(null,n,r,e),s=void 0,!wc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(n,r,{capture:!0,passive:s}):e.addEventListener(n,r,!0):s!==void 0?e.addEventListener(n,r,{passive:s}):e.addEventListener(n,r,!1)}function Ou(e,n,r,i,s){var a=i;if(!(n&1)&&!(n&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var c=i.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(u===4)for(u=i.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;u=u.return}for(;c!==null;){if(u=jr(c),u===null)return;if(h=u.tag,h===5||h===6){i=a=u;continue e}c=c.parentNode}}i=i.return}o0(function(){var p=a,g=Ff(r),d=[];e:{var _=O0.get(e);if(_!==void 0){var y=Vf,w=e;switch(e){case"keypress":if(ya(r)===0)break e;case"keydown":case"keyup":y=fw;break;case"focusin":w="focus",y=Pu;break;case"focusout":w="blur",y=Pu;break;case"beforeblur":case"afterblur":y=Pu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=J1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=pw;break;case T0:case L0:case M0:y=nw;break;case z0:y=gw;break;case"scroll":y=Y1;break;case"wheel":y=_w;break;case"copy":case"cut":case"paste":y=iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=yp}var S=(n&4)!==0,P=!S&&e==="scroll",x=S?_!==null?_+"Capture":null:_;S=[];for(var k=p,N;k!==null;){N=k;var j=N.stateNode;if(N.tag===5&&j!==null&&(N=j,x!==null&&(j=Uo(k,x),j!=null&&S.push(qo(k,j,N)))),P)break;k=k.return}0<S.length&&(_=new y(_,w,null,r,g),d.push({event:_,listeners:S}))}}if(!(n&7)){e:{if(_=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",_&&r!==yc&&(w=r.relatedTarget||r.fromElement)&&(jr(w)||w[Dn]))break e;if((y||_)&&(_=g.window===g?g:(_=g.ownerDocument)?_.defaultView||_.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=p,w=w?jr(w):null,w!==null&&(P=Zr(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=p),y!==w)){if(S=vp,j="onMouseLeave",x="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(S=yp,j="onPointerLeave",x="onPointerEnter",k="pointer"),P=y==null?_:fi(y),N=w==null?_:fi(w),_=new S(j,k+"leave",y,r,g),_.target=P,_.relatedTarget=N,j=null,jr(g)===p&&(S=new S(x,k+"enter",w,r,g),S.target=N,S.relatedTarget=P,j=S),P=j,y&&w)t:{for(S=y,x=w,k=0,N=S;N;N=ri(N))k++;for(N=0,j=x;j;j=ri(j))N++;for(;0<k-N;)S=ri(S),k--;for(;0<N-k;)x=ri(x),N--;for(;k--;){if(S===x||x!==null&&S===x.alternate)break t;S=ri(S),x=ri(x)}S=null}else S=null;y!==null&&Tp(d,_,y,S,!1),w!==null&&P!==null&&Tp(d,P,w,S,!0)}}e:{if(_=p?fi(p):window,y=_.nodeName&&_.nodeName.toLowerCase(),y==="select"||y==="input"&&_.type==="file")var E=Nw;else if(bp(_))if(N0)E=Ew;else{E=Pw;var T=Cw}else(y=_.nodeName)&&y.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(E=jw);if(E&&(E=E(e,p))){S0(d,E,r,g);break e}T&&T(e,_,p),e==="focusout"&&(T=_._wrapperState)&&T.controlled&&_.type==="number"&&pc(_,"number",_.value)}switch(T=p?fi(p):window,e){case"focusin":(bp(T)||T.contentEditable==="true")&&(ui=T,Cc=p,To=null);break;case"focusout":To=Cc=ui=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,Pp(d,r,g);break;case"selectionchange":if(Mw)break;case"keydown":case"keyup":Pp(d,r,g)}var z;if(qf)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else li?b0(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(w0&&r.locale!=="ko"&&(li||O!=="onCompositionStart"?O==="onCompositionEnd"&&li&&(z=x0()):(tr=g,Wf="value"in tr?tr.value:tr.textContent,li=!0)),T=Ba(p,O),0<T.length&&(O=new _p(O,e,null,r,g),d.push({event:O,listeners:T}),z?O.data=z:(z=k0(r),z!==null&&(O.data=z)))),(z=xw?ww(e,r):bw(e,r))&&(p=Ba(p,"onBeforeInput"),0<p.length&&(g=new _p("onBeforeInput","beforeinput",null,r,g),d.push({event:g,listeners:p}),g.data=z))}A0(d,n)})}function qo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Ba(e,n){for(var r=n+"Capture",i=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Uo(e,r),a!=null&&i.unshift(qo(e,a,s)),a=Uo(e,n),a!=null&&i.push(qo(e,a,s))),e=e.return}return i}function ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tp(e,n,r,i,s){for(var a=n._reactName,u=[];r!==null&&r!==i;){var c=r,h=c.alternate,p=c.stateNode;if(h!==null&&h===i)break;c.tag===5&&p!==null&&(c=p,s?(h=Uo(r,a),h!=null&&u.unshift(qo(r,h,c))):s||(h=Uo(r,a),h!=null&&u.push(qo(r,h,c)))),r=r.return}u.length!==0&&e.push({event:n,listeners:u})}var Rw=/\r\n?/g,Iw=/\u0000|\uFFFD/g;function Lp(e){return(typeof e=="string"?e:""+e).replace(Rw,`
`).replace(Iw,"")}function Js(e,n,r){if(n=Lp(n),Lp(e)!==n&&r)throw Error(K(425))}function Fa(){}var jc=null,Ec=null;function Tc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lc=typeof setTimeout=="function"?setTimeout:void 0,Dw=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(e){return Mp.resolve(null).then(e).catch(Fw)}:Lc;function Fw(e){setTimeout(function(){throw e})}function Au(e,n){var r=n,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){e.removeChild(s),Zo(n);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);Zo(n)}function ar(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function zp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),hn="__reactFiber$"+Bi,Xo="__reactProps$"+Bi,Dn="__reactContainer$"+Bi,Mc="__reactEvents$"+Bi,Uw="__reactListeners$"+Bi,$w="__reactHandles$"+Bi;function jr(e){var n=e[hn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Dn]||r[hn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=zp(e);e!==null;){if(r=e[hn])return r;e=zp(e)}return n}e=r,r=e.parentNode}return null}function ps(e){return e=e[hn]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function xl(e){return e[Xo]||null}var zc=[],hi=-1;function gr(e){return{current:e}}function Ee(e){0>hi||(e.current=zc[hi],zc[hi]=null,hi--)}function Ce(e,n){hi++,zc[hi]=e.current,e.current=n}var pr={},it=gr(pr),_t=gr(!1),Rr=pr;function Pi(e,n){var r=e.type.contextTypes;if(!r)return pr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=n[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),s}function yt(e){return e=e.childContextTypes,e!=null}function Ua(){Ee(_t),Ee(it)}function Op(e,n,r){if(it.current!==pr)throw Error(K(168));Ce(it,n),Ce(_t,r)}function I0(e,n,r){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in n))throw Error(K(108,C1(e)||"Unknown",s));return Re({},r,i)}function $a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Rr=it.current,Ce(it,e),Ce(_t,_t.current),!0}function Ap(e,n,r){var i=e.stateNode;if(!i)throw Error(K(169));r?(e=I0(e,n,Rr),i.__reactInternalMemoizedMergedChildContext=e,Ee(_t),Ee(it),Ce(it,e)):Ee(_t),Ce(_t,r)}var jn=null,wl=!1,Ru=!1;function D0(e){jn===null?jn=[e]:jn.push(e)}function Hw(e){wl=!0,D0(e)}function vr(){if(!Ru&&jn!==null){Ru=!0;var e=0,n=be;try{var r=jn;for(be=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}jn=null,wl=!1}catch(s){throw jn!==null&&(jn=jn.slice(e+1)),u0(Uf,vr),s}finally{be=n,Ru=!1}}return null}var di=[],pi=0,Ha=null,Za=0,Rt=[],It=0,Ir=null,Tn=1,Ln="";function Nr(e,n){di[pi++]=Za,di[pi++]=Ha,Ha=e,Za=n}function B0(e,n,r){Rt[It++]=Tn,Rt[It++]=Ln,Rt[It++]=Ir,Ir=e;var i=Tn;e=Ln;var s=32-Jt(i)-1;i&=~(1<<s),r+=1;var a=32-Jt(n)+s;if(30<a){var u=s-s%5;a=(i&(1<<u)-1).toString(32),i>>=u,s-=u,Tn=1<<32-Jt(n)+s|r<<s|i,Ln=a+e}else Tn=1<<a|r<<s|i,Ln=e}function Kf(e){e.return!==null&&(Nr(e,1),B0(e,1,0))}function Yf(e){for(;e===Ha;)Ha=di[--pi],di[pi]=null,Za=di[--pi],di[pi]=null;for(;e===Ir;)Ir=Rt[--It],Rt[It]=null,Ln=Rt[--It],Rt[It]=null,Tn=Rt[--It],Rt[It]=null}var Ct=null,Nt=null,Le=!1,Kt=null;function F0(e,n){var r=Ft(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function Rp(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ct=e,Nt=ar(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ct=e,Nt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=Ir!==null?{id:Tn,overflow:Ln}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Ft(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,Ct=e,Nt=null,!0):!1;default:return!1}}function Oc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ac(e){if(Le){var n=Nt;if(n){var r=n;if(!Rp(e,n)){if(Oc(e))throw Error(K(418));n=ar(r.nextSibling);var i=Ct;n&&Rp(e,n)?F0(i,r):(e.flags=e.flags&-4097|2,Le=!1,Ct=e)}}else{if(Oc(e))throw Error(K(418));e.flags=e.flags&-4097|2,Le=!1,Ct=e}}}function Ip(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function ea(e){if(e!==Ct)return!1;if(!Le)return Ip(e),Le=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Tc(e.type,e.memoizedProps)),n&&(n=Nt)){if(Oc(e))throw U0(),Error(K(418));for(;n;)F0(e,n),n=ar(n.nextSibling)}if(Ip(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Nt=ar(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Nt=null}}else Nt=Ct?ar(e.stateNode.nextSibling):null;return!0}function U0(){for(var e=Nt;e;)e=ar(e.nextSibling)}function ji(){Nt=Ct=null,Le=!1}function Qf(e){Kt===null?Kt=[e]:Kt.push(e)}var Zw=$n.ReactCurrentBatchConfig;function so(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var i=r.stateNode}if(!i)throw Error(K(147,e));var s=i,a=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===a?n.ref:(n=function(u){var c=s.refs;u===null?delete c[a]:c[a]=u},n._stringRef=a,n)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function ta(e,n){throw e=Object.prototype.toString.call(n),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Dp(e){var n=e._init;return n(e._payload)}function $0(e){function n(x,k){if(e){var N=x.deletions;N===null?(x.deletions=[k],x.flags|=16):N.push(k)}}function r(x,k){if(!e)return null;for(;k!==null;)n(x,k),k=k.sibling;return null}function i(x,k){for(x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function s(x,k){return x=fr(x,k),x.index=0,x.sibling=null,x}function a(x,k,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<k?(x.flags|=2,k):N):(x.flags|=2,k)):(x.flags|=1048576,k)}function u(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,k,N,j){return k===null||k.tag!==6?(k=Hu(N,x.mode,j),k.return=x,k):(k=s(k,N),k.return=x,k)}function h(x,k,N,j){var E=N.type;return E===ai?g(x,k,N.props.children,j,N.key):k!==null&&(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Kn&&Dp(E)===k.type)?(j=s(k,N.props),j.ref=so(x,k,N),j.return=x,j):(j=Ca(N.type,N.key,N.props,null,x.mode,j),j.ref=so(x,k,N),j.return=x,j)}function p(x,k,N,j){return k===null||k.tag!==4||k.stateNode.containerInfo!==N.containerInfo||k.stateNode.implementation!==N.implementation?(k=Zu(N,x.mode,j),k.return=x,k):(k=s(k,N.children||[]),k.return=x,k)}function g(x,k,N,j,E){return k===null||k.tag!==7?(k=zr(N,x.mode,j,E),k.return=x,k):(k=s(k,N),k.return=x,k)}function d(x,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Hu(""+k,x.mode,N),k.return=x,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zs:return N=Ca(k.type,k.key,k.props,null,x.mode,N),N.ref=so(x,null,k),N.return=x,N;case si:return k=Zu(k,x.mode,N),k.return=x,k;case Kn:var j=k._init;return d(x,j(k._payload),N)}if(yo(k)||to(k))return k=zr(k,x.mode,N,null),k.return=x,k;ta(x,k)}return null}function _(x,k,N,j){var E=k!==null?k.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return E!==null?null:c(x,k,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Zs:return N.key===E?h(x,k,N,j):null;case si:return N.key===E?p(x,k,N,j):null;case Kn:return E=N._init,_(x,k,E(N._payload),j)}if(yo(N)||to(N))return E!==null?null:g(x,k,N,j,null);ta(x,N)}return null}function y(x,k,N,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(N)||null,c(k,x,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zs:return x=x.get(j.key===null?N:j.key)||null,h(k,x,j,E);case si:return x=x.get(j.key===null?N:j.key)||null,p(k,x,j,E);case Kn:var T=j._init;return y(x,k,N,T(j._payload),E)}if(yo(j)||to(j))return x=x.get(N)||null,g(k,x,j,E,null);ta(k,j)}return null}function w(x,k,N,j){for(var E=null,T=null,z=k,O=k=0,B=null;z!==null&&O<N.length;O++){z.index>O?(B=z,z=null):B=z.sibling;var D=_(x,z,N[O],j);if(D===null){z===null&&(z=B);break}e&&z&&D.alternate===null&&n(x,z),k=a(D,k,O),T===null?E=D:T.sibling=D,T=D,z=B}if(O===N.length)return r(x,z),Le&&Nr(x,O),E;if(z===null){for(;O<N.length;O++)z=d(x,N[O],j),z!==null&&(k=a(z,k,O),T===null?E=z:T.sibling=z,T=z);return Le&&Nr(x,O),E}for(z=i(x,z);O<N.length;O++)B=y(z,x,O,N[O],j),B!==null&&(e&&B.alternate!==null&&z.delete(B.key===null?O:B.key),k=a(B,k,O),T===null?E=B:T.sibling=B,T=B);return e&&z.forEach(function(V){return n(x,V)}),Le&&Nr(x,O),E}function S(x,k,N,j){var E=to(N);if(typeof E!="function")throw Error(K(150));if(N=E.call(N),N==null)throw Error(K(151));for(var T=E=null,z=k,O=k=0,B=null,D=N.next();z!==null&&!D.done;O++,D=N.next()){z.index>O?(B=z,z=null):B=z.sibling;var V=_(x,z,D.value,j);if(V===null){z===null&&(z=B);break}e&&z&&V.alternate===null&&n(x,z),k=a(V,k,O),T===null?E=V:T.sibling=V,T=V,z=B}if(D.done)return r(x,z),Le&&Nr(x,O),E;if(z===null){for(;!D.done;O++,D=N.next())D=d(x,D.value,j),D!==null&&(k=a(D,k,O),T===null?E=D:T.sibling=D,T=D);return Le&&Nr(x,O),E}for(z=i(x,z);!D.done;O++,D=N.next())D=y(z,x,O,D.value,j),D!==null&&(e&&D.alternate!==null&&z.delete(D.key===null?O:D.key),k=a(D,k,O),T===null?E=D:T.sibling=D,T=D);return e&&z.forEach(function(H){return n(x,H)}),Le&&Nr(x,O),E}function P(x,k,N,j){if(typeof N=="object"&&N!==null&&N.type===ai&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Zs:e:{for(var E=N.key,T=k;T!==null;){if(T.key===E){if(E=N.type,E===ai){if(T.tag===7){r(x,T.sibling),k=s(T,N.props.children),k.return=x,x=k;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Kn&&Dp(E)===T.type){r(x,T.sibling),k=s(T,N.props),k.ref=so(x,T,N),k.return=x,x=k;break e}r(x,T);break}else n(x,T);T=T.sibling}N.type===ai?(k=zr(N.props.children,x.mode,j,N.key),k.return=x,x=k):(j=Ca(N.type,N.key,N.props,null,x.mode,j),j.ref=so(x,k,N),j.return=x,x=j)}return u(x);case si:e:{for(T=N.key;k!==null;){if(k.key===T)if(k.tag===4&&k.stateNode.containerInfo===N.containerInfo&&k.stateNode.implementation===N.implementation){r(x,k.sibling),k=s(k,N.children||[]),k.return=x,x=k;break e}else{r(x,k);break}else n(x,k);k=k.sibling}k=Zu(N,x.mode,j),k.return=x,x=k}return u(x);case Kn:return T=N._init,P(x,k,T(N._payload),j)}if(yo(N))return w(x,k,N,j);if(to(N))return S(x,k,N,j);ta(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,k!==null&&k.tag===6?(r(x,k.sibling),k=s(k,N),k.return=x,x=k):(r(x,k),k=Hu(N,x.mode,j),k.return=x,x=k),u(x)):r(x,k)}return P}var Ei=$0(!0),H0=$0(!1),Wa=gr(null),Va=null,mi=null,Jf=null;function eh(){Jf=mi=Va=null}function th(e){var n=Wa.current;Ee(Wa),e._currentValue=n}function Rc(e,n,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===r)break;e=e.return}}function bi(e,n){Va=e,Jf=mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(gt=!0),e.firstContext=null)}function $t(e){var n=e._currentValue;if(Jf!==e)if(e={context:e,memoizedValue:n,next:null},mi===null){if(Va===null)throw Error(K(308));mi=e,Va.dependencies={lanes:0,firstContext:e}}else mi=mi.next=e;return n}var Er=null;function nh(e){Er===null?Er=[e]:Er.push(e)}function Z0(e,n,r,i){var s=n.interleaved;return s===null?(r.next=r,nh(n)):(r.next=s.next,s.next=r),n.interleaved=r,Bn(e,i)}function Bn(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yn=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W0(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function On(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function lr(e,n,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,_e&2){var s=i.pending;return s===null?n.next=n:(n.next=s.next,s.next=n),i.pending=n,Bn(e,r)}return s=i.interleaved,s===null?(n.next=n,nh(i)):(n.next=s.next,s.next=n),i.interleaved=n,Bn(e,r)}function xa(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,$f(e,r)}}function Bp(e,n){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=u:a=a.next=u,r=r.next}while(r!==null);a===null?s=a=n:a=a.next=n}else s=a=n;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Ga(e,n,r,i){var s=e.updateQueue;Yn=!1;var a=s.firstBaseUpdate,u=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var h=c,p=h.next;h.next=null,u===null?a=p:u.next=p,u=h;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==u&&(c===null?g.firstBaseUpdate=p:c.next=p,g.lastBaseUpdate=h))}if(a!==null){var d=s.baseState;u=0,g=p=h=null,c=a;do{var _=c.lane,y=c.eventTime;if((i&_)===_){g!==null&&(g=g.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,S=c;switch(_=n,y=r,S.tag){case 1:if(w=S.payload,typeof w=="function"){d=w.call(y,d,_);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,_=typeof w=="function"?w.call(y,d,_):w,_==null)break e;d=Re({},d,_);break e;case 2:Yn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,_=s.effects,_===null?s.effects=[c]:_.push(c))}else y={eventTime:y,lane:_,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(p=g=y,h=d):g=g.next=y,u|=_;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;_=c,c=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);if(g===null&&(h=d),s.baseState=h,s.firstBaseUpdate=p,s.lastBaseUpdate=g,n=s.shared.interleaved,n!==null){s=n;do u|=s.lane,s=s.next;while(s!==n)}else a===null&&(s.shared.lanes=0);Br|=u,e.lanes=u,e.memoizedState=d}}function Fp(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(K(191,s));s.call(i)}}}var ms={},mn=gr(ms),Ko=gr(ms),Yo=gr(ms);function Tr(e){if(e===ms)throw Error(K(174));return e}function ih(e,n){switch(Ce(Yo,n),Ce(Ko,e),Ce(mn,ms),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:gc(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=gc(n,e)}Ee(mn),Ce(mn,n)}function Ti(){Ee(mn),Ee(Ko),Ee(Yo)}function V0(e){Tr(Yo.current);var n=Tr(mn.current),r=gc(n,e.type);n!==r&&(Ce(Ko,e),Ce(mn,r))}function oh(e){Ko.current===e&&(Ee(mn),Ee(Ko))}var Oe=gr(0);function qa(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Iu=[];function sh(){for(var e=0;e<Iu.length;e++)Iu[e]._workInProgressVersionPrimary=null;Iu.length=0}var wa=$n.ReactCurrentDispatcher,Du=$n.ReactCurrentBatchConfig,Dr=0,Ae=null,Ze=null,Ge=null,Xa=!1,Lo=!1,Qo=0,Ww=0;function et(){throw Error(K(321))}function ah(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!tn(e[r],n[r]))return!1;return!0}function lh(e,n,r,i,s,a){if(Dr=a,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,wa.current=e===null||e.memoizedState===null?Xw:Kw,e=r(i,s),Lo){a=0;do{if(Lo=!1,Qo=0,25<=a)throw Error(K(301));a+=1,Ge=Ze=null,n.updateQueue=null,wa.current=Yw,e=r(i,s)}while(Lo)}if(wa.current=Ka,n=Ze!==null&&Ze.next!==null,Dr=0,Ge=Ze=Ae=null,Xa=!1,n)throw Error(K(300));return e}function uh(){var e=Qo!==0;return Qo=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ae.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Ht(){if(Ze===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var n=Ge===null?Ae.memoizedState:Ge.next;if(n!==null)Ge=n,Ze=e;else{if(e===null)throw Error(K(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ge===null?Ae.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Jo(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=Ht(),r=n.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var i=Ze,s=i.baseQueue,a=r.pending;if(a!==null){if(s!==null){var u=s.next;s.next=a.next,a.next=u}i.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,i=i.baseState;var c=u=null,h=null,p=a;do{var g=p.lane;if((Dr&g)===g)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:e(i,p.action);else{var d={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(c=h=d,u=i):h=h.next=d,Ae.lanes|=g,Br|=g}p=p.next}while(p!==null&&p!==a);h===null?u=i:h.next=c,tn(i,n.memoizedState)||(gt=!0),n.memoizedState=i,n.baseState=u,n.baseQueue=h,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ae.lanes|=a,Br|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Fu(e){var n=Ht(),r=n.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,a=n.memoizedState;if(s!==null){r.pending=null;var u=s=s.next;do a=e(a,u.action),u=u.next;while(u!==s);tn(a,n.memoizedState)||(gt=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),r.lastRenderedState=a}return[a,i]}function G0(){}function q0(e,n){var r=Ae,i=Ht(),s=n(),a=!tn(i.memoizedState,s);if(a&&(i.memoizedState=s,gt=!0),i=i.queue,ch(Y0.bind(null,r,i,e),[e]),i.getSnapshot!==n||a||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,es(9,K0.bind(null,r,i,s,n),void 0,null),qe===null)throw Error(K(349));Dr&30||X0(r,n,s)}return s}function X0(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ae.updateQueue,n===null?(n={lastEffect:null,stores:null},Ae.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function K0(e,n,r,i){n.value=r,n.getSnapshot=i,Q0(n)&&J0(e)}function Y0(e,n,r){return r(function(){Q0(n)&&J0(e)})}function Q0(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!tn(e,r)}catch{return!0}}function J0(e){var n=Bn(e,1);n!==null&&en(n,e,1,-1)}function Up(e){var n=un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:e},n.queue=e,e=e.dispatch=qw.bind(null,Ae,e),[n.memoizedState,e]}function es(e,n,r,i){return e={tag:e,create:n,destroy:r,deps:i,next:null},n=Ae.updateQueue,n===null?(n={lastEffect:null,stores:null},Ae.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,n.lastEffect=e)),e}function ev(){return Ht().memoizedState}function ba(e,n,r,i){var s=un();Ae.flags|=e,s.memoizedState=es(1|n,r,void 0,i===void 0?null:i)}function bl(e,n,r,i){var s=Ht();i=i===void 0?null:i;var a=void 0;if(Ze!==null){var u=Ze.memoizedState;if(a=u.destroy,i!==null&&ah(i,u.deps)){s.memoizedState=es(n,r,a,i);return}}Ae.flags|=e,s.memoizedState=es(1|n,r,a,i)}function $p(e,n){return ba(8390656,8,e,n)}function ch(e,n){return bl(2048,8,e,n)}function tv(e,n){return bl(4,2,e,n)}function nv(e,n){return bl(4,4,e,n)}function rv(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function iv(e,n,r){return r=r!=null?r.concat([e]):null,bl(4,4,rv.bind(null,n,e),r)}function fh(){}function ov(e,n){var r=Ht();n=n===void 0?null:n;var i=r.memoizedState;return i!==null&&n!==null&&ah(n,i[1])?i[0]:(r.memoizedState=[e,n],e)}function sv(e,n){var r=Ht();n=n===void 0?null:n;var i=r.memoizedState;return i!==null&&n!==null&&ah(n,i[1])?i[0]:(e=e(),r.memoizedState=[e,n],e)}function av(e,n,r){return Dr&21?(tn(r,n)||(r=h0(),Ae.lanes|=r,Br|=r,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=r)}function Vw(e,n){var r=be;be=r!==0&&4>r?r:4,e(!0);var i=Du.transition;Du.transition={};try{e(!1),n()}finally{be=r,Du.transition=i}}function lv(){return Ht().memoizedState}function Gw(e,n,r){var i=cr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},uv(e))cv(n,r);else if(r=Z0(e,n,r,i),r!==null){var s=ut();en(r,e,i,s),fv(r,n,i)}}function qw(e,n,r){var i=cr(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(uv(e))cv(n,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=n.lastRenderedReducer,a!==null))try{var u=n.lastRenderedState,c=a(u,r);if(s.hasEagerState=!0,s.eagerState=c,tn(c,u)){var h=n.interleaved;h===null?(s.next=s,nh(n)):(s.next=h.next,h.next=s),n.interleaved=s;return}}catch{}finally{}r=Z0(e,n,s,i),r!==null&&(s=ut(),en(r,e,i,s),fv(r,n,i))}}function uv(e){var n=e.alternate;return e===Ae||n!==null&&n===Ae}function cv(e,n){Lo=Xa=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function fv(e,n,r){if(r&4194240){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,$f(e,r)}}var Ka={readContext:$t,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Xw={readContext:$t,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:$t,useEffect:$p,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,ba(4194308,4,rv.bind(null,n,e),r)},useLayoutEffect:function(e,n){return ba(4194308,4,e,n)},useInsertionEffect:function(e,n){return ba(4,2,e,n)},useMemo:function(e,n){var r=un();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var i=un();return n=r!==void 0?r(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=Gw.bind(null,Ae,e),[i.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:Up,useDebugValue:fh,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=Up(!1),n=e[0];return e=Vw.bind(null,e[1]),un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var i=Ae,s=un();if(Le){if(r===void 0)throw Error(K(407));r=r()}else{if(r=n(),qe===null)throw Error(K(349));Dr&30||X0(i,n,r)}s.memoizedState=r;var a={value:r,getSnapshot:n};return s.queue=a,$p(Y0.bind(null,i,a,e),[e]),i.flags|=2048,es(9,K0.bind(null,i,a,r,n),void 0,null),r},useId:function(){var e=un(),n=qe.identifierPrefix;if(Le){var r=Ln,i=Tn;r=(i&~(1<<32-Jt(i)-1)).toString(32)+r,n=":"+n+"R"+r,r=Qo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Ww++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Kw={readContext:$t,useCallback:ov,useContext:$t,useEffect:ch,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:sv,useReducer:Bu,useRef:ev,useState:function(){return Bu(Jo)},useDebugValue:fh,useDeferredValue:function(e){var n=Ht();return av(n,Ze.memoizedState,e)},useTransition:function(){var e=Bu(Jo)[0],n=Ht().memoizedState;return[e,n]},useMutableSource:G0,useSyncExternalStore:q0,useId:lv,unstable_isNewReconciler:!1},Yw={readContext:$t,useCallback:ov,useContext:$t,useEffect:ch,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:sv,useReducer:Fu,useRef:ev,useState:function(){return Fu(Jo)},useDebugValue:fh,useDeferredValue:function(e){var n=Ht();return Ze===null?n.memoizedState=e:av(n,Ze.memoizedState,e)},useTransition:function(){var e=Fu(Jo)[0],n=Ht().memoizedState;return[e,n]},useMutableSource:G0,useSyncExternalStore:q0,useId:lv,unstable_isNewReconciler:!1};function qt(e,n){if(e&&e.defaultProps){n=Re({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Ic(e,n,r,i){n=e.memoizedState,r=r(i,n),r=r==null?n:Re({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kl={isMounted:function(e){return(e=e._reactInternals)?Zr(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var i=ut(),s=cr(e),a=On(i,s);a.payload=n,r!=null&&(a.callback=r),n=lr(e,a,s),n!==null&&(en(n,e,s,i),xa(n,e,s))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var i=ut(),s=cr(e),a=On(i,s);a.tag=1,a.payload=n,r!=null&&(a.callback=r),n=lr(e,a,s),n!==null&&(en(n,e,s,i),xa(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=ut(),i=cr(e),s=On(r,i);s.tag=2,n!=null&&(s.callback=n),n=lr(e,s,i),n!==null&&(en(n,e,i,r),xa(n,e,i))}};function Hp(e,n,r,i,s,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,u):n.prototype&&n.prototype.isPureReactComponent?!Vo(r,i)||!Vo(s,a):!0}function hv(e,n,r){var i=!1,s=pr,a=n.contextType;return typeof a=="object"&&a!==null?a=$t(a):(s=yt(n)?Rr:it.current,i=n.contextTypes,a=(i=i!=null)?Pi(e,s):pr),n=new n(r,a),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=kl,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),n}function Zp(e,n,r,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==e&&kl.enqueueReplaceState(n,n.state,null)}function Dc(e,n,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},rh(e);var a=n.contextType;typeof a=="object"&&a!==null?s.context=$t(a):(a=yt(n)?Rr:it.current,s.context=Pi(e,a)),s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Ic(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(n=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),n!==s.state&&kl.enqueueReplaceState(s,s.state,null),Ga(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Li(e,n){try{var r="",i=n;do r+=N1(i),i=i.return;while(i);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:n,stack:s,digest:null}}function Uu(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function Bc(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var Qw=typeof WeakMap=="function"?WeakMap:Map;function dv(e,n,r){r=On(-1,r),r.tag=3,r.payload={element:null};var i=n.value;return r.callback=function(){Qa||(Qa=!0,Xc=i),Bc(e,n)},r}function pv(e,n,r){r=On(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=n.value;r.payload=function(){return i(s)},r.callback=function(){Bc(e,n)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Bc(e,n),typeof i!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var u=n.stack;this.componentDidCatch(n.value,{componentStack:u!==null?u:""})}),r}function Wp(e,n,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Qw;var s=new Set;i.set(n,s)}else s=i.get(n),s===void 0&&(s=new Set,i.set(n,s));s.has(r)||(s.add(r),e=h2.bind(null,e,n,r),n.then(e,e))}function Vp(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Gp(e,n,r,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=On(-1,1),n.tag=2,lr(r,n,1))),r.lanes|=1),e)}var Jw=$n.ReactCurrentOwner,gt=!1;function at(e,n,r,i){n.child=e===null?H0(n,null,r,i):Ei(n,e.child,r,i)}function qp(e,n,r,i,s){r=r.render;var a=n.ref;return bi(n,s),i=lh(e,n,r,i,a,s),r=uh(),e!==null&&!gt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,Fn(e,n,s)):(Le&&r&&Kf(n),n.flags|=1,at(e,n,i,s),n.child)}function Xp(e,n,r,i,s){if(e===null){var a=r.type;return typeof a=="function"&&!yh(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=a,mv(e,n,a,i,s)):(e=Ca(r.type,null,i,n,n.mode,s),e.ref=n.ref,e.return=n,n.child=e)}if(a=e.child,!(e.lanes&s)){var u=a.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(u,i)&&e.ref===n.ref)return Fn(e,n,s)}return n.flags|=1,e=fr(a,i),e.ref=n.ref,e.return=n,n.child=e}function mv(e,n,r,i,s){if(e!==null){var a=e.memoizedProps;if(Vo(a,i)&&e.ref===n.ref)if(gt=!1,n.pendingProps=i=a,(e.lanes&s)!==0)e.flags&131072&&(gt=!0);else return n.lanes=e.lanes,Fn(e,n,s)}return Fc(e,n,r,i,s)}function gv(e,n,r){var i=n.pendingProps,s=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(vi,St),St|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ce(vi,St),St|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:r,Ce(vi,St),St|=i}else a!==null?(i=a.baseLanes|r,n.memoizedState=null):i=r,Ce(vi,St),St|=i;return at(e,n,s,r),n.child}function vv(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function Fc(e,n,r,i,s){var a=yt(r)?Rr:it.current;return a=Pi(n,a),bi(n,s),r=lh(e,n,r,i,a,s),i=uh(),e!==null&&!gt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,Fn(e,n,s)):(Le&&i&&Kf(n),n.flags|=1,at(e,n,r,s),n.child)}function Kp(e,n,r,i,s){if(yt(r)){var a=!0;$a(n)}else a=!1;if(bi(n,s),n.stateNode===null)ka(e,n),hv(n,r,i),Dc(n,r,i,s),i=!0;else if(e===null){var u=n.stateNode,c=n.memoizedProps;u.props=c;var h=u.context,p=r.contextType;typeof p=="object"&&p!==null?p=$t(p):(p=yt(r)?Rr:it.current,p=Pi(n,p));var g=r.getDerivedStateFromProps,d=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";d||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==i||h!==p)&&Zp(n,u,i,p),Yn=!1;var _=n.memoizedState;u.state=_,Ga(n,i,u,s),h=n.memoizedState,c!==i||_!==h||_t.current||Yn?(typeof g=="function"&&(Ic(n,r,g,i),h=n.memoizedState),(c=Yn||Hp(n,r,c,i,_,h,p))?(d||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=h),u.props=i,u.state=h,u.context=p,i=c):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{u=n.stateNode,W0(e,n),c=n.memoizedProps,p=n.type===n.elementType?c:qt(n.type,c),u.props=p,d=n.pendingProps,_=u.context,h=r.contextType,typeof h=="object"&&h!==null?h=$t(h):(h=yt(r)?Rr:it.current,h=Pi(n,h));var y=r.getDerivedStateFromProps;(g=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==d||_!==h)&&Zp(n,u,i,h),Yn=!1,_=n.memoizedState,u.state=_,Ga(n,i,u,s);var w=n.memoizedState;c!==d||_!==w||_t.current||Yn?(typeof y=="function"&&(Ic(n,r,y,i),w=n.memoizedState),(p=Yn||Hp(n,r,p,i,_,w,h)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,w,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,w,h)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=w),u.props=i,u.state=w,u.context=h,i=p):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(n.flags|=1024),i=!1)}return Uc(e,n,r,i,a,s)}function Uc(e,n,r,i,s,a){vv(e,n);var u=(n.flags&128)!==0;if(!i&&!u)return s&&Ap(n,r,!1),Fn(e,n,a);i=n.stateNode,Jw.current=n;var c=u&&typeof r.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&u?(n.child=Ei(n,e.child,null,a),n.child=Ei(n,null,c,a)):at(e,n,c,a),n.memoizedState=i.state,s&&Ap(n,r,!0),n.child}function _v(e){var n=e.stateNode;n.pendingContext?Op(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Op(e,n.context,!1),ih(e,n.containerInfo)}function Yp(e,n,r,i,s){return ji(),Qf(s),n.flags|=256,at(e,n,r,i),n.child}var $c={dehydrated:null,treeContext:null,retryLane:0};function Hc(e){return{baseLanes:e,cachePool:null,transitions:null}}function yv(e,n,r){var i=n.pendingProps,s=Oe.current,a=!1,u=(n.flags&128)!==0,c;if((c=u)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(a=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(Oe,s&1),e===null)return Ac(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(u=i.children,e=i.fallback,a?(i=n.mode,a=n.child,u={mode:"hidden",children:u},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Cl(u,i,0,null),e=zr(e,i,r,null),a.return=n,e.return=n,a.sibling=e,n.child=a,n.child.memoizedState=Hc(r),n.memoizedState=$c,e):hh(n,u));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return e2(e,n,u,i,c,s,r);if(a){a=i.fallback,u=n.mode,s=e.child,c=s.sibling;var h={mode:"hidden",children:i.children};return!(u&1)&&n.child!==s?(i=n.child,i.childLanes=0,i.pendingProps=h,n.deletions=null):(i=fr(s,h),i.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=fr(c,a):(a=zr(a,u,r,null),a.flags|=2),a.return=n,i.return=n,i.sibling=a,n.child=i,i=a,a=n.child,u=e.child.memoizedState,u=u===null?Hc(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~r,n.memoizedState=$c,i}return a=e.child,e=a.sibling,i=fr(a,{mode:"visible",children:i.children}),!(n.mode&1)&&(i.lanes=r),i.return=n,i.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=i,n.memoizedState=null,i}function hh(e,n){return n=Cl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function na(e,n,r,i){return i!==null&&Qf(i),Ei(n,e.child,null,r),e=hh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function e2(e,n,r,i,s,a,u){if(r)return n.flags&256?(n.flags&=-257,i=Uu(Error(K(422))),na(e,n,u,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(a=i.fallback,s=n.mode,i=Cl({mode:"visible",children:i.children},s,0,null),a=zr(a,s,u,null),a.flags|=2,i.return=n,a.return=n,i.sibling=a,n.child=i,n.mode&1&&Ei(n,e.child,null,u),n.child.memoizedState=Hc(u),n.memoizedState=$c,a);if(!(n.mode&1))return na(e,n,u,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var c=i.dgst;return i=c,a=Error(K(419)),i=Uu(a,i,void 0),na(e,n,u,i)}if(c=(u&e.childLanes)!==0,gt||c){if(i=qe,i!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|u)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Bn(e,s),en(i,e,s,-1))}return _h(),i=Uu(Error(K(421))),na(e,n,u,i)}return s.data==="$?"?(n.flags|=128,n.child=e.child,n=d2.bind(null,e),s._reactRetry=n,null):(e=a.treeContext,Nt=ar(s.nextSibling),Ct=n,Le=!0,Kt=null,e!==null&&(Rt[It++]=Tn,Rt[It++]=Ln,Rt[It++]=Ir,Tn=e.id,Ln=e.overflow,Ir=n),n=hh(n,i.children),n.flags|=4096,n)}function Qp(e,n,r){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),Rc(e.return,n,r)}function $u(e,n,r,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=s)}function xv(e,n,r){var i=n.pendingProps,s=i.revealOrder,a=i.tail;if(at(e,n,i.children,r),i=Oe.current,i&2)i=i&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,r,n);else if(e.tag===19)Qp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ce(Oe,i),!(n.mode&1))n.memoizedState=null;else switch(s){case"forwards":for(r=n.child,s=null;r!==null;)e=r.alternate,e!==null&&qa(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=n.child,n.child=null):(s=r.sibling,r.sibling=null),$u(n,!1,s,r,a);break;case"backwards":for(r=null,s=n.child,n.child=null;s!==null;){if(e=s.alternate,e!==null&&qa(e)===null){n.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$u(n,!0,r,null,a);break;case"together":$u(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ka(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Fn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Br|=n.lanes,!(r&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(K(153));if(n.child!==null){for(e=n.child,r=fr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=fr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function t2(e,n,r){switch(n.tag){case 3:_v(n),ji();break;case 5:V0(n);break;case 1:yt(n.type)&&$a(n);break;case 4:ih(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,s=n.memoizedProps.value;Ce(Wa,i._currentValue),i._currentValue=s;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(Ce(Oe,Oe.current&1),n.flags|=128,null):r&n.child.childLanes?yv(e,n,r):(Ce(Oe,Oe.current&1),e=Fn(e,n,r),e!==null?e.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(i=(r&n.childLanes)!==0,e.flags&128){if(i)return xv(e,n,r);n.flags|=128}if(s=n.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Oe,Oe.current),i)break;return null;case 22:case 23:return n.lanes=0,gv(e,n,r)}return Fn(e,n,r)}var wv,Zc,bv,kv;wv=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zc=function(){};bv=function(e,n,r,i){var s=e.memoizedProps;if(s!==i){e=n.stateNode,Tr(mn.current);var a=null;switch(r){case"input":s=hc(e,s),i=hc(e,i),a=[];break;case"select":s=Re({},s,{value:void 0}),i=Re({},i,{value:void 0}),a=[];break;case"textarea":s=mc(e,s),i=mc(e,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Fa)}vc(r,i);var u;r=null;for(p in s)if(!i.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var c=s[p];for(u in c)c.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Bo.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in i){var h=i[p];if(c=s!=null?s[p]:void 0,i.hasOwnProperty(p)&&h!==c&&(h!=null||c!=null))if(p==="style")if(c){for(u in c)!c.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in h)h.hasOwnProperty(u)&&c[u]!==h[u]&&(r||(r={}),r[u]=h[u])}else r||(a||(a=[]),a.push(p,r)),r=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(a=a||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(a=a||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Bo.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&Pe("scroll",e),a||c===h||(a=[])):(a=a||[]).push(p,h))}r&&(a=a||[]).push("style",r);var p=a;(n.updateQueue=p)&&(n.flags|=4)}};kv=function(e,n,r,i){r!==i&&(n.flags|=4)};function ao(e,n){if(!Le)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(n)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,n}function n2(e,n,r){var i=n.pendingProps;switch(Yf(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return yt(n.type)&&Ua(),tt(n),null;case 3:return i=n.stateNode,Ti(),Ee(_t),Ee(it),sh(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ea(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Kt!==null&&(Qc(Kt),Kt=null))),Zc(e,n),tt(n),null;case 5:oh(n);var s=Tr(Yo.current);if(r=n.type,e!==null&&n.stateNode!=null)bv(e,n,r,i,s),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(K(166));return tt(n),null}if(e=Tr(mn.current),ea(n)){i=n.stateNode,r=n.type;var a=n.memoizedProps;switch(i[hn]=n,i[Xo]=a,e=(n.mode&1)!==0,r){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(s=0;s<wo.length;s++)Pe(wo[s],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":ap(i,a),Pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Pe("invalid",i);break;case"textarea":up(i,a),Pe("invalid",i)}vc(r,a),s=null;for(var u in a)if(a.hasOwnProperty(u)){var c=a[u];u==="children"?typeof c=="string"?i.textContent!==c&&(a.suppressHydrationWarning!==!0&&Js(i.textContent,c,e),s=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Js(i.textContent,c,e),s=["children",""+c]):Bo.hasOwnProperty(u)&&c!=null&&u==="onScroll"&&Pe("scroll",i)}switch(r){case"input":Ws(i),lp(i,a,!0);break;case"textarea":Ws(i),cp(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Fa)}i=s,n.updateQueue=i,i!==null&&(n.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=u.createElement(r,{is:i.is}):(e=u.createElement(r),r==="select"&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,r),e[hn]=n,e[Xo]=i,wv(e,n,!1,!1),n.stateNode=e;e:{switch(u=_c(r,i),r){case"dialog":Pe("cancel",e),Pe("close",e),s=i;break;case"iframe":case"object":case"embed":Pe("load",e),s=i;break;case"video":case"audio":for(s=0;s<wo.length;s++)Pe(wo[s],e);s=i;break;case"source":Pe("error",e),s=i;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),s=i;break;case"details":Pe("toggle",e),s=i;break;case"input":ap(e,i),s=hc(e,i),Pe("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Re({},i,{value:void 0}),Pe("invalid",e);break;case"textarea":up(e,i),s=mc(e,i),Pe("invalid",e);break;default:s=i}vc(r,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];a==="style"?e0(e,h):a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Qg(e,h)):a==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&Fo(e,h):typeof h=="number"&&Fo(e,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bo.hasOwnProperty(a)?h!=null&&a==="onScroll"&&Pe("scroll",e):h!=null&&Rf(e,a,h,u))}switch(r){case"input":Ws(e),lp(e,i,!1);break;case"textarea":Ws(e),cp(e);break;case"option":i.value!=null&&e.setAttribute("value",""+dr(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?_i(e,!!i.multiple,a,!1):i.defaultValue!=null&&_i(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fa)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return tt(n),null;case 6:if(e&&n.stateNode!=null)kv(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(K(166));if(r=Tr(Yo.current),Tr(mn.current),ea(n)){if(i=n.stateNode,r=n.memoizedProps,i[hn]=n,(a=i.nodeValue!==r)&&(e=Ct,e!==null))switch(e.tag){case 3:Js(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Js(i.nodeValue,r,(e.mode&1)!==0)}a&&(n.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[hn]=n,n.stateNode=i}return tt(n),null;case 13:if(Ee(Oe),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Nt!==null&&n.mode&1&&!(n.flags&128))U0(),ji(),n.flags|=98560,a=!1;else if(a=ea(n),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(K(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(K(317));a[hn]=n}else ji(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;tt(n),a=!1}else Kt!==null&&(Qc(Kt),Kt=null),a=!0;if(!a)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,n.mode&1&&(e===null||Oe.current&1?We===0&&(We=3):_h())),n.updateQueue!==null&&(n.flags|=4),tt(n),null);case 4:return Ti(),Zc(e,n),e===null&&Go(n.stateNode.containerInfo),tt(n),null;case 10:return th(n.type._context),tt(n),null;case 17:return yt(n.type)&&Ua(),tt(n),null;case 19:if(Ee(Oe),a=n.memoizedState,a===null)return tt(n),null;if(i=(n.flags&128)!==0,u=a.rendering,u===null)if(i)ao(a,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(u=qa(e),u!==null){for(n.flags|=128,ao(a,!1),i=u.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=r,r=n.child;r!==null;)a=r,e=i,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Oe,Oe.current&1|2),n.child}e=e.sibling}a.tail!==null&&Be()>Mi&&(n.flags|=128,i=!0,ao(a,!1),n.lanes=4194304)}else{if(!i)if(e=qa(u),e!==null){if(n.flags|=128,i=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),ao(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Le)return tt(n),null}else 2*Be()-a.renderingStartTime>Mi&&r!==1073741824&&(n.flags|=128,i=!0,ao(a,!1),n.lanes=4194304);a.isBackwards?(u.sibling=n.child,n.child=u):(r=a.last,r!==null?r.sibling=u:n.child=u,a.last=u)}return a.tail!==null?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=Be(),n.sibling=null,r=Oe.current,Ce(Oe,i?r&1|2:r&1),n):(tt(n),null);case 22:case 23:return vh(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&n.mode&1?St&1073741824&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),null;case 24:return null;case 25:return null}throw Error(K(156,n.tag))}function r2(e,n){switch(Yf(n),n.tag){case 1:return yt(n.type)&&Ua(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ti(),Ee(_t),Ee(it),sh(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return oh(n),null;case 13:if(Ee(Oe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(K(340));ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ee(Oe),null;case 4:return Ti(),null;case 10:return th(n.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var ra=!1,rt=!1,i2=typeof WeakSet=="function"?WeakSet:Set,ie=null;function gi(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Ie(e,n,i)}else r.current=null}function Wc(e,n,r){try{r()}catch(i){Ie(e,n,i)}}var Jp=!1;function o2(e,n){if(jc=Ia,e=j0(),Xf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var u=0,c=-1,h=-1,p=0,g=0,d=e,_=null;t:for(;;){for(var y;d!==r||s!==0&&d.nodeType!==3||(c=u+s),d!==a||i!==0&&d.nodeType!==3||(h=u+i),d.nodeType===3&&(u+=d.nodeValue.length),(y=d.firstChild)!==null;)_=d,d=y;for(;;){if(d===e)break t;if(_===r&&++p===s&&(c=u),_===a&&++g===i&&(h=u),(y=d.nextSibling)!==null)break;d=_,_=d.parentNode}d=y}r=c===-1||h===-1?null:{start:c,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ec={focusedElem:e,selectionRange:r},Ia=!1,ie=n;ie!==null;)if(n=ie,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ie=e;else for(;ie!==null;){n=ie;try{var w=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,P=w.memoizedState,x=n.stateNode,k=x.getSnapshotBeforeUpdate(n.elementType===n.type?S:qt(n.type,S),P);x.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var N=n.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){Ie(n,n.return,j)}if(e=n.sibling,e!==null){e.return=n.return,ie=e;break}ie=n.return}return w=Jp,Jp=!1,w}function Mo(e,n,r){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Wc(n,r,a)}s=s.next}while(s!==i)}}function Sl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==n)}}function Vc(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function Sv(e){var n=e.alternate;n!==null&&(e.alternate=null,Sv(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[hn],delete n[Xo],delete n[Mc],delete n[Uw],delete n[$w])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nv(e){return e.tag===5||e.tag===3||e.tag===4}function em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gc(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fa));else if(i!==4&&(e=e.child,e!==null))for(Gc(e,n,r),e=e.sibling;e!==null;)Gc(e,n,r),e=e.sibling}function qc(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(qc(e,n,r),e=e.sibling;e!==null;)qc(e,n,r),e=e.sibling}var Ke=null,Xt=!1;function Vn(e,n,r){for(r=r.child;r!==null;)Cv(e,n,r),r=r.sibling}function Cv(e,n,r){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(gl,r)}catch{}switch(r.tag){case 5:rt||gi(r,n);case 6:var i=Ke,s=Xt;Ke=null,Vn(e,n,r),Ke=i,Xt=s,Ke!==null&&(Xt?(e=Ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ke.removeChild(r.stateNode));break;case 18:Ke!==null&&(Xt?(e=Ke,r=r.stateNode,e.nodeType===8?Au(e.parentNode,r):e.nodeType===1&&Au(e,r),Zo(e)):Au(Ke,r.stateNode));break;case 4:i=Ke,s=Xt,Ke=r.stateNode.containerInfo,Xt=!0,Vn(e,n,r),Ke=i,Xt=s;break;case 0:case 11:case 14:case 15:if(!rt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Wc(r,n,u),s=s.next}while(s!==i)}Vn(e,n,r);break;case 1:if(!rt&&(gi(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(c){Ie(r,n,c)}Vn(e,n,r);break;case 21:Vn(e,n,r);break;case 22:r.mode&1?(rt=(i=rt)||r.memoizedState!==null,Vn(e,n,r),rt=i):Vn(e,n,r);break;default:Vn(e,n,r)}}function tm(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new i2),n.forEach(function(i){var s=p2.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function Vt(e,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var a=e,u=n,c=u;e:for(;c!==null;){switch(c.tag){case 5:Ke=c.stateNode,Xt=!1;break e;case 3:Ke=c.stateNode.containerInfo,Xt=!0;break e;case 4:Ke=c.stateNode.containerInfo,Xt=!0;break e}c=c.return}if(Ke===null)throw Error(K(160));Cv(a,u,s),Ke=null,Xt=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(p){Ie(s,n,p)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Pv(n,e),n=n.sibling}function Pv(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(n,e),ln(e),i&4){try{Mo(3,e,e.return),Sl(3,e)}catch(S){Ie(e,e.return,S)}try{Mo(5,e,e.return)}catch(S){Ie(e,e.return,S)}}break;case 1:Vt(n,e),ln(e),i&512&&r!==null&&gi(r,r.return);break;case 5:if(Vt(n,e),ln(e),i&512&&r!==null&&gi(r,r.return),e.flags&32){var s=e.stateNode;try{Fo(s,"")}catch(S){Ie(e,e.return,S)}}if(i&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,u=r!==null?r.memoizedProps:a,c=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Xg(s,a),_c(c,u);var p=_c(c,a);for(u=0;u<h.length;u+=2){var g=h[u],d=h[u+1];g==="style"?e0(s,d):g==="dangerouslySetInnerHTML"?Qg(s,d):g==="children"?Fo(s,d):Rf(s,g,d,p)}switch(c){case"input":dc(s,a);break;case"textarea":Kg(s,a);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?_i(s,!!a.multiple,y,!1):_!==!!a.multiple&&(a.defaultValue!=null?_i(s,!!a.multiple,a.defaultValue,!0):_i(s,!!a.multiple,a.multiple?[]:"",!1))}s[Xo]=a}catch(S){Ie(e,e.return,S)}}break;case 6:if(Vt(n,e),ln(e),i&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(S){Ie(e,e.return,S)}}break;case 3:if(Vt(n,e),ln(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Zo(n.containerInfo)}catch(S){Ie(e,e.return,S)}break;case 4:Vt(n,e),ln(e);break;case 13:Vt(n,e),ln(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(mh=Be())),i&4&&tm(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(rt=(p=rt)||g,Vt(n,e),rt=p):Vt(n,e),ln(e),i&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for(ie=e,g=e.child;g!==null;){for(d=ie=g;ie!==null;){switch(_=ie,y=_.child,_.tag){case 0:case 11:case 14:case 15:Mo(4,_,_.return);break;case 1:gi(_,_.return);var w=_.stateNode;if(typeof w.componentWillUnmount=="function"){i=_,r=_.return;try{n=i,w.props=n.memoizedProps,w.state=n.memoizedState,w.componentWillUnmount()}catch(S){Ie(i,r,S)}}break;case 5:gi(_,_.return);break;case 22:if(_.memoizedState!==null){rm(d);continue}}y!==null?(y.return=_,ie=y):rm(d)}g=g.sibling}e:for(g=null,d=e;;){if(d.tag===5){if(g===null){g=d;try{s=d.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=d.stateNode,h=d.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=Jg("display",u))}catch(S){Ie(e,e.return,S)}}}else if(d.tag===6){if(g===null)try{d.stateNode.nodeValue=p?"":d.memoizedProps}catch(S){Ie(e,e.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vt(n,e),ln(e),i&4&&tm(e);break;case 21:break;default:Vt(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(Nv(r)){var i=r;break e}r=r.return}throw Error(K(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Fo(s,""),i.flags&=-33);var a=em(e);qc(e,a,s);break;case 3:case 4:var u=i.stateNode.containerInfo,c=em(e);Gc(e,c,u);break;default:throw Error(K(161))}}catch(h){Ie(e,e.return,h)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function s2(e,n,r){ie=e,jv(e)}function jv(e,n,r){for(var i=(e.mode&1)!==0;ie!==null;){var s=ie,a=s.child;if(s.tag===22&&i){var u=s.memoizedState!==null||ra;if(!u){var c=s.alternate,h=c!==null&&c.memoizedState!==null||rt;c=ra;var p=rt;if(ra=u,(rt=h)&&!p)for(ie=s;ie!==null;)u=ie,h=u.child,u.tag===22&&u.memoizedState!==null?im(s):h!==null?(h.return=u,ie=h):im(s);for(;a!==null;)ie=a,jv(a),a=a.sibling;ie=s,ra=c,rt=p}nm(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ie=a):nm(e)}}function nm(e){for(;ie!==null;){var n=ie;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:rt||Sl(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!rt)if(r===null)i.componentDidMount();else{var s=n.elementType===n.type?r.memoizedProps:qt(n.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=n.updateQueue;a!==null&&Fp(n,a,i);break;case 3:var u=n.updateQueue;if(u!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}Fp(n,u,r)}break;case 5:var c=n.stateNode;if(r===null&&n.flags&4){r=c;var h=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var p=n.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var d=g.dehydrated;d!==null&&Zo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}rt||n.flags&512&&Vc(n)}catch(_){Ie(n,n.return,_)}}if(n===e){ie=null;break}if(r=n.sibling,r!==null){r.return=n.return,ie=r;break}ie=n.return}}function rm(e){for(;ie!==null;){var n=ie;if(n===e){ie=null;break}var r=n.sibling;if(r!==null){r.return=n.return,ie=r;break}ie=n.return}}function im(e){for(;ie!==null;){var n=ie;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Sl(4,n)}catch(h){Ie(n,r,h)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var s=n.return;try{i.componentDidMount()}catch(h){Ie(n,s,h)}}var a=n.return;try{Vc(n)}catch(h){Ie(n,a,h)}break;case 5:var u=n.return;try{Vc(n)}catch(h){Ie(n,u,h)}}}catch(h){Ie(n,n.return,h)}if(n===e){ie=null;break}var c=n.sibling;if(c!==null){c.return=n.return,ie=c;break}ie=n.return}}var a2=Math.ceil,Ya=$n.ReactCurrentDispatcher,dh=$n.ReactCurrentOwner,Ut=$n.ReactCurrentBatchConfig,_e=0,qe=null,$e=null,Ye=0,St=0,vi=gr(0),We=0,ts=null,Br=0,Nl=0,ph=0,zo=null,mt=null,mh=0,Mi=1/0,Pn=null,Qa=!1,Xc=null,ur=null,ia=!1,nr=null,Ja=0,Oo=0,Kc=null,Sa=-1,Na=0;function ut(){return _e&6?Be():Sa!==-1?Sa:Sa=Be()}function cr(e){return e.mode&1?_e&2&&Ye!==0?Ye&-Ye:Zw.transition!==null?(Na===0&&(Na=h0()),Na):(e=be,e!==0||(e=window.event,e=e===void 0?16:y0(e.type)),e):1}function en(e,n,r,i){if(50<Oo)throw Oo=0,Kc=null,Error(K(185));hs(e,r,i),(!(_e&2)||e!==qe)&&(e===qe&&(!(_e&2)&&(Nl|=r),We===4&&er(e,Ye)),xt(e,i),r===1&&_e===0&&!(n.mode&1)&&(Mi=Be()+500,wl&&vr()))}function xt(e,n){var r=e.callbackNode;Z1(e,n);var i=Ra(e,e===qe?Ye:0);if(i===0)r!==null&&dp(r),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(r!=null&&dp(r),n===1)e.tag===0?Hw(om.bind(null,e)):D0(om.bind(null,e)),Bw(function(){!(_e&6)&&vr()}),r=null;else{switch(d0(i)){case 1:r=Uf;break;case 4:r=c0;break;case 16:r=Aa;break;case 536870912:r=f0;break;default:r=Aa}r=Rv(r,Ev.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function Ev(e,n){if(Sa=-1,Na=0,_e&6)throw Error(K(327));var r=e.callbackNode;if(ki()&&e.callbackNode!==r)return null;var i=Ra(e,e===qe?Ye:0);if(i===0)return null;if(i&30||i&e.expiredLanes||n)n=el(e,i);else{n=i;var s=_e;_e|=2;var a=Lv();(qe!==e||Ye!==n)&&(Pn=null,Mi=Be()+500,Mr(e,n));do try{c2();break}catch(c){Tv(e,c)}while(!0);eh(),Ya.current=a,_e=s,$e!==null?n=0:(qe=null,Ye=0,n=We)}if(n!==0){if(n===2&&(s=kc(e),s!==0&&(i=s,n=Yc(e,s))),n===1)throw r=ts,Mr(e,0),er(e,i),xt(e,Be()),r;if(n===6)er(e,i);else{if(s=e.current.alternate,!(i&30)&&!l2(s)&&(n=el(e,i),n===2&&(a=kc(e),a!==0&&(i=a,n=Yc(e,a))),n===1))throw r=ts,Mr(e,0),er(e,i),xt(e,Be()),r;switch(e.finishedWork=s,e.finishedLanes=i,n){case 0:case 1:throw Error(K(345));case 2:Cr(e,mt,Pn);break;case 3:if(er(e,i),(i&130023424)===i&&(n=mh+500-Be(),10<n)){if(Ra(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Lc(Cr.bind(null,e,mt,Pn),n);break}Cr(e,mt,Pn);break;case 4:if(er(e,i),(i&4194240)===i)break;for(n=e.eventTimes,s=-1;0<i;){var u=31-Jt(i);a=1<<u,u=n[u],u>s&&(s=u),i&=~a}if(i=s,i=Be()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*a2(i/1960))-i,10<i){e.timeoutHandle=Lc(Cr.bind(null,e,mt,Pn),i);break}Cr(e,mt,Pn);break;case 5:Cr(e,mt,Pn);break;default:throw Error(K(329))}}}return xt(e,Be()),e.callbackNode===r?Ev.bind(null,e):null}function Yc(e,n){var r=zo;return e.current.memoizedState.isDehydrated&&(Mr(e,n).flags|=256),e=el(e,n),e!==2&&(n=mt,mt=r,n!==null&&Qc(n)),e}function Qc(e){mt===null?mt=e:mt.push.apply(mt,e)}function l2(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],a=s.getSnapshot;s=s.value;try{if(!tn(a(),s))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(e,n){for(n&=~ph,n&=~Nl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-Jt(n),i=1<<r;e[r]=-1,n&=~i}}function om(e){if(_e&6)throw Error(K(327));ki();var n=Ra(e,0);if(!(n&1))return xt(e,Be()),null;var r=el(e,n);if(e.tag!==0&&r===2){var i=kc(e);i!==0&&(n=i,r=Yc(e,i))}if(r===1)throw r=ts,Mr(e,0),er(e,n),xt(e,Be()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Cr(e,mt,Pn),xt(e,Be()),null}function gh(e,n){var r=_e;_e|=1;try{return e(n)}finally{_e=r,_e===0&&(Mi=Be()+500,wl&&vr())}}function Fr(e){nr!==null&&nr.tag===0&&!(_e&6)&&ki();var n=_e;_e|=1;var r=Ut.transition,i=be;try{if(Ut.transition=null,be=1,e)return e()}finally{be=i,Ut.transition=r,_e=n,!(_e&6)&&vr()}}function vh(){St=vi.current,Ee(vi)}function Mr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Dw(r)),$e!==null)for(r=$e.return;r!==null;){var i=r;switch(Yf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ua();break;case 3:Ti(),Ee(_t),Ee(it),sh();break;case 5:oh(i);break;case 4:Ti();break;case 13:Ee(Oe);break;case 19:Ee(Oe);break;case 10:th(i.type._context);break;case 22:case 23:vh()}r=r.return}if(qe=e,$e=e=fr(e.current,null),Ye=St=n,We=0,ts=null,ph=Nl=Br=0,mt=zo=null,Er!==null){for(n=0;n<Er.length;n++)if(r=Er[n],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,a=r.pending;if(a!==null){var u=a.next;a.next=s,i.next=u}r.pending=i}Er=null}return e}function Tv(e,n){do{var r=$e;try{if(eh(),wa.current=Ka,Xa){for(var i=Ae.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Xa=!1}if(Dr=0,Ge=Ze=Ae=null,Lo=!1,Qo=0,dh.current=null,r===null||r.return===null){We=1,ts=n,$e=null;break}e:{var a=e,u=r.return,c=r,h=n;if(n=Ye,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,g=c,d=g.tag;if(!(g.mode&1)&&(d===0||d===11||d===15)){var _=g.alternate;_?(g.updateQueue=_.updateQueue,g.memoizedState=_.memoizedState,g.lanes=_.lanes):(g.updateQueue=null,g.memoizedState=null)}var y=Vp(u);if(y!==null){y.flags&=-257,Gp(y,u,c,a,n),y.mode&1&&Wp(a,p,n),n=y,h=p;var w=n.updateQueue;if(w===null){var S=new Set;S.add(h),n.updateQueue=S}else w.add(h);break e}else{if(!(n&1)){Wp(a,p,n),_h();break e}h=Error(K(426))}}else if(Le&&c.mode&1){var P=Vp(u);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Gp(P,u,c,a,n),Qf(Li(h,c));break e}}a=h=Li(h,c),We!==4&&(We=2),zo===null?zo=[a]:zo.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var x=dv(a,h,n);Bp(a,x);break e;case 1:c=h;var k=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof k.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ur===null||!ur.has(N)))){a.flags|=65536,n&=-n,a.lanes|=n;var j=pv(a,c,n);Bp(a,j);break e}}a=a.return}while(a!==null)}zv(r)}catch(E){n=E,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function Lv(){var e=Ya.current;return Ya.current=Ka,e===null?Ka:e}function _h(){(We===0||We===3||We===2)&&(We=4),qe===null||!(Br&268435455)&&!(Nl&268435455)||er(qe,Ye)}function el(e,n){var r=_e;_e|=2;var i=Lv();(qe!==e||Ye!==n)&&(Pn=null,Mr(e,n));do try{u2();break}catch(s){Tv(e,s)}while(!0);if(eh(),_e=r,Ya.current=i,$e!==null)throw Error(K(261));return qe=null,Ye=0,We}function u2(){for(;$e!==null;)Mv($e)}function c2(){for(;$e!==null&&!A1();)Mv($e)}function Mv(e){var n=Av(e.alternate,e,St);e.memoizedProps=e.pendingProps,n===null?zv(e):$e=n,dh.current=null}function zv(e){var n=e;do{var r=n.alternate;if(e=n.return,n.flags&32768){if(r=r2(r,n),r!==null){r.flags&=32767,$e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,$e=null;return}}else if(r=n2(r,n,St),r!==null){$e=r;return}if(n=n.sibling,n!==null){$e=n;return}$e=n=e}while(n!==null);We===0&&(We=5)}function Cr(e,n,r){var i=be,s=Ut.transition;try{Ut.transition=null,be=1,f2(e,n,r,i)}finally{Ut.transition=s,be=i}return null}function f2(e,n,r,i){do ki();while(nr!==null);if(_e&6)throw Error(K(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(W1(e,a),e===qe&&($e=qe=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ia||(ia=!0,Rv(Aa,function(){return ki(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ut.transition,Ut.transition=null;var u=be;be=1;var c=_e;_e|=4,dh.current=null,o2(e,r),Pv(r,e),Lw(Ec),Ia=!!jc,Ec=jc=null,e.current=r,s2(r),R1(),_e=c,be=u,Ut.transition=a}else e.current=r;if(ia&&(ia=!1,nr=e,Ja=s),a=e.pendingLanes,a===0&&(ur=null),B1(r.stateNode),xt(e,Be()),n!==null)for(i=e.onRecoverableError,r=0;r<n.length;r++)s=n[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(Qa)throw Qa=!1,e=Xc,Xc=null,e;return Ja&1&&e.tag!==0&&ki(),a=e.pendingLanes,a&1?e===Kc?Oo++:(Oo=0,Kc=e):Oo=0,vr(),null}function ki(){if(nr!==null){var e=d0(Ja),n=Ut.transition,r=be;try{if(Ut.transition=null,be=16>e?16:e,nr===null)var i=!1;else{if(e=nr,nr=null,Ja=0,_e&6)throw Error(K(331));var s=_e;for(_e|=4,ie=e.current;ie!==null;){var a=ie,u=a.child;if(ie.flags&16){var c=a.deletions;if(c!==null){for(var h=0;h<c.length;h++){var p=c[h];for(ie=p;ie!==null;){var g=ie;switch(g.tag){case 0:case 11:case 15:Mo(8,g,a)}var d=g.child;if(d!==null)d.return=g,ie=d;else for(;ie!==null;){g=ie;var _=g.sibling,y=g.return;if(Sv(g),g===p){ie=null;break}if(_!==null){_.return=y,ie=_;break}ie=y}}}var w=a.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}ie=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,ie=u;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mo(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ie=x;break e}ie=a.return}}var k=e.current;for(ie=k;ie!==null;){u=ie;var N=u.child;if(u.subtreeFlags&2064&&N!==null)N.return=u,ie=N;else e:for(u=k;ie!==null;){if(c=ie,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Sl(9,c)}}catch(E){Ie(c,c.return,E)}if(c===u){ie=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,ie=j;break e}ie=c.return}}if(_e=s,vr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(gl,e)}catch{}i=!0}return i}finally{be=r,Ut.transition=n}}return!1}function sm(e,n,r){n=Li(r,n),n=dv(e,n,1),e=lr(e,n,1),n=ut(),e!==null&&(hs(e,1,n),xt(e,n))}function Ie(e,n,r){if(e.tag===3)sm(e,e,r);else for(;n!==null;){if(n.tag===3){sm(n,e,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ur===null||!ur.has(i))){e=Li(r,e),e=pv(n,e,1),n=lr(n,e,1),e=ut(),n!==null&&(hs(n,1,e),xt(n,e));break}}n=n.return}}function h2(e,n,r){var i=e.pingCache;i!==null&&i.delete(n),n=ut(),e.pingedLanes|=e.suspendedLanes&r,qe===e&&(Ye&r)===r&&(We===4||We===3&&(Ye&130023424)===Ye&&500>Be()-mh?Mr(e,0):ph|=r),xt(e,n)}function Ov(e,n){n===0&&(e.mode&1?(n=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):n=1);var r=ut();e=Bn(e,n),e!==null&&(hs(e,n,r),xt(e,r))}function d2(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ov(e,r)}function p2(e,n){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(n),Ov(e,r)}var Av;Av=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||_t.current)gt=!0;else{if(!(e.lanes&r)&&!(n.flags&128))return gt=!1,t2(e,n,r);gt=!!(e.flags&131072)}else gt=!1,Le&&n.flags&1048576&&B0(n,Za,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;ka(e,n),e=n.pendingProps;var s=Pi(n,it.current);bi(n,r),s=lh(null,n,i,e,s,r);var a=uh();return n.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,yt(i)?(a=!0,$a(n)):a=!1,n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rh(n),s.updater=kl,n.stateNode=s,s._reactInternals=n,Dc(n,i,e,r),n=Uc(null,n,i,!0,a,r)):(n.tag=0,Le&&a&&Kf(n),at(null,n,s,r),n=n.child),n;case 16:i=n.elementType;e:{switch(ka(e,n),e=n.pendingProps,s=i._init,i=s(i._payload),n.type=i,s=n.tag=g2(i),e=qt(i,e),s){case 0:n=Fc(null,n,i,e,r);break e;case 1:n=Kp(null,n,i,e,r);break e;case 11:n=qp(null,n,i,e,r);break e;case 14:n=Xp(null,n,i,qt(i.type,e),r);break e}throw Error(K(306,i,""))}return n;case 0:return i=n.type,s=n.pendingProps,s=n.elementType===i?s:qt(i,s),Fc(e,n,i,s,r);case 1:return i=n.type,s=n.pendingProps,s=n.elementType===i?s:qt(i,s),Kp(e,n,i,s,r);case 3:e:{if(_v(n),e===null)throw Error(K(387));i=n.pendingProps,a=n.memoizedState,s=a.element,W0(e,n),Ga(n,i,null,r);var u=n.memoizedState;if(i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},n.updateQueue.baseState=a,n.memoizedState=a,n.flags&256){s=Li(Error(K(423)),n),n=Yp(e,n,i,r,s);break e}else if(i!==s){s=Li(Error(K(424)),n),n=Yp(e,n,i,r,s);break e}else for(Nt=ar(n.stateNode.containerInfo.firstChild),Ct=n,Le=!0,Kt=null,r=H0(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ji(),i===s){n=Fn(e,n,r);break e}at(e,n,i,r)}n=n.child}return n;case 5:return V0(n),e===null&&Ac(n),i=n.type,s=n.pendingProps,a=e!==null?e.memoizedProps:null,u=s.children,Tc(i,s)?u=null:a!==null&&Tc(i,a)&&(n.flags|=32),vv(e,n),at(e,n,u,r),n.child;case 6:return e===null&&Ac(n),null;case 13:return yv(e,n,r);case 4:return ih(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=Ei(n,null,i,r):at(e,n,i,r),n.child;case 11:return i=n.type,s=n.pendingProps,s=n.elementType===i?s:qt(i,s),qp(e,n,i,s,r);case 7:return at(e,n,n.pendingProps,r),n.child;case 8:return at(e,n,n.pendingProps.children,r),n.child;case 12:return at(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(i=n.type._context,s=n.pendingProps,a=n.memoizedProps,u=s.value,Ce(Wa,i._currentValue),i._currentValue=u,a!==null)if(tn(a.value,u)){if(a.children===s.children&&!_t.current){n=Fn(e,n,r);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var c=a.dependencies;if(c!==null){u=a.child;for(var h=c.firstContext;h!==null;){if(h.context===i){if(a.tag===1){h=On(-1,r&-r),h.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?h.next=h:(h.next=g.next,g.next=h),p.pending=h}}a.lanes|=r,h=a.alternate,h!==null&&(h.lanes|=r),Rc(a.return,r,n),c.lanes|=r;break}h=h.next}}else if(a.tag===10)u=a.type===n.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(K(341));u.lanes|=r,c=u.alternate,c!==null&&(c.lanes|=r),Rc(u,r,n),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===n){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}at(e,n,s.children,r),n=n.child}return n;case 9:return s=n.type,i=n.pendingProps.children,bi(n,r),s=$t(s),i=i(s),n.flags|=1,at(e,n,i,r),n.child;case 14:return i=n.type,s=qt(i,n.pendingProps),s=qt(i.type,s),Xp(e,n,i,s,r);case 15:return mv(e,n,n.type,n.pendingProps,r);case 17:return i=n.type,s=n.pendingProps,s=n.elementType===i?s:qt(i,s),ka(e,n),n.tag=1,yt(i)?(e=!0,$a(n)):e=!1,bi(n,r),hv(n,i,s),Dc(n,i,s,r),Uc(null,n,i,!0,e,r);case 19:return xv(e,n,r);case 22:return gv(e,n,r)}throw Error(K(156,n.tag))};function Rv(e,n){return u0(e,n)}function m2(e,n,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,n,r,i){return new m2(e,n,r,i)}function yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g2(e){if(typeof e=="function")return yh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Df)return 11;if(e===Bf)return 14}return 2}function fr(e,n){var r=e.alternate;return r===null?(r=Ft(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ca(e,n,r,i,s,a){var u=2;if(i=e,typeof e=="function")yh(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case ai:return zr(r.children,s,a,n);case If:u=8,s|=8;break;case lc:return e=Ft(12,r,n,s|2),e.elementType=lc,e.lanes=a,e;case uc:return e=Ft(13,r,n,s),e.elementType=uc,e.lanes=a,e;case cc:return e=Ft(19,r,n,s),e.elementType=cc,e.lanes=a,e;case Vg:return Cl(r,s,a,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zg:u=10;break e;case Wg:u=9;break e;case Df:u=11;break e;case Bf:u=14;break e;case Kn:u=16,i=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return n=Ft(u,r,n,s),n.elementType=e,n.type=i,n.lanes=a,n}function zr(e,n,r,i){return e=Ft(7,e,i,n),e.lanes=r,e}function Cl(e,n,r,i){return e=Ft(22,e,i,n),e.elementType=Vg,e.lanes=r,e.stateNode={isHidden:!1},e}function Hu(e,n,r){return e=Ft(6,e,null,n),e.lanes=r,e}function Zu(e,n,r){return n=Ft(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function v2(e,n,r,i,s){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Su(0),this.expirationTimes=Su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xh(e,n,r,i,s,a,u,c,h){return e=new v2(e,n,r,c,h),n===1?(n=1,a===!0&&(n|=8)):n=0,a=Ft(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rh(a),e}function _2(e,n,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:i==null?null:""+i,children:e,containerInfo:n,implementation:r}}function Iv(e){if(!e)return pr;e=e._reactInternals;e:{if(Zr(e)!==e||e.tag!==1)throw Error(K(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(yt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(yt(r))return I0(e,r,n)}return n}function Dv(e,n,r,i,s,a,u,c,h){return e=xh(r,i,!0,e,s,a,u,c,h),e.context=Iv(null),r=e.current,i=ut(),s=cr(r),a=On(i,s),a.callback=n??null,lr(r,a,s),e.current.lanes=s,hs(e,s,i),xt(e,i),e}function Pl(e,n,r,i){var s=n.current,a=ut(),u=cr(s);return r=Iv(r),n.context===null?n.context=r:n.pendingContext=r,n=On(a,u),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=lr(s,n,u),e!==null&&(en(e,s,u,a),xa(e,s,u)),u}function tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function am(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function wh(e,n){am(e,n),(e=e.alternate)&&am(e,n)}function y2(){return null}var Bv=typeof reportError=="function"?reportError:function(e){console.error(e)};function bh(e){this._internalRoot=e}jl.prototype.render=bh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(K(409));Pl(e,n,null,null)};jl.prototype.unmount=bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Fr(function(){Pl(null,e,null,null)}),n[Dn]=null}};function jl(e){this._internalRoot=e}jl.prototype.unstable_scheduleHydration=function(e){if(e){var n=g0();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Jn.length&&n!==0&&n<Jn[r].priority;r++);Jn.splice(r,0,e),r===0&&_0(e)}};function kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lm(){}function x2(e,n,r,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var p=tl(u);a.call(p)}}var u=Dv(n,i,e,0,null,!1,!1,"",lm);return e._reactRootContainer=u,e[Dn]=u.current,Go(e.nodeType===8?e.parentNode:e),Fr(),u}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var c=i;i=function(){var p=tl(h);c.call(p)}}var h=xh(e,0,!1,null,null,!1,!1,"",lm);return e._reactRootContainer=h,e[Dn]=h.current,Go(e.nodeType===8?e.parentNode:e),Fr(function(){Pl(n,h,r,i)}),h}function Tl(e,n,r,i,s){var a=r._reactRootContainer;if(a){var u=a;if(typeof s=="function"){var c=s;s=function(){var h=tl(u);c.call(h)}}Pl(n,u,e,s)}else u=x2(r,n,e,s,i);return tl(u)}p0=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=xo(n.pendingLanes);r!==0&&($f(n,r|1),xt(n,Be()),!(_e&6)&&(Mi=Be()+500,vr()))}break;case 13:Fr(function(){var i=Bn(e,1);if(i!==null){var s=ut();en(i,e,1,s)}}),wh(e,1)}};Hf=function(e){if(e.tag===13){var n=Bn(e,134217728);if(n!==null){var r=ut();en(n,e,134217728,r)}wh(e,134217728)}};m0=function(e){if(e.tag===13){var n=cr(e),r=Bn(e,n);if(r!==null){var i=ut();en(r,e,n,i)}wh(e,n)}};g0=function(){return be};v0=function(e,n){var r=be;try{return be=e,n()}finally{be=r}};xc=function(e,n,r){switch(n){case"input":if(dc(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==e&&i.form===e.form){var s=xl(i);if(!s)throw Error(K(90));qg(i),dc(i,s)}}}break;case"textarea":Kg(e,r);break;case"select":n=r.value,n!=null&&_i(e,!!r.multiple,n,!1)}};r0=gh;i0=Fr;var w2={usingClientEntryPoint:!1,Events:[ps,fi,xl,t0,n0,gh]},lo={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b2={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=a0(e),e===null?null:e.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||y2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{gl=oa.inject(b2),pn=oa}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w2;Et.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kh(n))throw Error(K(200));return _2(e,n,null,r)};Et.createRoot=function(e,n){if(!kh(e))throw Error(K(299));var r=!1,i="",s=Bv;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),n=xh(e,1,!1,null,null,r,!1,i,s),e[Dn]=n.current,Go(e.nodeType===8?e.parentNode:e),new bh(n)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=a0(n),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return Fr(e)};Et.hydrate=function(e,n,r){if(!El(n))throw Error(K(200));return Tl(null,e,n,!0,r)};Et.hydrateRoot=function(e,n,r){if(!kh(e))throw Error(K(405));var i=r!=null&&r.hydratedSources||null,s=!1,a="",u=Bv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),n=Dv(n,null,e,1,r??null,s,!1,a,u),e[Dn]=n.current,Go(e),i)for(e=0;e<i.length;e++)r=i[e],s=r._getVersion,s=s(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,s]:n.mutableSourceEagerHydrationData.push(r,s);return new jl(n)};Et.render=function(e,n,r){if(!El(n))throw Error(K(200));return Tl(null,e,n,!1,r)};Et.unmountComponentAtNode=function(e){if(!El(e))throw Error(K(40));return e._reactRootContainer?(Fr(function(){Tl(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};Et.unstable_batchedUpdates=gh;Et.unstable_renderSubtreeIntoContainer=function(e,n,r,i){if(!El(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Tl(e,n,r,!1,i)};Et.version="18.3.1-next-f1338f8080-20240426";function Fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fv)}catch(e){console.error(e)}}Fv(),Fg.exports=Et;var Uv=Fg.exports,um=Uv;sc.createRoot=um.createRoot,sc.hydrateRoot=um.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ns.apply(this,arguments)}var rr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rr||(rr={}));const cm="popstate";function k2(e){e===void 0&&(e={});function n(i,s){let{pathname:a,search:u,hash:c}=i.location;return Jc("",{pathname:a,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:nl(s)}return N2(n,r,null,e)}function He(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Sh(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function S2(){return Math.random().toString(36).substr(2,8)}function fm(e,n){return{usr:e.state,key:e.key,idx:n}}function Jc(e,n,r,i){return r===void 0&&(r=null),ns({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Fi(n):n,{state:r,key:n&&n.key||i||S2()})}function nl(e){let{pathname:n="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Fi(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(n.search=e.substr(i),e=e.substr(0,i)),e&&(n.pathname=e)}return n}function N2(e,n,r,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,c=rr.Pop,h=null,p=g();p==null&&(p=0,u.replaceState(ns({},u.state,{idx:p}),""));function g(){return(u.state||{idx:null}).idx}function d(){c=rr.Pop;let P=g(),x=P==null?null:P-p;p=P,h&&h({action:c,location:S.location,delta:x})}function _(P,x){c=rr.Push;let k=Jc(S.location,P,x);p=g()+1;let N=fm(k,p),j=S.createHref(k);try{u.pushState(N,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(j)}a&&h&&h({action:c,location:S.location,delta:1})}function y(P,x){c=rr.Replace;let k=Jc(S.location,P,x);p=g();let N=fm(k,p),j=S.createHref(k);u.replaceState(N,"",j),a&&h&&h({action:c,location:S.location,delta:0})}function w(P){let x=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof P=="string"?P:nl(P);return k=k.replace(/ $/,"%20"),He(x,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,x)}let S={get action(){return c},get location(){return e(s,u)},listen(P){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(cm,d),h=P,()=>{s.removeEventListener(cm,d),h=null}},createHref(P){return n(s,P)},createURL:w,encodeLocation(P){let x=w(P);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:_,replace:y,go(P){return u.go(P)}};return S}var hm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hm||(hm={}));function C2(e,n,r){return r===void 0&&(r="/"),P2(e,n,r)}function P2(e,n,r,i){let s=typeof n=="string"?Fi(n):n,a=Nh(s.pathname||"/",r);if(a==null)return null;let u=$v(e);j2(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let p=F2(a);c=I2(u[h],p)}return c}function $v(e,n,r,i){n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i="");let s=(a,u,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(He(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let p=hr([i,h.relativePath]),g=r.concat(h);a.children&&a.children.length>0&&(He(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),$v(a.children,n,g,p)),!(a.path==null&&!a.index)&&n.push({path:p,score:A2(p,a.index),routesMeta:g})};return e.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,u);else for(let h of Hv(a.path))s(a,u,h)}),n}function Hv(e){let n=e.split("/");if(n.length===0)return[];let[r,...i]=n,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let u=Hv(i.join("/")),c=[];return c.push(...u.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...u),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function j2(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:R2(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const E2=/^:[\w-]+$/,T2=3,L2=2,M2=1,z2=10,O2=-2,dm=e=>e==="*";function A2(e,n){let r=e.split("/"),i=r.length;return r.some(dm)&&(i+=O2),n&&(i+=L2),r.filter(s=>!dm(s)).reduce((s,a)=>s+(E2.test(a)?T2:a===""?M2:z2),i)}function R2(e,n){return e.length===n.length&&e.slice(0,-1).every((i,s)=>i===n[s])?e[e.length-1]-n[n.length-1]:0}function I2(e,n,r){let{routesMeta:i}=e,s={},a="/",u=[];for(let c=0;c<i.length;++c){let h=i[c],p=c===i.length-1,g=a==="/"?n:n.slice(a.length)||"/",d=D2({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),_=h.route;if(!d)return null;Object.assign(s,d.params),u.push({params:s,pathname:hr([a,d.pathname]),pathnameBase:W2(hr([a,d.pathnameBase])),route:_}),d.pathnameBase!=="/"&&(a=hr([a,d.pathnameBase]))}return u}function D2(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=B2(e.path,e.caseSensitive,e.end),s=n.match(r);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((p,g,d)=>{let{paramName:_,isOptional:y}=g;if(_==="*"){let S=c[d]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const w=c[d];return y&&!w?p[_]=void 0:p[_]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:e}}function B2(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),Sh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),i]}function F2(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Sh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Nh(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}const U2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$2=e=>U2.test(e);function H2(e,n){n===void 0&&(n="/");let{pathname:r,search:i="",hash:s=""}=typeof e=="string"?Fi(e):e,a;if(r)if($2(r))a=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Sh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?a=pm(r.substring(1),"/"):a=pm(r,n)}else a=n;return{pathname:a,search:V2(i),hash:G2(s)}}function pm(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Wu(e,n,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z2(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Zv(e,n){let r=Z2(e);return n?r.map((i,s)=>s===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Wv(e,n,r,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=Fi(e):(s=ns({},e),He(!s.pathname||!s.pathname.includes("?"),Wu("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),Wu("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),Wu("#","search","hash",s)));let a=e===""||s.pathname==="",u=a?"/":s.pathname,c;if(u==null)c=r;else{let d=n.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),d-=1;s.pathname=_.join("/")}c=d>=0?n[d]:"/"}let h=H2(s,c),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}const hr=e=>e.join("/").replace(/\/\/+/g,"/"),W2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,G2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function q2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vv=["post","put","patch","delete"];new Set(Vv);const X2=["get",...Vv];new Set(X2);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},rs.apply(this,arguments)}const Ch=M.createContext(null),K2=M.createContext(null),Wr=M.createContext(null),Ll=M.createContext(null),_r=M.createContext({outlet:null,matches:[],isDataRoute:!1}),Gv=M.createContext(null);function Y2(e,n){let{relative:r}=n===void 0?{}:n;gs()||He(!1);let{basename:i,navigator:s}=M.useContext(Wr),{hash:a,pathname:u,search:c}=Kv(e,{relative:r}),h=u;return i!=="/"&&(h=u==="/"?i:hr([i,u])),s.createHref({pathname:h,search:c,hash:a})}function gs(){return M.useContext(Ll)!=null}function vs(){return gs()||He(!1),M.useContext(Ll).location}function qv(e){M.useContext(Wr).static||M.useLayoutEffect(e)}function Hn(){let{isDataRoute:e}=M.useContext(_r);return e?cb():Q2()}function Q2(){gs()||He(!1);let e=M.useContext(Ch),{basename:n,future:r,navigator:i}=M.useContext(Wr),{matches:s}=M.useContext(_r),{pathname:a}=vs(),u=JSON.stringify(Zv(s,r.v7_relativeSplatPath)),c=M.useRef(!1);return qv(()=>{c.current=!0}),M.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){i.go(p);return}let d=Wv(p,JSON.parse(u),a,g.relative==="path");e==null&&n!=="/"&&(d.pathname=d.pathname==="/"?n:hr([n,d.pathname])),(g.replace?i.replace:i.push)(d,g.state,g)},[n,i,u,a,e])}function Xv(){let{matches:e}=M.useContext(_r),n=e[e.length-1];return n?n.params:{}}function Kv(e,n){let{relative:r}=n===void 0?{}:n,{future:i}=M.useContext(Wr),{matches:s}=M.useContext(_r),{pathname:a}=vs(),u=JSON.stringify(Zv(s,i.v7_relativeSplatPath));return M.useMemo(()=>Wv(e,JSON.parse(u),a,r==="path"),[e,u,a,r])}function J2(e,n){return eb(e,n)}function eb(e,n,r,i){gs()||He(!1);let{navigator:s}=M.useContext(Wr),{matches:a}=M.useContext(_r),u=a[a.length-1],c=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let p=vs(),g;if(n){var d;let P=typeof n=="string"?Fi(n):n;h==="/"||(d=P.pathname)!=null&&d.startsWith(h)||He(!1),g=P}else g=p;let _=g.pathname||"/",y=_;if(h!=="/"){let P=h.replace(/^\//,"").split("/");y="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let w=C2(e,{pathname:y}),S=ob(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:hr([h,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:hr([h,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,r,i);return n&&S?M.createElement(Ll.Provider,{value:{location:rs({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:rr.Pop}},S):S}function tb(){let e=ub(),n=q2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},n),r?M.createElement("pre",{style:s},r):null,null)}const nb=M.createElement(tb,null);class rb extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?M.createElement(_r.Provider,{value:this.props.routeContext},M.createElement(Gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ib(e){let{routeContext:n,match:r,children:i}=e,s=M.useContext(Ch);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(_r.Provider,{value:n},i)}function ob(e,n,r,i){var s;if(n===void 0&&(n=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=i)!=null&&a.v7_partialHydration&&n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let u=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let g=u.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);g>=0||He(!1),u=u.slice(0,Math.min(u.length,g+1))}let h=!1,p=-1;if(r&&i&&i.v7_partialHydration)for(let g=0;g<u.length;g++){let d=u[g];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(p=g),d.route.id){let{loaderData:_,errors:y}=r,w=d.route.loader&&_[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||w){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,d,_)=>{let y,w=!1,S=null,P=null;r&&(y=c&&d.route.id?c[d.route.id]:void 0,S=d.route.errorElement||nb,h&&(p<0&&_===0?(fb("route-fallback"),w=!0,P=null):p===_&&(w=!0,P=d.route.hydrateFallbackElement||null)));let x=n.concat(u.slice(0,_+1)),k=()=>{let N;return y?N=S:w?N=P:d.route.Component?N=M.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=g,M.createElement(ib,{match:d,routeContext:{outlet:g,matches:x,isDataRoute:r!=null},children:N})};return r&&(d.route.ErrorBoundary||d.route.errorElement||_===0)?M.createElement(rb,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):k()},null)}var Yv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yv||{}),Qv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qv||{});function sb(e){let n=M.useContext(Ch);return n||He(!1),n}function ab(e){let n=M.useContext(K2);return n||He(!1),n}function lb(e){let n=M.useContext(_r);return n||He(!1),n}function Jv(e){let n=lb(),r=n.matches[n.matches.length-1];return r.route.id||He(!1),r.route.id}function ub(){var e;let n=M.useContext(Gv),r=ab(),i=Jv();return n!==void 0?n:(e=r.errors)==null?void 0:e[i]}function cb(){let{router:e}=sb(Yv.UseNavigateStable),n=Jv(Qv.UseNavigateStable),r=M.useRef(!1);return qv(()=>{r.current=!0}),M.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,rs({fromRouteId:n},a)))},[e,n])}const mm={};function fb(e,n,r){mm[e]||(mm[e]=!0)}function hb(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Xn(e){He(!1)}function db(e){let{basename:n="/",children:r=null,location:i,navigationType:s=rr.Pop,navigator:a,static:u=!1,future:c}=e;gs()&&He(!1);let h=n.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:h,navigator:a,static:u,future:rs({v7_relativeSplatPath:!1},c)}),[h,c,a,u]);typeof i=="string"&&(i=Fi(i));let{pathname:g="/",search:d="",hash:_="",state:y=null,key:w="default"}=i,S=M.useMemo(()=>{let P=Nh(g,h);return P==null?null:{location:{pathname:P,search:d,hash:_,state:y,key:w},navigationType:s}},[h,g,d,_,y,w,s]);return S==null?null:M.createElement(Wr.Provider,{value:p},M.createElement(Ll.Provider,{children:r,value:S}))}function pb(e){let{children:n,location:r}=e;return J2(ef(n),r)}new Promise(()=>{});function ef(e,n){n===void 0&&(n=[]);let r=[];return M.Children.forEach(e,(i,s)=>{if(!M.isValidElement(i))return;let a=[...n,s];if(i.type===M.Fragment){r.push.apply(r,ef(i.props.children,a));return}i.type!==Xn&&He(!1),!i.props.index||!i.props.children||He(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=ef(i.props.children,a)),r.push(u)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},tf.apply(this,arguments)}function mb(e,n){if(e==null)return{};var r={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(n.indexOf(s)>=0)&&(r[s]=e[s]);return r}function gb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vb(e,n){return e.button===0&&(!n||n==="_self")&&!gb(e)}function nf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,r)=>{let i=e[r];return n.concat(Array.isArray(i)?i.map(s=>[r,s]):[[r,i]])},[]))}function _b(e,n){let r=nf(e);return n&&n.forEach((i,s)=>{r.has(s)||n.getAll(s).forEach(a=>{r.append(s,a)})}),r}const yb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xb="6";try{window.__reactRouterVersion=xb}catch{}const wb="startTransition",gm=h1[wb];function bb(e){let{basename:n,children:r,future:i,window:s}=e,a=M.useRef();a.current==null&&(a.current=k2({window:s,v5Compat:!0}));let u=a.current,[c,h]=M.useState({action:u.action,location:u.location}),{v7_startTransition:p}=i||{},g=M.useCallback(d=>{p&&gm?gm(()=>h(d)):h(d)},[h,p]);return M.useLayoutEffect(()=>u.listen(g),[u,g]),M.useEffect(()=>hb(i),[i]),M.createElement(db,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:u,future:i})}const kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sa=M.forwardRef(function(n,r){let{onClick:i,relative:s,reloadDocument:a,replace:u,state:c,target:h,to:p,preventScrollReset:g,viewTransition:d}=n,_=mb(n,yb),{basename:y}=M.useContext(Wr),w,S=!1;if(typeof p=="string"&&Sb.test(p)&&(w=p,kb))try{let N=new URL(window.location.href),j=p.startsWith("//")?new URL(N.protocol+p):new URL(p),E=Nh(j.pathname,y);j.origin===N.origin&&E!=null?p=E+j.search+j.hash:S=!0}catch{}let P=Y2(p,{relative:s}),x=Nb(p,{replace:u,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:d});function k(N){i&&i(N),N.defaultPrevented||x(N)}return M.createElement("a",tf({},_,{href:w||P,onClick:S||a?i:k,ref:r,target:h}))});var vm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vm||(vm={}));var _m;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_m||(_m={}));function Nb(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:u,viewTransition:c}=n===void 0?{}:n,h=Hn(),p=vs(),g=Kv(e,{relative:u});return M.useCallback(d=>{if(vb(d,r)){d.preventDefault();let _=i!==void 0?i:nl(p)===nl(g);h(e,{replace:_,state:s,preventScrollReset:a,relative:u,viewTransition:c})}},[p,h,g,i,s,r,e,a,u,c])}function Cb(e){let n=M.useRef(nf(e)),r=M.useRef(!1),i=vs(),s=M.useMemo(()=>_b(i.search,r.current?null:n.current),[i.search]),a=Hn(),u=M.useCallback((c,h)=>{const p=nf(typeof c=="function"?c(s):c);r.current=!0,a("?"+p,h)},[a,s]);return[s,u]}function ym(){const[e,n]=M.useState(""),[r,i]=M.useState([]),[s,a]=M.useState(!1),[u,c]=M.useState(!1),h=M.useRef(null),p=M.useRef(null),g=Hn();M.useEffect(()=>{const _=y=>{var w,S,P,x;y.key==="/"&&((w=document.activeElement)==null?void 0:w.tagName)!=="INPUT"&&((S=document.activeElement)==null?void 0:S.tagName)!=="TEXTAREA"&&(y.preventDefault(),(P=h.current)==null||P.focus()),y.key==="Escape"&&document.activeElement===h.current&&((x=h.current)==null||x.blur(),c(!1))};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[]),M.useEffect(()=>{const _=y=>{p.current&&!p.current.contains(y.target)&&c(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]),M.useEffect(()=>{if(e.trim().length<2){i([]),c(!1);return}a(!0);const _=setTimeout(async()=>{try{const y=await fetch("/api/stories/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e.trim(),limit:5})});if(y.ok){const w=await y.json();i(w.matches||[]),c(!0)}}catch(y){console.error("Search error:",y),i([])}finally{a(!1)}},300);return()=>clearTimeout(_)},[e]);const d=_=>{g(`/story/${_}`),c(!1),n("")};return m.jsx("div",{className:"flex-1 max-w-md",ref:p,children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{ref:h,type:"text",value:e,onChange:_=>n(_.target.value),onFocus:()=>e.trim().length>=2&&c(!0),placeholder:"Search stories...",className:"w-full px-4 py-2 pl-10 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),m.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),m.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s?m.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-indigo-500 border-t-transparent rounded-full"}):m.jsx("kbd",{className:"hidden sm:inline-block px-1.5 py-0.5 text-xs font-semibold text-slate-500 bg-slate-100 border border-slate-200 rounded",children:"/"})}),u&&e.trim().length>=2&&m.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-slate-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:r.length>0?m.jsx("div",{className:"py-2",children:r.map(_=>m.jsx("button",{onClick:()=>d(_.id),className:"w-full px-4 py-3 text-left hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-medium text-slate-900 text-sm line-clamp-1",children:_.title}),_.description&&m.jsx("div",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:_.description}),m.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[_.category&&m.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded",children:_.category}),_.artifact_count!==void 0&&m.jsxs("span",{className:"text-xs text-slate-500",children:[_.artifact_count," sources"]}),_.coherence!==void 0&&m.jsxs("span",{className:"text-xs text-indigo-600 font-medium",children:[(_.coherence*100).toFixed(0),"% coherence"]})]})]}),m.jsx("svg",{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},_.id))}):m.jsxs("div",{className:"px-4 py-6 text-center text-sm text-slate-500",children:['No stories found for "',e,'"']})})]})})}function Pb({user:e}){const[n,r]=M.useState(!1),i=M.useRef(null);M.useEffect(()=>{const a=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const s=()=>{window.location.href="/api/auth/logout"};return m.jsxs("div",{className:"relative",ref:i,children:[m.jsx("button",{onClick:()=>r(!n),className:"flex items-center gap-2 hover:opacity-80 transition",children:e.picture?m.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full border-2 border-white shadow-sm"}):m.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-semibold text-sm",children:e.name.charAt(0).toUpperCase()})}),n&&m.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-slate-200 py-2 z-50",children:[m.jsxs("div",{className:"px-4 py-3 border-b border-slate-200",children:[m.jsx("div",{className:"font-semibold text-slate-900",children:e.name}),m.jsx("div",{className:"text-sm text-slate-500",children:e.email}),m.jsxs("div",{className:"text-xs text-indigo-600 mt-1",children:["Credits: ",e.credits]})]}),m.jsxs("div",{className:"py-1",children:[m.jsx("button",{onClick:()=>{r(!1),console.log("Navigate to profile")},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 transition",children:"Profile Settings"}),m.jsx("button",{onClick:()=>{r(!1),console.log("Navigate to credits")},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 transition",children:"Manage Credits"})]}),m.jsx("div",{className:"border-t border-slate-200 py-1",children:m.jsx("button",{onClick:s,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition",children:"Sign Out"})})]})]})}function Ao(){const[e,n]=M.useState(null),[r,i]=M.useState(!0),s=Hn();M.useEffect(()=>{a()},[]);const a=async()=>{try{const p=await fetch("/api/auth/status");if(p.ok){const g=await p.json();g.authenticated&&n(g.user)}}catch(p){console.error("Auth check failed:",p)}finally{i(!1)}},u=()=>{window.location.href="/api/auth/login"},c=()=>{alert("Notifications coming soon!")},h=()=>{s("/?share=true")};return m.jsxs("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[m.jsx(sa,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent whitespace-nowrap",children:" HERE"}),m.jsx("div",{className:"hidden md:block flex-1 max-w-md",children:m.jsx(ym,{})})]}),m.jsx("div",{className:"flex items-center gap-3",children:r?m.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}):e?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600",title:"Create new content",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),m.jsx(sa,{to:"/archive",className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600",title:"My Archive",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),m.jsx(sa,{to:"/graph",className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600",title:"Story Graph",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),m.jsx(sa,{to:"/map",className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600",title:"News Map",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),m.jsxs("button",{onClick:c,className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600 relative",title:"Notifications",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),m.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),m.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg",children:[m.jsx("svg",{className:"w-4 h-4 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),m.jsx("span",{className:"text-sm font-bold text-amber-700",children:e.credits})]}),m.jsx(Pb,{user:e})]}):m.jsx("button",{onClick:u,className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:opacity-90 transition",children:"Sign in with Google"})})]})}),m.jsx("div",{className:"md:hidden px-4 pb-3",children:m.jsx(ym,{})})]})}function jb({children:e}){return m.jsxs("div",{className:"min-h-screen bg-slate-50",children:[m.jsx(Ao,{}),m.jsx("main",{children:e})]})}function zi(e){if(!e)return{absolute:"Date unknown",relative:"unknown",reliable:!1,fullDateTime:""};try{const n=new Date(e);if(isNaN(n.getTime()))return{absolute:"Date unknown",relative:"unknown",reliable:!1,fullDateTime:""};const r=new Date,i=r.getTime()-n.getTime(),s=Math.floor(i/6e4),a=Math.floor(s/60),u=Math.floor(a/24),c=new Date;c.setHours(0,0,0,0);const h=new Date(n);h.setHours(0,0,0,0);const p=Math.floor((c.getTime()-h.getTime())/(1e3*60*60*24));let g="",d=!0;i<0?(g=n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=!1):u>730?(g=n.toLocaleDateString("en-US",{month:"short",year:"numeric"}),d=!1):p===0?g=n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):p===1?g="Yesterday "+n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):p<7?g=n.toLocaleDateString("en-US",{weekday:"short",hour:"numeric",minute:"2-digit",hour12:!0}):n.getFullYear()===r.getFullYear()?g=n.toLocaleDateString("en-US",{month:"short",day:"numeric"}):g=n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});let _="";if(i<0)_="in the future";else if(u>365){const w=Math.floor(u/365);_=`${w} year${w>1?"s":""} ago`}else if(u>30){const w=Math.floor(u/30);_=`${w} month${w>1?"s":""} ago`}else u>0?_=`${u} day${u>1?"s":""} ago`:a>0?_=`${a} hour${a>1?"s":""} ago`:s>0?_=`${s} minute${s>1?"s":""} ago`:_="just now";const y=n.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return{absolute:g,relative:_,reliable:d,fullDateTime:y}}catch{return{absolute:"Date unknown",relative:"unknown",reliable:!1,fullDateTime:""}}}function Eb({story:e,onClick:n}){const r=zi(e.last_updated||e.created_at);return m.jsx("div",{onClick:n,className:"border border-slate-200 rounded-xl p-6 hover:shadow-lg transition cursor-pointer bg-white",children:m.jsxs("div",{className:"flex gap-4",children:[e.cover_image&&m.jsx("img",{src:e.cover_image,alt:e.title,className:"w-24 h-24 rounded-lg object-cover flex-shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2 line-clamp-2",children:e.title}),e.description&&m.jsx("p",{className:"text-sm text-slate-600 mb-3 line-clamp-2",children:e.description}),m.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[e.coherence!==void 0&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-slate-500",children:"Coherence:"}),m.jsxs("span",{className:"font-semibold text-indigo-600",children:[(e.coherence*100).toFixed(0),"%"]})]}),e.claim_count!==void 0&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-slate-500",children:"Claims:"}),m.jsx("span",{className:"font-semibold text-slate-700",children:e.claim_count})]}),r.absolute!=="Date unknown"&&m.jsxs("div",{className:"flex items-center gap-1 cursor-help",title:r.fullDateTime,children:[m.jsx("span",{className:"text-slate-400",children:""}),m.jsx("span",{className:"text-slate-500",children:r.relative})]})]})]})]})})}function xm(){return m.jsx("div",{className:"border border-slate-200 rounded-xl p-6 animate-pulse",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"w-24 h-24 bg-slate-200 rounded-lg flex-shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-3"}),m.jsxs("div",{className:"space-y-2 mb-3",children:[m.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"}),m.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"}),m.jsx("div",{className:"h-4 bg-slate-200 rounded w-20"})]})]})]})})}function Ph({url:e}){const[n,r]=M.useState(null),[i,s]=M.useState(!0),[a,u]=M.useState(!1);M.useEffect(()=>{c()},[e]);const c=async()=>{try{s(!0),u(!1);const h=await fetch(`/api/artifacts?url=${encodeURIComponent(e)}&preview=true`,{method:"POST"});if(!h.ok){u(!0),s(!1);return}const p=await h.json();r(p),s(!1)}catch(h){console.error("Failed to fetch URL metadata:",h),u(!0),s(!1)}};return i?m.jsxs("div",{className:"mt-2 border border-slate-200 rounded-lg p-3 bg-slate-50 animate-pulse",children:[m.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),m.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]}):a||!n?m.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"mt-2 flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800 underline",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),new URL(e).hostname]}):m.jsxs("div",{className:"mt-2 flex gap-3 border border-slate-200 rounded-lg overflow-hidden bg-white p-3",children:[n.thumbnail_url&&m.jsx("img",{src:n.thumbnail_url,alt:n.title||e,className:"w-20 h-20 rounded object-cover flex-shrink-0",onError:h=>{h.currentTarget.style.display="none"}}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-semibold text-slate-900 text-sm line-clamp-2 mb-1",children:n.title||e}),n.description&&m.jsx("div",{className:"text-xs text-slate-600 line-clamp-2 mb-1",children:n.description}),m.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[m.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[m.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),new URL(e).hostname]}),n._commissioned&&m.jsx("span",{className:"text-green-600",children:" Queued"}),n.status&&n.status!=="preview"&&m.jsxs("span",{className:"text-slate-500",children:["(",n.status,")"]})]})]})]})}function jh(e){const n=/(https?:\/\/[^\s]+)/gi,r=e.match(n);return r?r.map(i=>i.replace(/[.,;:!?)]$/,"")):[]}function Tb({onSubmit:e,onCancel:n}){const[r,i]=M.useState(""),[s,a]=M.useState(!1),u=M.useRef(null),[c,h]=M.useState([]);M.useEffect(()=>{u.current&&u.current.focus()},[]),M.useEffect(()=>{const y=jh(r);h(y)},[r]);const p=async()=>{const y=r.trim();if(!(!y||s))try{a(!0),await e(y,c),i("")}catch(w){console.error("Failed to submit event:",w),alert(w instanceof Error?w.message:"Failed to submit event")}finally{a(!1)}},g=y=>{i(y.target.value);const w=y.target;w.style.height="auto";const S=Math.max(w.scrollHeight,120);w.style.height=`${S}px`},d=r.length,_=1e3;return m.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-indigo-200 p-6 mb-6",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" What event do you want to report?"}),m.jsx("textarea",{ref:u,value:r,onChange:g,placeholder:`Describe the event and paste any relevant URLs...

Example:
New data suggests climate tipping point may be closer than expected
https://example.com/article
https://example.com/research-paper`,disabled:s,maxLength:_,className:"w-full p-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-indigo-500 resize-none text-sm overflow-hidden disabled:bg-slate-100",style:{minHeight:"120px"}}),m.jsxs("div",{className:"flex items-center justify-between mt-1 mb-3",children:[m.jsxs("span",{className:`text-xs ${d>900?"text-red-600 font-semibold":d>800?"text-amber-600":"text-slate-500"}`,children:[d," / ",_]}),c.length>0&&m.jsxs("span",{className:"text-xs text-indigo-600",children:[" ",c.length," URL",c.length>1?"s":""," detected"]})]}),m.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200 mb-3",children:m.jsxs("p",{className:"text-xs text-blue-800",children:[m.jsx("strong",{children:" Tips:"}),"  ","Describe the event clearly","  ","Paste URLs directly (we'll extract them automatically)","  ","Include source links for verification"]})}),c.length>0&&m.jsx("div",{className:"space-y-2 mb-3",children:c.map((y,w)=>m.jsx(Ph,{url:y},w))}),m.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[m.jsx("div",{className:"text-sm text-slate-600",children:"Submission is free"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:n,disabled:s,className:"px-4 py-2 text-sm border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors disabled:opacity-50",children:"Cancel"}),m.jsx("button",{onClick:p,disabled:s||!r.trim(),className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Submitting...":"Submit Event"})]})]})]})}function e_({submission:e}){var h,p,g;const[n,r]=M.useState(!1),i=zi(e.created_at),s=e.urls?e.urls.split(",").filter(d=>d.trim()):[],u=(()=>{switch(e.status){case"pending":return{icon:"",text:"queued",color:"text-slate-600",borderColor:"border-slate-300"};case"extracting":case"processing":return{icon:"",text:"processing",color:"text-blue-600",borderColor:"border-blue-300"};case"failed":return{icon:"",text:"failed",color:"text-red-600",borderColor:"border-red-300"};case"blocked":return{icon:"",text:"blocked",color:"text-amber-600",borderColor:"border-amber-300"};case"completed":if(e.story_match){const d=e.story_match.is_new,_=Math.round(e.story_match.match_score*100);return{icon:"",text:d?"created new story":`merged (${_}% match)`,color:"text-green-600",borderColor:"border-green-300",storyLink:{id:e.story_match.story_id,title:e.story_match.matched_story_title}}}return{icon:"",text:"completed",color:"text-green-600",borderColor:"border-green-300"};default:return{icon:"",text:"processing",color:"text-slate-600",borderColor:"border-slate-300"}}})(),c=s.length>0?new URL(s[0]).hostname:null;return n?m.jsxs("div",{className:`rounded-lg border-2 ${u.borderColor} p-4 bg-slate-50 transition-all`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[e.user_picture?m.jsx("img",{src:e.user_picture,alt:e.user_name,className:"w-8 h-8 rounded-full flex-shrink-0"}):m.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white text-sm font-semibold flex-shrink-0",children:e.user_name.charAt(0).toUpperCase()}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-slate-900",children:e.user_name}),m.jsx("div",{className:"text-xs text-slate-500",children:i.absolute})]})]}),m.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-600 text-lg font-bold",children:""})]}),m.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full ${u.color} bg-white border ${u.borderColor} text-sm font-medium mb-3`,children:[m.jsx("span",{children:u.icon}),m.jsx("span",{children:u.text})]}),(e.status==="extracting"||e.status==="processing"||e.status==="completed")&&e.current_stage&&m.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-slate-200",children:m.jsx("div",{className:"flex items-center justify-between gap-2",children:[{id:"extraction",label:"Metadata",icon:""},{id:"cleaning",label:"Metadata+",icon:""},{id:"content",label:"Content",icon:""},{id:"semantization",label:"Semantic",icon:""}].map((d,_,y)=>{const w=y.findIndex(x=>x.id===e.current_stage),S=_<w||e.status==="completed",P=_===w&&(e.status==="extracting"||e.status==="processing");return m.jsxs(Rn.Fragment,{children:[m.jsxs("div",{className:"flex flex-col items-center gap-1 flex-1",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-semibold transition-all ${S?"bg-green-500 text-white":P?"bg-blue-500 text-white animate-pulse":"bg-slate-200 text-slate-400"}`,children:d.icon}),m.jsx("div",{className:`text-xs font-medium text-center ${S?"text-green-600":P?"text-blue-600 font-semibold":"text-slate-400"}`,children:d.label})]}),_<y.length-1&&m.jsx("div",{className:"text-slate-300 text-lg mb-6",children:""})]},d.id)})})}),e.content&&m.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-3 whitespace-pre-wrap",children:e.content}),s.length>0&&m.jsx("div",{className:"space-y-2 mt-3",children:s.map((d,_)=>m.jsx("div",{children:e.preview_meta?m.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"mt-2 flex gap-3 border border-slate-200 rounded-lg overflow-hidden bg-white hover:border-indigo-300 hover:shadow-md transition-all p-3",children:[e.preview_meta.thumbnail_url&&m.jsx("img",{src:e.preview_meta.thumbnail_url,alt:e.preview_meta.title||d,className:"w-20 h-20 rounded object-cover flex-shrink-0",onError:y=>{y.currentTarget.style.display="none"}}),m.jsxs("div",{className:"flex-1 min-w-0",children:[e.preview_meta.site_name&&m.jsx("div",{className:"text-xs text-slate-500 mb-1",children:e.preview_meta.site_name}),m.jsx("div",{className:"font-semibold text-slate-900 text-sm line-clamp-2 mb-1",children:e.preview_meta.title||d}),e.preview_meta.description&&m.jsx("div",{className:"text-xs text-slate-600 line-clamp-2 mb-1",children:e.preview_meta.description}),m.jsxs("div",{className:"text-xs text-indigo-600 flex items-center gap-1",children:[m.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),new URL(d).hostname]})]})]}):m.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"mt-2 flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800 underline",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),new URL(d).hostname]})},_))}),u.storyLink&&m.jsxs("a",{href:`/story/${u.storyLink.id}`,className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors text-sm",children:[m.jsxs("span",{children:["View Story: ",u.storyLink.title]}),m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(e.task_id||e.current_stage)&&m.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3 text-xs",children:[e.task_id&&m.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[m.jsx("div",{className:"text-slate-500 uppercase font-medium mb-1",children:"Task ID"}),m.jsxs("div",{className:"text-slate-700 font-mono",children:[e.task_id.substring(0,8),"..."]})]}),e.current_stage&&m.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[m.jsx("div",{className:"text-slate-500 uppercase font-medium mb-1",children:"Current Stage"}),m.jsx("div",{className:"text-slate-700",children:e.current_stage})]}),((h=e.result)==null?void 0:h.word_count)&&m.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[m.jsx("div",{className:"text-slate-500 uppercase font-medium mb-1",children:"Word Count"}),m.jsx("div",{className:"text-slate-700",children:e.result.word_count})]}),((p=e.result)==null?void 0:p.reading_time_minutes)&&m.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[m.jsx("div",{className:"text-slate-500 uppercase font-medium mb-1",children:"Reading Time"}),m.jsxs("div",{className:"text-slate-700",children:[e.result.reading_time_minutes," min"]})]})]}),((g=e.result)==null?void 0:g.screenshot_url)&&m.jsxs("div",{className:"mt-4",children:[m.jsx("h4",{className:"font-semibold text-slate-900 mb-2 text-sm",children:"Screenshot"}),m.jsx("img",{src:e.result.screenshot_url,alt:"Page screenshot",className:"w-full max-w-2xl rounded-lg shadow-md border border-slate-200"})]}),e.status==="completed"&&e.result&&m.jsxs("div",{className:"mt-4 bg-white p-4 rounded-lg border border-slate-200",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:e.result.title||"Untitled"}),e.result.author&&m.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[m.jsx("strong",{children:"Author:"})," ",e.result.author]}),e.result.publish_date&&m.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[m.jsx("strong",{children:"Published:"})," ",new Date(e.result.publish_date).toLocaleDateString()]}),e.result.meta_description&&m.jsx("p",{className:"text-sm text-slate-700 leading-relaxed mb-2",children:e.result.meta_description}),e.result.content_text&&m.jsxs("details",{className:"mt-3",children:[m.jsxs("summary",{className:"cursor-pointer font-semibold text-indigo-600 hover:text-indigo-800 text-sm",children:["Show Full Content (",e.result.word_count||0," words)"]}),m.jsxs("div",{className:"mt-2 p-3 bg-slate-50 rounded text-sm text-slate-700 leading-relaxed max-h-96 overflow-y-auto whitespace-pre-wrap",children:[e.result.content_text.substring(0,5e3),e.result.content_text.length>5e3&&"..."]})]}),e.result.language&&m.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[m.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs",children:["Language: ",e.result.language]}),e.result.word_count&&m.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs",children:[" ",e.result.word_count," words"]}),e.result.reading_time_minutes&&m.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs",children:[" ",e.result.reading_time_minutes," min read"]})]})]}),e.semantic_data&&(e.semantic_data.claims||e.semantic_data.entities)&&m.jsxs("div",{className:"mt-4 bg-white p-4 rounded-lg border border-slate-200",children:[m.jsx("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2 text-sm",children:" Semantic Analysis"}),e.semantic_data.claims&&e.semantic_data.claims.length>0&&m.jsxs("details",{open:!0,className:"mb-3",children:[m.jsxs("summary",{className:"cursor-pointer font-medium text-indigo-600 hover:text-indigo-800 text-sm mb-2",children:["Claims (",e.semantic_data.claims.length,")"]}),m.jsx("div",{className:"space-y-2",children:e.semantic_data.claims.slice(0,10).map((d,_)=>m.jsxs("div",{className:"p-2 bg-slate-50 border-l-2 border-indigo-500 rounded text-sm",children:[m.jsx("div",{className:"font-medium text-slate-900",children:d.text||d.claim_text||""}),d.claim_type&&m.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Type: ",d.claim_type]})]},_))})]}),e.semantic_data.entities&&m.jsxs("details",{className:"mb-2",children:[m.jsx("summary",{className:"cursor-pointer font-medium text-indigo-600 hover:text-indigo-800 text-sm mb-2",children:"Entities"}),m.jsxs("div",{className:"space-y-2",children:[e.semantic_data.entities.people&&e.semantic_data.entities.people.length>0&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-xs text-slate-600",children:"People:"}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.semantic_data.entities.people.slice(0,10).map((d,_)=>m.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:typeof d=="string"?d:d.name},_))})]}),e.semantic_data.entities.organizations&&e.semantic_data.entities.organizations.length>0&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-xs text-slate-600",children:"Organizations:"}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.semantic_data.entities.organizations.slice(0,10).map((d,_)=>m.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-xs",children:typeof d=="string"?d:d.name},_))})]}),e.semantic_data.entities.locations&&e.semantic_data.entities.locations.length>0&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-xs text-slate-600",children:"Locations:"}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.semantic_data.entities.locations.slice(0,10).map((d,_)=>m.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-xs",children:typeof d=="string"?d:d.name},_))})]})]})]})]}),e.status==="failed"&&e.error&&m.jsxs("div",{className:"mt-4 p-3 bg-red-50 border-l-4 border-red-500 rounded text-sm",children:[m.jsx("strong",{className:"text-red-900",children:"Error:"}),m.jsx("p",{className:"text-red-700 mt-1",children:e.error})]}),e.status==="blocked"&&e.block_reason&&m.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border-l-4 border-amber-500 rounded text-sm",children:[m.jsx("strong",{className:"text-amber-900",children:"Blocked:"}),m.jsx("p",{className:"text-amber-700 mt-1",children:e.block_reason})]})]}):m.jsxs("div",{onClick:()=>r(!0),className:`py-2 px-3 bg-slate-50 border-l-2 ${u.borderColor} text-xs text-slate-500 cursor-pointer hover:bg-slate-100 transition-colors flex items-center gap-2`,children:[e.user_picture?m.jsx("img",{src:e.user_picture,alt:e.user_name,className:"w-6 h-6 rounded-full flex-shrink-0"}):m.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white text-xs font-semibold flex-shrink-0",children:e.user_name.charAt(0).toUpperCase()}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("span",{className:"font-medium text-slate-600",children:e.user_name})," ",m.jsxs("span",{className:u.color,children:["(",u.icon," ",u.text,")"]})," ","at ",i.absolute,c&&m.jsxs(m.Fragment,{children:[" "," ",m.jsx("span",{className:"text-slate-600",children:c})]}),u.storyLink&&m.jsxs(m.Fragment,{children:[" "," ",m.jsx("a",{href:`/story/${u.storyLink.id}`,className:"text-indigo-600 hover:text-indigo-800 underline",onClick:d=>d.stopPropagation(),children:u.storyLink.title})]})]}),m.jsx("span",{className:"text-slate-400 flex-shrink-0",children:""})]})}function Lb({submissions:e,onUpdate:n,enabled:r}){const i=M.useRef(null);M.useEffect(()=>{if(!(Array.isArray(e)&&e.some(u=>u.status==="pending"||u.status==="extracting"))){i.current&&(clearInterval(i.current),i.current=null);return}const a=async()=>{try{const u=await fetch("/api/events/mine",{credentials:"include"});if(u.ok){const c=await u.json();n(c)}}catch(u){console.error("Failed to poll submission status:",u)}};return a(),i.current=setInterval(a,1e3),()=>{i.current&&(clearInterval(i.current),i.current=null)}},[e,r,n])}function Mb(){const[e,n]=M.useState([]),[r,i]=M.useState(!0),[s,a]=M.useState(!1),[u,c]=M.useState(null),[h,p]=M.useState(!0),[g,d]=M.useState(0),[_,y]=M.useState(!1),[w,S]=M.useState([]),[P,x]=M.useState([]),[k,N]=M.useState(0),[j,E]=M.useState(0),T=Hn(),[z,O]=Cb(),B=12,D=1e3,V=M.useRef(null),H=M.useRef(null),Q=M.useCallback(ne=>{S(ne)},[]);Lb({submissions:w,onUpdate:Q,enabled:!0}),M.useEffect(()=>(R(),ee(!0),fe(),Z(),window.addEventListener("scroll",X),()=>{J(),window.removeEventListener("scroll",X)}),[]),M.useEffect(()=>{z.get("share")==="true"&&(y(!0),z.delete("share"),O(z,{replace:!0}))},[z,O]),M.useEffect(()=>{j!==k&&ee(!0)},[j]),M.useEffect(()=>{const ne=Array.isArray(e)?e:[],oe=Array.isArray(w)?w:[],ke=[...ne.map(xe=>({type:"event",data:xe,timestamp:xe.last_updated||xe.created_at||""})),...oe.map(xe=>({type:"submission",data:xe,timestamp:xe.created_at}))];ke.sort((xe,dt)=>{const ot=new Date(xe.timestamp).getTime();return new Date(dt.timestamp).getTime()-ot}),x(ke)},[e,w]);const R=()=>{const ne=localStorage.getItem("story_min_coherence");if(ne){const oe=parseFloat(ne);N(oe),E(oe)}},q=ne=>{localStorage.setItem("story_min_coherence",ne.toString())},W=ne=>{const oe=parseFloat(ne.target.value);N(oe),H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{E(oe),q(oe)},500)},ee=async(ne=!1)=>{try{ne&&(i(!0),n([]));const oe=new URLSearchParams({limit:B.toString(),min_coherence:j.toString()}),ke=await fetch(`/api/events?${oe}`);if(!ke.ok)throw new Error(`HTTP ${ke.status}: ${ke.statusText}`);const xe=await ke.json(),dt=Array.isArray(xe.events)?xe.events:[];n(dt),p(dt.length===B)}catch(oe){c(oe instanceof Error?oe.message:"Failed to load feed")}finally{i(!1)}},U=async()=>{if(!(s||!h)){a(!0);try{const ne=new URLSearchParams({limit:B.toString(),offset:e.length.toString(),min_coherence:j.toString()}),oe=await fetch(`/api/events?${ne}`);if(!oe.ok)throw new Error(`HTTP ${oe.status}: ${oe.statusText}`);const ke=await oe.json(),xe=Array.isArray(ke.events)?ke.events:[];n([...e,...xe]),p(xe.length===B)}catch(ne){c(ne instanceof Error?ne.message:"Failed to load more events")}finally{a(!1)}}},X=()=>{const ne=document.documentElement.scrollHeight,oe=document.documentElement.scrollTop,ke=document.documentElement.clientHeight;ne-oe-ke<D&&U()},Z=()=>{V.current=setInterval(()=>{re()},3e4)},J=()=>{V.current&&clearInterval(V.current)},re=async()=>{try{const ne=new URLSearchParams({limit:B.toString(),min_coherence:j.toString()}),oe=await fetch(`/api/events?${ne}`);if(!oe.ok)return;const xe=(await oe.json()).events||[];if(!Array.isArray(e)){console.warn("events is not an array:",e);return}if(xe.length>0&&e.length>0){const dt=xe[0].id||xe[0].event_id||xe[0].story_id;if(!e.some(bt=>(bt.id||bt.event_id||bt.story_id)===dt)){const bt=xe.findIndex(Vr=>{const bs=Vr.id||Vr.event_id||Vr.story_id;return e.some(Gr=>(Gr.id||Gr.event_id||Gr.story_id)===bs)});d(bt===-1?xe.length:bt),setTimeout(()=>{d(0)},5e3)}}}catch(ne){console.error("Background refresh failed:",ne)}},he=()=>{d(0),ee(!0)},ue=ne=>{T(`/event/${ne}`)},fe=async()=>{try{const ne=await fetch("/api/events/mine",{credentials:"include"});if(ne.ok){const oe=await ne.json(),ke=Array.isArray(oe)?oe:oe.events||[];console.log("Submissions data:",ke),ke.length>0&&console.log("First submission user_picture:",ke[0].user_picture),S(ke)}}catch(ne){console.error("Failed to load pending submissions:",ne)}},le=async(ne,oe)=>{if(oe.length===0)throw new Error("Please include at least one URL");const ke=[];for(const xe of oe){const dt=await fetch(`/api/artifacts?url=${encodeURIComponent(xe)}`,{method:"POST",credentials:"include"});if(!dt.ok){const bt=await dt.json();throw new Error(bt.detail||`Failed to submit ${xe}`)}const ot=await dt.json();ke.push({id:ot.page_id,user_id:"anonymous",user_name:"You",content:ne||ot.title||xe,urls:xe,status:"extracting",created_at:ot.created_at||new Date().toISOString(),preview_meta:{title:ot.title,description:ot.description,thumbnail_url:ot.thumbnail_url}})}S([...ke,...w]),y(!1)};return m.jsxs(m.Fragment,{children:[g>0&&m.jsxs("div",{onClick:he,className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg shadow-lg cursor-pointer z-50 animate-slideDown",children:[g," new ",g===1?"event":"events"," available - Click to refresh"]}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[!_&&m.jsx("button",{onClick:()=>y(!0),className:"w-full mb-6 p-4 border-2 border-dashed border-indigo-300 rounded-xl hover:border-indigo-500 hover:bg-indigo-50 transition-all group cursor-pointer",children:m.jsxs("div",{className:"flex items-center gap-3 text-slate-600 group-hover:text-indigo-600",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 group-hover:bg-indigo-200 flex items-center justify-center text-2xl transition-colors",children:"+"}),m.jsx("span",{className:"text-base font-medium",children:"Report an event or breaking news"})]})}),_&&m.jsx(Tb,{onSubmit:le,onCancel:()=>y(!1)}),m.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200",children:[m.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Minimum Coherence: ",(k*100).toFixed(0),"%"]}),m.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:k,onChange:W,className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"}),m.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[m.jsx("span",{children:"0%"}),m.jsx("span",{children:"50%"}),m.jsx("span",{children:"100%"})]})]}),u&&m.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:["Error: ",u]}),r?m.jsx("div",{className:"grid gap-6",children:Array(B).fill(0).map((ne,oe)=>m.jsx(xm,{},oe))}):P.length===0?m.jsx("div",{className:"text-center py-16",children:m.jsx("div",{className:"text-lg text-slate-600",children:"No events found"})}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"grid gap-6",children:P.map(ne=>{if(ne.type==="event"){const oe=ne.data.id||ne.data.event_id||ne.data.story_id;return m.jsx(Eb,{story:ne.data,onClick:()=>oe&&ue(oe)},oe)}else return m.jsx(e_,{submission:ne.data},ne.data.id)})}),s&&m.jsx("div",{className:"mt-6 grid gap-6",children:Array(3).fill(0).map((ne,oe)=>m.jsx(xm,{},oe))}),!h&&e.length>0&&m.jsx("div",{className:"text-center py-8 text-slate-400 text-sm italic",children:"No more events"})]})]})})]})}function t_({comment:e,allComments:n,depth:r,onReply:i,replyingTo:s,replyInput:a,onReplyInputChange:u,onSubmitReply:c,onCancelReply:h,submitting:p}){const g=n.filter(w=>w.parent_comment_id===e.id),d=(s==null?void 0:s.id)===e.id,_=jh(e.text),y=zi(e.created_at);return m.jsxs("div",{className:`${r>0?"ml-8 pl-4 border-l-2 border-slate-200":""}`,children:[m.jsxs("div",{className:"flex gap-3 py-3",children:[e.user_picture?m.jsx("img",{src:e.user_picture,alt:e.user_name,className:"w-10 h-10 rounded-full flex-shrink-0"}):m.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white font-semibold flex-shrink-0",children:e.user_name.charAt(0).toUpperCase()}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"font-semibold text-slate-900",children:e.user_name}),m.jsx("span",{className:"text-xs text-slate-400 cursor-help",title:y.fullDateTime,children:y.relative})]}),m.jsx("p",{className:"text-slate-700 leading-relaxed whitespace-pre-wrap text-sm mb-2",children:e.text}),_.length>0&&m.jsxs("div",{className:"space-y-2 mb-2",children:[_.slice(0,2).map((w,S)=>m.jsx(Ph,{url:w},S)),_.length>2&&m.jsxs("div",{className:"text-xs text-slate-500",children:["+",_.length-2," more link",_.length-2>1?"s":""]})]}),m.jsxs("button",{onClick:()=>i(e.id,e.user_name),className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium flex items-center gap-1",children:[m.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Reply"]})]})]}),d&&m.jsxs("div",{className:"ml-13 mr-3 mb-3 bg-slate-50 rounded-lg p-3 border border-slate-200",children:[m.jsxs("div",{className:"text-xs text-slate-600 mb-2",children:["Replying to ",m.jsx("span",{className:"font-semibold",children:s.name})]}),m.jsx("textarea",{value:a,onChange:w=>u(w.target.value),onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),c())},placeholder:"Write your reply...",disabled:p,rows:2,className:"w-full resize-none px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}),m.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[m.jsx("button",{onClick:h,className:"px-3 py-1.5 text-sm text-slate-600 hover:text-slate-800",children:"Cancel"}),m.jsxs("button",{onClick:c,disabled:p||!a.trim(),className:"px-4 py-1.5 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[p?"Posting...":"Reply",m.jsx("span",{className:"text-xs opacity-75",children:"(2)"})]})]})]}),g.length>0&&m.jsx("div",{className:"space-y-0",children:g.map(w=>m.jsx(t_,{comment:w,allComments:n,depth:r+1,onReply:i,replyingTo:s,replyInput:a,onReplyInputChange:u,onSubmitReply:c,onCancelReply:h,submitting:p},w.id))})]})}function zb({storyId:e}){const[n,r]=M.useState([]),[i,s]=M.useState(""),[a,u]=M.useState(""),[c,h]=M.useState(!1),[p,g]=M.useState(!1),[d,_]=M.useState(null),[y,w]=M.useState([]),S=M.useRef(null);M.useEffect(()=>{P()},[e]),M.useEffect(()=>{const O=jh(i);w(O)},[i]);const P=async()=>{try{h(!0);const O=await fetch(`/api/comments/story/${e}`);if(O.ok){const B=await O.json();r(B||[])}}catch(O){console.error("Error loading comments:",O)}finally{h(!1)}},x=async()=>{const O=i.trim();if(!(!O||p))try{g(!0);const B=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({story_id:e,text:O})});if(B.ok){const D=await B.json();s(""),S.current&&(S.current.style.height="auto"),await P(),D.credits_remaining!==void 0&&console.log(`Comment posted! ${D.credits_remaining} credits remaining`)}else if(B.status===402){const D=await B.json();alert(D.detail||"Insufficient credits to post comment")}else{const D=await B.json();alert(D.detail||"Failed to post comment")}}catch(B){console.error("Error posting comment:",B),alert("Error posting comment")}finally{g(!1)}},k=async()=>{const O=a.trim();if(!(!O||p||!d))try{g(!0);const B=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({story_id:e,text:O,parent_comment_id:d.id})});if(B.ok){const D=await B.json();u(""),_(null),await P(),D.credits_remaining!==void 0&&console.log(`Reply posted! ${D.credits_remaining} credits remaining`)}else if(B.status===402){const D=await B.json();alert(D.detail||"Insufficient credits to post reply")}else{const D=await B.json();alert(D.detail||"Failed to post reply")}}catch(B){console.error("Error posting reply:",B),alert("Error posting reply")}finally{g(!1)}},N=(O,B)=>{_({id:O,name:B}),u("")},j=()=>{_(null),u("")},E=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),x())},T=O=>{s(O.target.value);const B=O.target;B.style.height="auto";const D=Math.max(Math.min(B.scrollHeight,200),80);B.style.height=`${D}px`},z=n.filter(O=>!O.parent_comment_id);return m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Comments"}),!d&&m.jsxs("div",{className:"mb-8",children:[m.jsx("textarea",{ref:S,value:i,onChange:T,onKeyDown:E,placeholder:"Share your thoughts... (supports Chinese, Japanese, Korean)",disabled:p,rows:3,className:"w-full resize-none px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100 disabled:text-slate-400 text-sm leading-relaxed",style:{minHeight:"80px",maxHeight:"200px"}}),y.length>0&&m.jsxs("div",{className:"space-y-2 mt-3",children:[y.slice(0,2).map((O,B)=>m.jsx(Ph,{url:O},B)),y.length>2&&m.jsxs("div",{className:"text-xs text-slate-500",children:["+",y.length-2," more link",y.length-2>1?"s":""]})]}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsxs("p",{className:"text-xs text-slate-500",children:["Press ",m.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 border border-slate-200 rounded",children:"Enter"})," to post,",m.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 border border-slate-200 rounded ml-1",children:"Shift+Enter"})," for new line"]}),m.jsx("button",{onClick:x,disabled:p||!i.trim(),className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-medium hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center gap-1.5",children:p?"Posting...":m.jsxs(m.Fragment,{children:["Post Comment",m.jsx("span",{className:"text-xs opacity-75",children:"(2)"})]})})]})]}),c?m.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading comments..."}):n.length===0?m.jsx("div",{className:"text-center py-8 text-slate-400",children:"No comments yet. Be the first to comment!"}):m.jsx("div",{className:"space-y-2",children:z.map(O=>m.jsx(t_,{comment:O,allComments:n,depth:0,onReply:N,replyingTo:d,replyInput:a,onReplyInputChange:u,onSubmitReply:k,onCancelReply:j,submitting:p},O.id))})]})}function Ob({onSubmit:e,disabled:n=!1,placeholder:r="Ask a question..."}){const[i,s]=M.useState(""),a=M.useRef(null),u=()=>{const p=i.trim();!p||n||(e(p),s(""),a.current&&(a.current.style.height="auto"))},c=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),u())},h=p=>{s(p.target.value);const g=p.target;g.style.height="auto";const d=Math.max(Math.min(g.scrollHeight,200),56);g.style.height=`${d}px`};return m.jsxs("div",{className:"border-t border-slate-200 bg-white p-4",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsx("textarea",{ref:a,value:i,onChange:h,onKeyDown:c,placeholder:r,disabled:n,rows:2,className:"flex-1 resize-none px-4 py-3 border border-slate-200 rounded-xl bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100 disabled:text-slate-400 text-sm leading-relaxed",style:{maxHeight:"200px",minHeight:"56px",height:"56px"}}),m.jsx("button",{onClick:u,disabled:n||!i.trim(),className:"self-end px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition",children:"Send"})]}),m.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Press ",m.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 border border-slate-200 rounded",children:"Enter"})," to send,",m.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 border border-slate-200 rounded ml-1",children:"Shift+Enter"})," for new line"]})]})}const aa=10;function Ab({storyTitle:e,userCredits:n,onUnlock:r,onCancel:i}){const[s,a]=M.useState(!1),u=n>=aa,c=async()=>{if(!(!u||s)){a(!0);try{await r()}catch(h){console.error("Unlock failed:",h),a(!1)}}};return m.jsx(m.Fragment,{children:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",children:[m.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center",children:m.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),m.jsx("h2",{className:"text-2xl font-bold text-center text-slate-900 mb-2",children:"Unlock AI Chat"}),m.jsx("p",{className:"text-center text-slate-600 mb-6",children:"Get AI-powered insights and answers about:"}),m.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-6",children:m.jsx("p",{className:"text-sm font-medium text-slate-900 line-clamp-2",children:e})}),m.jsxs("div",{className:"space-y-3 mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-700",children:[m.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),m.jsx("span",{children:"Up to 100 messages per story"})]}),m.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-700",children:[m.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),m.jsx("span",{children:"Access to verified claims & entities"})]}),m.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-700",children:[m.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),m.jsx("span",{children:"Powered by GPT-4"})]})]}),m.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg p-4 mb-6",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-sm text-slate-600",children:"Unlock Cost"}),m.jsxs("div",{className:"text-2xl font-bold text-amber-700 flex items-center gap-1",children:[m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),aa]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm text-slate-600 text-right",children:"Your Balance"}),m.jsxs("div",{className:`text-2xl font-bold text-right ${u?"text-green-600":"text-red-600"}`,children:[n,""]})]})]}),!u&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:m.jsxs("p",{className:"text-sm text-red-800 text-center",children:["Insufficient credits. You need ",aa-n," more credits."]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:i,className:"flex-1 px-6 py-3 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition",children:"Cancel"}),m.jsx("button",{onClick:c,disabled:!u||s,className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-medium hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s?"Unlocking...":`Unlock for ${aa}`})]})]})})})}function Rb({storyId:e,storyTitle:n="this story",isOpen:r,onClose:i}){const[s,a]=M.useState([]),[u,c]=M.useState(!1),[h,p]=M.useState(null),[g,d]=M.useState(100),[_,y]=M.useState(!1),[w,S]=M.useState(!1),[P,x]=M.useState(null),k=M.useRef(null);M.useEffect(()=>{e&&r&&(N(),j())},[e,r]);const N=async()=>{try{const H=await fetch("/api/auth/status",{credentials:"include"});if(H.ok){const Q=await H.json();Q.authenticated&&x(Q.user)}}catch(H){console.error("Failed to load user:",H)}},j=async()=>{E(),await z()||y(!0)};M.useEffect(()=>{D()},[s]);const E=()=>{try{const H=localStorage.getItem(`chat_${e}`);H&&a(JSON.parse(H))}catch(H){console.error("Failed to load conversation history:",H)}},T=H=>{try{localStorage.setItem(`chat_${e}`,JSON.stringify(H))}catch(Q){console.error("Failed to save conversation history:",Q)}},z=async()=>{try{const H=await fetch(`/api/chat/session/${e}`,{credentials:"include"});if(H.ok){const Q=await H.json();return p(Q),Q&&d(Math.max(0,100-Q.message_count)),Q}return null}catch(H){return console.error("Failed to load session:",H),null}},O=async H=>{if(!H||u)return;const Q=[...s,{role:"user",content:H}];a(Q),c(!0);try{const R=await fetch("/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({story_id:e,message:H,conversation_history:s.slice(-10)})});if(!R.ok){const ee=await R.json();if(R.status===402){alert(ee.detail||"Insufficient credits to continue chatting"),a(s);return}throw new Error(ee.detail||"Failed to send message")}const q=await R.json(),W=[...Q,{role:"assistant",content:q.message}];a(W),T(W),d(q.remaining_messages),q.session_status==="exhausted"&&p({...h,status:"exhausted"}),q.credits_remaining!==void 0&&console.log(`Message sent! ${q.credits_remaining} credits remaining`)}catch(R){console.error("Error sending message:",R),alert(R instanceof Error?R.message:"Failed to send message"),a(s)}finally{c(!1)}},B=async()=>{try{S(!0);const H=await fetch("/api/chat/unlock",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({story_id:e})});if(!H.ok){const R=await H.json();throw new Error(R.detail||"Failed to unlock chat")}const Q=await H.json();p(Q),y(!1),await N()}catch(H){throw console.error("Unlock failed:",H),alert(H instanceof Error?H.message:"Failed to unlock chat"),H}finally{S(!1)}},D=()=>{setTimeout(()=>{var H;(H=k.current)==null||H.scrollIntoView({behavior:"smooth"})},100)},V=(h==null?void 0:h.status)==="exhausted";return r?_&&P?m.jsx(Ab,{storyTitle:n,userCredits:P.credits,onUnlock:B,onCancel:i}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-40",onClick:i}),m.jsxs("div",{className:"fixed top-0 right-0 bottom-0 w-96 bg-white shadow-2xl z-50 flex flex-col",children:[m.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 flex-shrink-0",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("h2",{className:"text-xl font-bold",children:"Story Chat"}),m.jsx("button",{onClick:i,className:"w-8 h-8 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 flex items-center justify-center transition",children:""})]}),m.jsxs("div",{className:"text-sm opacity-90",children:[g," / 100 messages remaining"]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[s.length===0?m.jsxs("div",{className:"text-center text-slate-400 mt-16",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsxs("p",{className:"leading-relaxed",children:["Start a conversation about this story.",m.jsx("br",{}),"Ask questions, explore connections, or get AI-powered insights."]})]}):s.map((H,Q)=>m.jsxs("div",{className:`flex ${H.role==="user"?"justify-end":"justify-start"}`,children:[H.role==="assistant"&&m.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold flex-shrink-0 mr-2",children:""}),m.jsx("div",{className:`max-w-[80%] px-4 py-3 rounded-xl ${H.role==="user"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-slate-100 text-slate-800"}`,children:H.content})]},Q)),u&&m.jsxs("div",{className:"flex justify-start",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold flex-shrink-0 mr-2",children:""}),m.jsx("div",{className:"bg-slate-100 px-4 py-3 rounded-xl",children:m.jsxs("div",{className:"flex gap-1",children:[m.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),m.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),m.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),m.jsx("div",{ref:k})]}),V?m.jsx("div",{className:"p-6 bg-red-50 border-t border-red-200",children:m.jsx("p",{className:"text-sm text-red-800",children:"You've reached the 100-message limit for this story. Start a new conversation by visiting another story."})}):m.jsx(Ob,{onSubmit:O,disabled:u,placeholder:"Ask a question about this story..."})]})]}):null}const Vu={person:"#805ad5",organization:"#3182ce",location:"#38a169",event:"#d69e2e",default:"#718096"};function Ib({name:e,canonicalId:n,metadata:r}){var h;const[i,s]=M.useState(!1),a=r!=null&&r.entity_type&&Vu[r.entity_type.toLowerCase()]||Vu.default,u=p=>{p.preventDefault(),console.log("Entity clicked:",e,n)},c=((h=r==null?void 0:r.entity_type)==null?void 0:h.toLowerCase())==="person";return m.jsxs("span",{style:{position:"relative",display:"inline-block"},children:[m.jsx("span",{onClick:u,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{cursor:"pointer",color:c?"#92400e":a,fontWeight:500,backgroundColor:c?"#fef3c7":"transparent",padding:c?"2px 4px":"0",borderRadius:c?"3px":"0",borderBottom:c?"none":`2px solid ${a}`,transition:"opacity 0.2s"},className:"hover:opacity-70",children:e}),i&&r&&m.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px",backgroundColor:"#2d3748",color:"white",padding:"12px",borderRadius:"8px",minWidth:"250px",maxWidth:"350px",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.3)",pointerEvents:"none"},children:[m.jsx("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid #2d3748"}}),m.jsxs("div",{className:"flex gap-3",children:[r.wikidata_thumbnail&&m.jsx("img",{src:r.wikidata_thumbnail,alt:r.name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0 border-2",style:{borderColor:a}}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"font-semibold text-blue-300 truncate",children:r.name}),r.entity_type&&m.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium text-white flex-shrink-0",style:{backgroundColor:a},children:r.entity_type})]}),m.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:[r.wikidata_qid&&m.jsx("span",{children:r.wikidata_qid}),r.claim_count!==void 0&&m.jsxs("span",{className:"ml-2",children:[" ",r.claim_count," claims"]})]}),(r.description||r.wikidata_description)&&m.jsx("div",{className:"text-xs text-gray-200 line-clamp-3",children:r.description||r.wikidata_description})]})]})]})]})}function Db({content:e,entities:n}){const[r,i]=M.useState({});M.useEffect(()=>{var p,g,d;if(!n)return;const c={},h=(_,y)=>{const w=_.canonical_id||_.name;c[w]={name:_.name,canonical_id:_.canonical_id,qid:_.wikidata_qid,wikidata_qid:_.wikidata_qid,description:_.description,wikidata_description:_.wikidata_description,wikidata_thumbnail:_.wikidata_thumbnail,entity_type:y,claim_count:_.claim_count},c[_.name]=c[w]};(p=n.people)==null||p.forEach(_=>h(_,"person")),(g=n.organizations)==null||g.forEach(_=>h(_,"organization")),(d=n.locations)==null||d.forEach(_=>h(_,"location")),i(c)},[n]);const s=c=>{const h=[];let p=0;const g=/\[\[([^\]|]+)(?:\|([^\]]+))?\]\]|\{\{cite:([^}]+)\}\}/g;let d;for(;(d=g.exec(c))!==null;)d.index>p&&h.push({type:"text",content:c.substring(p,d.index)}),d[1]?h.push({type:"entity",content:d[0],entityName:d[1],entityId:d[2]||d[1]}):d[3]&&h.push({type:"citation",content:d[0],citationId:d[3]}),p=g.lastIndex;return p<c.length&&h.push({type:"text",content:c.substring(p)}),h},a=(c,h)=>{const p=s(c);return m.jsx("p",{className:"mb-4 leading-relaxed text-slate-700",children:p.map((g,d)=>{if(g.type==="text")return m.jsx("span",{children:g.content},d);if(g.type==="entity"){const _=r[g.entityId]||r[g.entityName];return m.jsx(Ib,{name:g.entityName,canonicalId:g.entityId,metadata:_},d)}else if(g.type==="citation")return m.jsx("sup",{className:"citation-marker","data-citation-id":g.citationId,title:`Citation: ${g.citationId}`,children:"[cite]"},d);return null})},h)},u=e.split(`

`).filter(c=>c.trim());return m.jsxs("div",{className:"prose max-w-none",children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:`
          .citation-marker {
            color: #6366f1;
            font-size: 0.75em;
            font-weight: 600;
            margin-left: 0.1em;
            cursor: pointer;
          }
          .citation-marker:hover {
            text-decoration: underline;
          }
        `}}),u.map((c,h)=>a(c,h))]})}function Gu({entity:e,type:n}){const r={person:"",organization:"",location:""},i={person:"from-blue-500 to-indigo-500",organization:"from-purple-500 to-pink-500",location:"from-green-500 to-teal-500"};return m.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:shadow-md transition",children:m.jsxs("div",{className:"flex gap-3",children:[e.wikidata_thumbnail?m.jsx("img",{src:e.wikidata_thumbnail,alt:e.name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}):m.jsx("div",{className:`w-16 h-16 rounded-lg bg-gradient-to-br ${i[n]} flex items-center justify-center text-2xl flex-shrink-0`,children:r[n]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-semibold text-slate-900 mb-1",children:e.name}),(e.description||e.wikidata_description)&&m.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:e.description||e.wikidata_description}),e.wikidata_qid&&m.jsx("a",{href:`https://www.wikidata.org/wiki/${e.wikidata_qid}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-600 hover:text-indigo-700 mt-1 inline-block",children:"View on Wikidata "})]})]})})}function Bb({claims:e}){return e.length===0?m.jsx("div",{className:"text-center py-8 text-slate-400",children:"No claims extracted yet"}):m.jsx("div",{className:"space-y-3",children:e.map((n,r)=>m.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-semibold text-sm flex-shrink-0",children:r+1}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-slate-800 leading-relaxed",children:n.text}),n.confidence!==void 0&&m.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[m.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:m.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full transition-all",style:{width:`${n.confidence*100}%`}})}),m.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[(n.confidence*100).toFixed(0),"%"]})]})]})]})},n.id||r))})}function Fb({artifacts:e}){return e.length===0?m.jsx("div",{className:"text-center py-8 text-slate-400",children:"No source articles found"}):m.jsx("div",{className:"space-y-3",children:e.map((n,r)=>{const i=zi(n.published_at);return m.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"block border border-slate-200 rounded-lg p-4 hover:shadow-md hover:border-indigo-300 transition",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded bg-slate-100 flex items-center justify-center text-slate-400 flex-shrink-0",children:""}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-medium text-slate-900 mb-1 line-clamp-2",children:n.title||"Untitled Article"}),m.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[m.jsx("span",{className:"font-medium text-indigo-600",children:n.domain}),n.published_at&&i.absolute!=="Date unknown"&&m.jsxs("span",{className:`cursor-help ${i.reliable?"":"opacity-50"}`,title:i.fullDateTime,children:[i.absolute,!i.reliable&&m.jsx("span",{className:"ml-1",children:""})]})]})]}),m.jsx("svg",{className:"w-5 h-5 text-slate-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})},r)})})}function Ub({breakdown:e}){const n=[{label:"Entity Overlap",value:e.entity_overlap,color:"indigo"},{label:"Centrality",value:e.centrality,color:"purple"},{label:"Claim Density",value:e.claim_density,color:"pink"}],r=i=>({indigo:"bg-indigo-500",purple:"bg-purple-500",pink:"bg-pink-500"})[i]||"bg-slate-500";return m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Coherence Breakdown"}),m.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Overall Coherence"}),m.jsxs("span",{className:"text-2xl font-bold text-indigo-600",children:[e.score.toFixed(1),"/100"]})]}),m.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:m.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all",style:{width:`${e.score}%`}})})]}),m.jsx("div",{className:"space-y-4 mb-6",children:n.map(i=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("span",{className:"text-sm text-slate-600",children:i.label}),m.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:[i.value.toFixed(1),"%"]})]}),m.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:m.jsx("div",{className:`${r(i.color)} h-2 rounded-full transition-all`,style:{width:`${i.value}%`}})})]},i.label))}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-slate-900",children:e.breakdown.shared_entities}),m.jsx("div",{className:"text-xs text-slate-500",children:"Shared Entities"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-slate-900",children:e.breakdown.total_entities}),m.jsx("div",{className:"text-xs text-slate-500",children:"Total Entities"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-slate-900",children:e.breakdown.avg_entity_stories.toFixed(1)}),m.jsx("div",{className:"text-xs text-slate-500",children:"Avg Stories/Entity"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-slate-900",children:e.breakdown.claim_count}),m.jsx("div",{className:"text-xs text-slate-500",children:"Claims"})]})]})]})}function $b({stories:e}){const n=Hn();return e.length===0?m.jsx("div",{className:"text-center py-8 text-slate-400",children:"No related stories found"}):m.jsx("div",{className:"space-y-3",children:e.map(r=>m.jsx("div",{onClick:()=>n(`/story/${r.id}`),className:"border border-slate-200 rounded-lg p-4 hover:shadow-md hover:border-indigo-300 transition cursor-pointer",children:m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-medium text-slate-900 mb-2 line-clamp-2",children:r.title}),m.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:m.jsxs("span",{className:"inline-flex items-center gap-1",children:[m.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),r.shared_entities," shared ",r.shared_entities===1?"entity":"entities"]})})]}),m.jsx("svg",{className:"w-5 h-5 text-slate-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},r.id))})}function wm(){var y,w,S,P,x,k,N,j;const{storyId:e}=Xv(),[n,r]=M.useState(null),[i,s]=M.useState(!0),[a,u]=M.useState(null),[c,h]=M.useState(!1),[p,g]=M.useState("entities");M.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{s(!0);const E=await fetch(`/api/stories/${e}`);if(!E.ok)throw new Error(`HTTP ${E.status}: ${E.statusText}`);const T=await E.json();r(T.story)}catch(E){u(E instanceof Error?E.message:"Failed to load story")}finally{s(!1)}};if(i)return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",children:[m.jsx(Ao,{}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 text-center",children:m.jsx("div",{className:"text-white text-xl",children:"Loading story..."})})]});if(a||!n)return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",children:[m.jsx(Ao,{}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:m.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:["Error: ",a||"Story not found"]})})]});const _=[...((y=n.entities)==null?void 0:y.people)||[],...((w=n.entities)==null?void 0:w.organizations)||[],...((S=n.entities)==null?void 0:S.locations)||[]];return m.jsxs("div",{className:"min-h-screen bg-slate-50",children:[m.jsx(Ao,{}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:n.title}),n.description&&m.jsx("p",{className:"text-lg text-slate-600 leading-relaxed mb-6",children:n.description}),m.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm border-y border-slate-200 py-4",children:[n.coherence!==void 0&&m.jsxs("div",{children:[m.jsx("span",{className:"text-slate-500",children:"Coherence: "}),m.jsxs("span",{className:"font-bold text-indigo-600 text-lg",children:[(n.coherence*100).toFixed(0),"%"]})]}),n.claim_count!==void 0&&m.jsxs("div",{children:[m.jsx("span",{className:"text-slate-500",children:"Claims: "}),m.jsx("span",{className:"font-semibold text-slate-700",children:n.claim_count})]}),n.artifact_count!==void 0&&m.jsxs("div",{children:[m.jsx("span",{className:"text-slate-500",children:"Sources: "}),m.jsx("span",{className:"font-semibold text-slate-700",children:n.artifact_count})]}),n.timely!==void 0&&m.jsxs("div",{children:[m.jsx("span",{className:"text-slate-500",children:"Timely: "}),m.jsxs("span",{className:"font-semibold text-emerald-600",children:[n.timely.toFixed(0),"%"]})]}),(()=>{const E=zi(n.created_at),T=zi(n.last_updated),z=n.last_updated&&n.last_updated!==n.created_at;return m.jsxs("div",{className:"flex items-center gap-4",children:[E.absolute!=="Date unknown"&&m.jsxs("div",{className:"cursor-help",title:`Created: ${E.fullDateTime}`,children:[m.jsx("span",{className:"text-slate-500",children:"Created: "}),m.jsx("span",{className:"text-slate-700",children:E.absolute})]}),z&&T.absolute!=="Date unknown"&&m.jsxs("div",{className:"cursor-help",title:`Last updated: ${T.fullDateTime}`,children:[m.jsx("span",{className:"text-slate-500",children:"Updated: "}),m.jsx("span",{className:"text-slate-700",children:T.relative})]})]})})()]}),n.content&&m.jsx("div",{className:"mt-6",children:m.jsx(Db,{content:n.content})})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[m.jsx("div",{className:"border-b border-slate-200",children:m.jsxs("div",{className:"flex",children:[m.jsxs("button",{onClick:()=>g("entities"),className:`flex-1 px-6 py-4 text-sm font-medium transition ${p==="entities"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:["Entities (",_.length,")"]}),m.jsxs("button",{onClick:()=>g("claims"),className:`flex-1 px-6 py-4 text-sm font-medium transition ${p==="claims"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:["Claims (",((P=n.claims)==null?void 0:P.length)||0,")"]}),m.jsxs("button",{onClick:()=>g("sources"),className:`flex-1 px-6 py-4 text-sm font-medium transition ${p==="sources"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:["Sources (",((x=n.artifacts)==null?void 0:x.length)||0,")"]})]})}),m.jsxs("div",{className:"p-6",children:[p==="entities"&&m.jsxs("div",{className:"space-y-6",children:[((k=n.entities)==null?void 0:k.people)&&n.entities.people.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"People"}),m.jsx("div",{className:"grid gap-3",children:n.entities.people.map(E=>m.jsx(Gu,{entity:E,type:"person"},E.id))})]}),((N=n.entities)==null?void 0:N.organizations)&&n.entities.organizations.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Organizations"}),m.jsx("div",{className:"grid gap-3",children:n.entities.organizations.map(E=>m.jsx(Gu,{entity:E,type:"organization"},E.id))})]}),((j=n.entities)==null?void 0:j.locations)&&n.entities.locations.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Locations"}),m.jsx("div",{className:"grid gap-3",children:n.entities.locations.map(E=>m.jsx(Gu,{entity:E,type:"location"},E.id))})]}),_.length===0&&m.jsx("div",{className:"text-center py-8 text-slate-400",children:"No entities extracted yet"})]}),p==="claims"&&m.jsx(Bb,{claims:n.claims||[]}),p==="sources"&&m.jsx(Fb,{artifacts:n.artifacts||[]})]})]}),e&&m.jsx(zb,{storyId:e})]}),m.jsxs("div",{className:"space-y-6",children:[n.coherence_breakdown&&m.jsx(Ub,{breakdown:n.coherence_breakdown}),n.related_stories&&n.related_stories.length>0&&m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Related Stories"}),m.jsx($b,{stories:n.related_stories})]})]})]})}),!c&&m.jsx("button",{onClick:()=>h(!0),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg hover:shadow-xl hover:scale-110 transition-all z-40 flex items-center justify-center","aria-label":"Open story chat",title:"Chat with Story",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),e&&m.jsx(Rb,{storyId:e,isOpen:c,onClose:()=>h(!1)})]})}const Hb=({claims:e})=>{const[n,r]=M.useState(1),[i,s]=M.useState(0),[a,u]=M.useState(!1),[c,h]=M.useState(0),p=M.useRef(null),g=e.filter(x=>x.event_time).map(x=>({id:x.id,text:x.text,time:new Date(x.event_time),confidence:x.confidence||.5})).sort((x,k)=>x.time.getTime()-k.time.getTime()),d=[];g.forEach(x=>{const k=d[d.length-1];if(k&&k.length>0){const N=k[k.length-1].time.getTime(),j=x.time.getTime();Math.abs(j-N)/(1e3*60*60)<1?k.push(x):d.push([x])}else d.push([x])});const _=x=>{u(!0),h(x.clientX-i)},y=x=>{a&&s(x.clientX-c)},w=()=>{u(!1)},S=x=>{x.preventDefault();const k=x.deltaY>0?.9:1.1;r(N=>Math.max(.5,Math.min(3,N*k)))},P=x=>x.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return g.length===0?m.jsx("div",{className:"h-[600px] bg-gray-900 rounded-lg flex items-center justify-center",children:m.jsx("p",{className:"text-gray-400",children:"No timeline data available"})}):m.jsxs("div",{className:"relative h-[600px] bg-gray-900 rounded-lg overflow-hidden",children:[m.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[m.jsx("button",{onClick:()=>r(x=>Math.min(3,x*1.2)),className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"+"}),m.jsx("button",{onClick:()=>r(1),className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"Reset"}),m.jsx("button",{onClick:()=>r(x=>Math.max(.5,x*.8)),className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"-"})]}),m.jsx("div",{ref:p,className:"w-full h-full overflow-hidden cursor-grab active:cursor-grabbing",onMouseDown:_,onMouseMove:y,onMouseUp:w,onMouseLeave:w,onWheel:S,children:m.jsxs("div",{className:"relative h-full",style:{transform:`translateX(${i}px) scale(${n})`,transformOrigin:"left center",transition:a?"none":"transform 0.2s ease-out",width:`${d.length*400}px`,padding:"100px 50px"},children:[m.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-0.5 bg-gradient-to-r from-blue-500/30 via-purple-500/30 to-blue-500/30"}),d.map((x,k)=>{const N=k*400,j=200+(k%2===0?0:100),E=k%2===0;return m.jsxs("div",{className:"absolute",style:{left:`${N}px`,top:`${j}px`},children:[m.jsx("div",{className:`absolute left-1/2 w-0.5 bg-gradient-to-b from-blue-500 to-transparent ${E?"bottom-full mb-2":"top-full mt-2"}`,style:{height:"60px"}}),m.jsxs("div",{className:"absolute -translate-x-1/2 left-1/2 -bottom-16 text-center",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mx-auto mb-2"}),m.jsx("div",{className:"text-xs text-gray-400 whitespace-nowrap",children:P(x[0].time)})]}),m.jsx("div",{className:"w-80 bg-gray-800 rounded-lg p-4 shadow-xl border border-gray-700",children:m.jsx("div",{className:"space-y-2",children:x.map((T,z)=>m.jsxs("div",{className:z>0?"pt-2 border-t border-gray-700":"",children:[m.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:T.text}),m.jsx("div",{className:"mt-1 flex items-center gap-2 text-xs text-gray-500",children:m.jsxs("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded",children:[Math.round(T.confidence*100),"%"]})})]},T.id))})})]},k)})]})}),m.jsx("div",{className:"absolute bottom-4 left-4 text-xs text-gray-500",children:"Drag to pan  Scroll to zoom"})]})},Zb=({entities:e,claims:n,eventName:r})=>{const[i,s]=M.useState(null),[a,u]=M.useState("all"),c=()=>{const d=[];d.push({id:"event",label:r.length>30?r.slice(0,30)+"...":r,type:"event",color:"#667eea",x:400,y:300,radius:40,fullText:r});const w=180;e.forEach((x,k)=>{const N=k/e.length*Math.PI*2;d.push({id:x.id,label:x.canonical_name.length>20?x.canonical_name.slice(0,20)+"...":x.canonical_name,type:"entity",color:h(x.entity_type),x:400+Math.cos(N)*w,y:300+Math.sin(N)*w,radius:20,fullText:x.canonical_name})});const S=280,P=n.slice(0,30);return P.forEach((x,k)=>{const N=k/P.length*Math.PI*2;d.push({id:x.id,label:x.text.slice(0,25)+"...",type:"claim",color:"#34d399",x:400+Math.cos(N)*S,y:300+Math.sin(N)*S,radius:8,fullText:x.text})}),d},h=d=>({PERSON:"#f59e0b",ORGANIZATION:"#8b5cf6",LOCATION:"#10b981",GPE:"#10b981",EVENT:"#667eea"})[d.toUpperCase()]||"#6b7280",g=c().filter(d=>a==="all"?!0:a==="entities"?d.type==="event"||d.type==="entity":a==="claims"?d.type==="event"||d.type==="claim":!0);return e.length===0&&n.length===0?m.jsx("div",{className:"h-[600px] bg-gray-900 rounded-lg flex items-center justify-center",children:m.jsx("p",{className:"text-gray-400",children:"No graph data available"})}):m.jsxs("div",{className:"h-[600px] bg-gray-900 rounded-lg overflow-hidden relative",children:[m.jsxs("div",{className:"absolute top-4 left-4 z-10 flex gap-2",children:[m.jsx("button",{onClick:()=>u("all"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${a==="all"?"bg-blue-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"All"}),m.jsx("button",{onClick:()=>u("entities"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${a==="entities"?"bg-blue-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Entities"}),m.jsx("button",{onClick:()=>u("claims"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${a==="claims"?"bg-blue-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Claims"})]}),m.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 800 600",children:[m.jsx("defs",{children:m.jsxs("radialGradient",{id:"bg-gradient",cx:"50%",cy:"50%",children:[m.jsx("stop",{offset:"0%",stopColor:"#1a1a2e"}),m.jsx("stop",{offset:"100%",stopColor:"#0a0a0a"})]})}),m.jsx("rect",{width:"800",height:"600",fill:"url(#bg-gradient)"}),m.jsx("g",{opacity:"0.3",children:g.filter(d=>d.type!=="event").map(d=>m.jsx("line",{x1:400,y1:300,x2:d.x,y2:d.y,stroke:d.color,strokeWidth:d.type==="entity"?2:1,strokeDasharray:d.type==="claim"?"4,4":void 0},`link-${d.id}`))}),g.map(d=>m.jsxs("g",{onMouseEnter:()=>s(d),onMouseLeave:()=>s(null),className:"cursor-pointer transition-transform hover:scale-110",children:[(i==null?void 0:i.id)===d.id&&m.jsx("circle",{cx:d.x,cy:d.y,r:d.radius+8,fill:d.color,opacity:"0.3"}),m.jsx("circle",{cx:d.x,cy:d.y,r:d.radius,fill:d.color,stroke:"white",strokeWidth:d.type==="event"?3:2,opacity:i&&i.id!==d.id?.5:1}),d.type!=="claim"&&m.jsx("text",{x:d.x,y:d.y+d.radius+15,textAnchor:"middle",fill:"white",fontSize:d.type==="event"?14:11,fontWeight:d.type==="event"?"bold":"normal",opacity:i&&i.id!==d.id?.5:.9,children:d.label})]},d.id))]}),i&&m.jsxs("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-gray-800 rounded-lg p-4 max-w-md shadow-2xl border border-gray-700 z-20",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),m.jsx("span",{className:"font-semibold capitalize",children:i.type})]}),m.jsx("p",{className:"text-sm text-gray-300",children:i.fullText||i.label})]}),m.jsxs("div",{className:"absolute top-4 right-4 bg-gray-800 rounded-lg p-3 text-xs space-y-2",children:[m.jsx("div",{className:"font-semibold mb-2 text-gray-300",children:"Legend"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full bg-[#667eea] border-2 border-white"}),m.jsx("span",{children:"Event"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-[#f59e0b] border-2 border-white"}),m.jsx("span",{children:"Person"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8b5cf6] border-2 border-white"}),m.jsx("span",{children:"Organization"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-[#10b981] border-2 border-white"}),m.jsx("span",{children:"Location"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34d399] border border-white"}),m.jsx("span",{children:"Claim"})]})]}),m.jsxs("div",{className:"absolute bottom-4 left-4 text-xs text-gray-500",children:[g.length," nodes visible  Hover to see details"]})]})};function n_(e,n){const r=M.useRef(n);M.useEffect(function(){n!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),n!=null&&e.attributionControl.addAttribution(n)),r.current=n},[e,n])}const Wb=1;function Vb(e){return Object.freeze({__version:Wb,map:e})}function r_(e,n){return Object.freeze({...e,...n})}const i_=M.createContext(null),o_=i_.Provider;function Ml(){const e=M.useContext(i_);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function s_(e){function n(r,i){const{instance:s,context:a}=e(r).current;return M.useImperativeHandle(i,()=>s),r.children==null?null:Rn.createElement(o_,{value:a},r.children)}return M.forwardRef(n)}function Gb(e){function n(r,i){const[s,a]=M.useState(!1),{instance:u}=e(r,a).current;M.useImperativeHandle(i,()=>u),M.useEffect(function(){s&&u.update()},[u,s,r.children]);const c=u._contentNode;return c?Uv.createPortal(r.children,c):null}return M.forwardRef(n)}function qb(e){function n(r,i){const{instance:s}=e(r).current;return M.useImperativeHandle(i,()=>s),null}return M.forwardRef(n)}function Eh(e,n){const r=M.useRef();M.useEffect(function(){return n!=null&&e.instance.on(n),r.current=n,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,n])}function zl(e,n){const r=e.pane??n.pane;return r?{...e,pane:r}:e}function Xb(e,n){return function(i,s){const a=Ml(),u=e(zl(i,a),a);return n_(a.map,i.attribution),Eh(u.current,i.eventHandlers),n(u.current,a,i,s),u}}var rf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(r,i){i(n)})(Kx,function(r){var i="1.9.4";function s(o){var l,f,v,b;for(f=1,v=arguments.length;f<v;f++){b=arguments[f];for(l in b)o[l]=b[l]}return o}var a=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function u(o,l){var f=Array.prototype.slice;if(o.bind)return o.bind.apply(o,f.call(arguments,1));var v=f.call(arguments,2);return function(){return o.apply(l,v.length?v.concat(f.call(arguments)):arguments)}}var c=0;function h(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function p(o,l,f){var v,b,C,A;return A=function(){v=!1,b&&(C.apply(f,b),b=!1)},C=function(){v?b=arguments:(o.apply(f,arguments),setTimeout(A,l),v=!0)},C}function g(o,l,f){var v=l[1],b=l[0],C=v-b;return o===v&&f?o:((o-b)%C+C)%C+b}function d(){return!1}function _(o,l){if(l===!1)return o;var f=Math.pow(10,l===void 0?6:l);return Math.round(o*f)/f}function y(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function w(o){return y(o).split(/\s+/)}function S(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?a(o.options):{});for(var f in l)o.options[f]=l[f];return o.options}function P(o,l,f){var v=[];for(var b in o)v.push(encodeURIComponent(f?b.toUpperCase():b)+"="+encodeURIComponent(o[b]));return(!l||l.indexOf("?")===-1?"?":"&")+v.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function k(o,l){return o.replace(x,function(f,v){var b=l[v];if(b===void 0)throw new Error("No value provided for variable "+f);return typeof b=="function"&&(b=b(l)),b})}var N=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function j(o,l){for(var f=0;f<o.length;f++)if(o[f]===l)return f;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var z=0;function O(o){var l=+new Date,f=Math.max(0,16-(l-z));return z=l+f,window.setTimeout(o,f)}var B=window.requestAnimationFrame||T("RequestAnimationFrame")||O,D=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function V(o,l,f){if(f&&B===O)o.call(l);else return B.call(window,u(o,l))}function H(o){o&&D.call(window,o)}var Q={__proto__:null,extend:s,create:a,bind:u,get lastId(){return c},stamp:h,throttle:p,wrapNum:g,falseFn:d,formatNum:_,trim:y,splitWords:w,setOptions:S,getParamString:P,template:k,isArray:N,indexOf:j,emptyImageUrl:E,requestFn:B,cancelFn:D,requestAnimFrame:V,cancelAnimFrame:H};function R(){}R.extend=function(o){var l=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,v=a(f);v.constructor=l,l.prototype=v;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(l[b]=this[b]);return o.statics&&s(l,o.statics),o.includes&&(q(o.includes),s.apply(null,[v].concat(o.includes))),s(v,o),delete v.statics,delete v.includes,v.options&&(v.options=f.options?a(f.options):{},s(v.options,o.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,A=v._initHooks.length;C<A;C++)v._initHooks[C].call(this)}},l},R.include=function(o){var l=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},R.mergeOptions=function(o){return s(this.prototype.options,o),this},R.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),f=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function q(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=N(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(o,l,f){if(typeof o=="object")for(var v in o)this._on(v,o[v],l);else{o=w(o);for(var b=0,C=o.length;b<C;b++)this._on(o[b],l,f)}return this},off:function(o,l,f){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var v in o)this._off(v,o[v],l);else{o=w(o);for(var b=arguments.length===1,C=0,A=o.length;C<A;C++)b?this._off(o[C]):this._off(o[C],l,f)}return this},_on:function(o,l,f,v){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,f)===!1){f===this&&(f=void 0);var b={fn:l,ctx:f};v&&(b.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(b)}},_off:function(o,l,f){var v,b,C;if(this._events&&(v=this._events[o],!!v)){if(arguments.length===1){if(this._firingCount)for(b=0,C=v.length;b<C;b++)v[b].fn=d;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var A=this._listens(o,l,f);if(A!==!1){var F=v[A];this._firingCount&&(F.fn=d,this._events[o]=v=v.slice()),v.splice(A,1)}}},fire:function(o,l,f){if(!this.listens(o,f))return this;var v=s({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var b=this._events[o];if(b){this._firingCount=this._firingCount+1||1;for(var C=0,A=b.length;C<A;C++){var F=b[C],$=F.fn;F.once&&this.off(o,$,F.ctx),$.call(F.ctx||this,v)}this._firingCount--}}return f&&this._propagateEvent(v),this},listens:function(o,l,f,v){typeof o!="string"&&console.warn('"string" type argument expected');var b=l;typeof l!="function"&&(v=!!l,b=void 0,f=void 0);var C=this._events&&this._events[o];if(C&&C.length&&this._listens(o,b,f)!==!1)return!0;if(v){for(var A in this._eventParents)if(this._eventParents[A].listens(o,l,f,v))return!0}return!1},_listens:function(o,l,f){if(!this._events)return!1;var v=this._events[o]||[];if(!l)return!!v.length;f===this&&(f=void 0);for(var b=0,C=v.length;b<C;b++)if(v[b].fn===l&&v[b].ctx===f)return b;return!1},once:function(o,l,f){if(typeof o=="object")for(var v in o)this._on(v,o[v],l,!0);else{o=w(o);for(var b=0,C=o.length;b<C;b++)this._on(o[b],l,f,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[h(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[h(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var ee=R.extend(W);function U(o,l,f){this.x=f?Math.round(o):o,this.y=f?Math.round(l):l}var X=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(o){return this.clone()._add(Z(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Z(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new U(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new U(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(o){o=Z(o);var l=o.x-this.x,f=o.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(o){return o=Z(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Z(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function Z(o,l,f){return o instanceof U?o:N(o)?new U(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new U(o.x,o.y):new U(o,l,f)}function J(o,l){if(o)for(var f=l?[o,l]:o,v=0,b=f.length;v<b;v++)this.extend(f[v])}J.prototype={extend:function(o){var l,f;if(!o)return this;if(o instanceof U||typeof o[0]=="number"||"x"in o)l=f=Z(o);else if(o=re(o),l=o.min,f=o.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(o){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,f;return typeof o[0]=="number"||o instanceof U?o=Z(o):o=re(o),o instanceof J?(l=o.min,f=o.max):l=f=o,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(o){o=re(o);var l=this.min,f=this.max,v=o.min,b=o.max,C=b.x>=l.x&&v.x<=f.x,A=b.y>=l.y&&v.y<=f.y;return C&&A},overlaps:function(o){o=re(o);var l=this.min,f=this.max,v=o.min,b=o.max,C=b.x>l.x&&v.x<f.x,A=b.y>l.y&&v.y<f.y;return C&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,f=this.max,v=Math.abs(l.x-f.x)*o,b=Math.abs(l.y-f.y)*o;return re(Z(l.x-v,l.y-b),Z(f.x+v,f.y+b))},equals:function(o){return o?(o=re(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function re(o,l){return!o||o instanceof J?o:new J(o,l)}function he(o,l){if(o)for(var f=l?[o,l]:o,v=0,b=f.length;v<b;v++)this.extend(f[v])}he.prototype={extend:function(o){var l=this._southWest,f=this._northEast,v,b;if(o instanceof fe)v=o,b=o;else if(o instanceof he){if(v=o._southWest,b=o._northEast,!v||!b)return this}else return o?this.extend(le(o)||ue(o)):this;return!l&&!f?(this._southWest=new fe(v.lat,v.lng),this._northEast=new fe(b.lat,b.lng)):(l.lat=Math.min(v.lat,l.lat),l.lng=Math.min(v.lng,l.lng),f.lat=Math.max(b.lat,f.lat),f.lng=Math.max(b.lng,f.lng)),this},pad:function(o){var l=this._southWest,f=this._northEast,v=Math.abs(l.lat-f.lat)*o,b=Math.abs(l.lng-f.lng)*o;return new he(new fe(l.lat-v,l.lng-b),new fe(f.lat+v,f.lng+b))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof fe||"lat"in o?o=le(o):o=ue(o);var l=this._southWest,f=this._northEast,v,b;return o instanceof he?(v=o.getSouthWest(),b=o.getNorthEast()):v=b=o,v.lat>=l.lat&&b.lat<=f.lat&&v.lng>=l.lng&&b.lng<=f.lng},intersects:function(o){o=ue(o);var l=this._southWest,f=this._northEast,v=o.getSouthWest(),b=o.getNorthEast(),C=b.lat>=l.lat&&v.lat<=f.lat,A=b.lng>=l.lng&&v.lng<=f.lng;return C&&A},overlaps:function(o){o=ue(o);var l=this._southWest,f=this._northEast,v=o.getSouthWest(),b=o.getNorthEast(),C=b.lat>l.lat&&v.lat<f.lat,A=b.lng>l.lng&&v.lng<f.lng;return C&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=ue(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(o,l){return o instanceof he?o:new he(o,l)}function fe(o,l,f){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,f!==void 0&&(this.alt=+f)}fe.prototype={equals:function(o,l){if(!o)return!1;o=le(o);var f=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return f<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+_(this.lat,o)+", "+_(this.lng,o)+")"},distanceTo:function(o){return oe.distance(this,le(o))},wrap:function(){return oe.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,f=l/Math.cos(Math.PI/180*this.lat);return ue([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function le(o,l,f){return o instanceof fe?o:N(o)&&typeof o[0]!="object"?o.length===3?new fe(o[0],o[1],o[2]):o.length===2?new fe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new fe(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new fe(o,l,f)}var ne={latLngToPoint:function(o,l){var f=this.projection.project(o),v=this.scale(l);return this.transformation._transform(f,v)},pointToLatLng:function(o,l){var f=this.scale(l),v=this.transformation.untransform(o,f);return this.projection.unproject(v)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(o),v=this.transformation.transform(l.min,f),b=this.transformation.transform(l.max,f);return new J(v,b)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?g(o.lng,this.wrapLng,!0):o.lng,f=this.wrapLat?g(o.lat,this.wrapLat,!0):o.lat,v=o.alt;return new fe(f,l,v)},wrapLatLngBounds:function(o){var l=o.getCenter(),f=this.wrapLatLng(l),v=l.lat-f.lat,b=l.lng-f.lng;if(v===0&&b===0)return o;var C=o.getSouthWest(),A=o.getNorthEast(),F=new fe(C.lat-v,C.lng-b),$=new fe(A.lat-v,A.lng-b);return new he(F,$)}},oe=s({},ne,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var f=Math.PI/180,v=o.lat*f,b=l.lat*f,C=Math.sin((l.lat-o.lat)*f/2),A=Math.sin((l.lng-o.lng)*f/2),F=C*C+Math.cos(v)*Math.cos(b)*A*A,$=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*$}}),ke=6378137,xe={R:ke,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,f=this.MAX_LATITUDE,v=Math.max(Math.min(f,o.lat),-f),b=Math.sin(v*l);return new U(this.R*o.lng*l,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(o){var l=180/Math.PI;return new fe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=ke*Math.PI;return new J([-o,-o],[o,o])}()};function dt(o,l,f,v){if(N(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=f,this._d=v}dt.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new U((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function ot(o,l,f,v){return new dt(o,l,f,v)}var bt=s({},oe,{code:"EPSG:3857",projection:xe,transformation:function(){var o=.5/(Math.PI*xe.R);return ot(o,.5,-o,.5)}()}),Vr=s({},bt,{code:"EPSG:900913"});function bs(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Gr(o,l){var f="",v,b,C,A,F,$;for(v=0,C=o.length;v<C;v++){for(F=o[v],b=0,A=F.length;b<A;b++)$=F[b],f+=(b?"L":"M")+$.x+" "+$.y;f+=l?ae.svg?"z":"x":""}return f||"M0 0"}var ks=document.documentElement.style,Ss="ActiveXObject"in window,Cy=Ss&&!document.addEventListener,qh="msLaunchUri"in navigator&&!("documentMode"in document),Hl=rn("webkit"),Xh=rn("android"),Kh=rn("android 2")||rn("android 3"),Py=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),jy=Xh&&rn("Google")&&Py<537&&!("AudioNode"in window),Zl=!!window.opera,Yh=!qh&&rn("chrome"),Qh=rn("gecko")&&!Hl&&!Zl&&!Ss,Ey=!Yh&&rn("safari"),Jh=rn("phantom"),ed="OTransition"in ks,Ty=navigator.platform.indexOf("Win")===0,td=Ss&&"transition"in ks,Wl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Kh,nd="MozPerspective"in ks,Ly=!window.L_DISABLE_3D&&(td||Wl||nd)&&!ed&&!Jh,$i=typeof orientation<"u"||rn("mobile"),My=$i&&Hl,zy=$i&&Wl,rd=!window.PointerEvent&&window.MSPointerEvent,id=!!(window.PointerEvent||rd),od="ontouchstart"in window||!!window.TouchEvent,Oy=!window.L_NO_TOUCH&&(od||id),Ay=$i&&Zl,Ry=$i&&Qh,Iy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Dy=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",d,l),window.removeEventListener("testPassiveEventSupport",d,l)}catch{}return o}(),By=function(){return!!document.createElement("canvas").getContext}(),Vl=!!(document.createElementNS&&bs("svg").createSVGRect),Fy=!!Vl&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Uy=!Vl&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),$y=navigator.platform.indexOf("Mac")===0,Hy=navigator.platform.indexOf("Linux")===0;function rn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var ae={ie:Ss,ielt9:Cy,edge:qh,webkit:Hl,android:Xh,android23:Kh,androidStock:jy,opera:Zl,chrome:Yh,gecko:Qh,safari:Ey,phantom:Jh,opera12:ed,win:Ty,ie3d:td,webkit3d:Wl,gecko3d:nd,any3d:Ly,mobile:$i,mobileWebkit:My,mobileWebkit3d:zy,msPointer:rd,pointer:id,touch:Oy,touchNative:od,mobileOpera:Ay,mobileGecko:Ry,retina:Iy,passiveEvents:Dy,canvas:By,svg:Vl,vml:Uy,inlineSvg:Fy,mac:$y,linux:Hy},sd=ae.msPointer?"MSPointerDown":"pointerdown",ad=ae.msPointer?"MSPointerMove":"pointermove",ld=ae.msPointer?"MSPointerUp":"pointerup",ud=ae.msPointer?"MSPointerCancel":"pointercancel",Gl={touchstart:sd,touchmove:ad,touchend:ld,touchcancel:ud},cd={touchstart:Xy,touchmove:Ns,touchend:Ns,touchcancel:Ns},qr={},fd=!1;function Zy(o,l,f){return l==="touchstart"&&qy(),cd[l]?(f=cd[l].bind(this,f),o.addEventListener(Gl[l],f,!1),f):(console.warn("wrong event specified:",l),d)}function Wy(o,l,f){if(!Gl[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Gl[l],f,!1)}function Vy(o){qr[o.pointerId]=o}function Gy(o){qr[o.pointerId]&&(qr[o.pointerId]=o)}function hd(o){delete qr[o.pointerId]}function qy(){fd||(document.addEventListener(sd,Vy,!0),document.addEventListener(ad,Gy,!0),document.addEventListener(ld,hd,!0),document.addEventListener(ud,hd,!0),fd=!0)}function Ns(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in qr)l.touches.push(qr[f]);l.changedTouches=[l],o(l)}}function Xy(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Xe(l),Ns(o,l)}function Ky(o){var l={},f,v;for(v in o)f=o[v],l[v]=f&&f.bind?f.bind(o):f;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Yy=200;function Qy(o,l){o.addEventListener("dblclick",l);var f=0,v;function b(C){if(C.detail!==1){v=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var A=vd(C);if(!(A.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!A.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var F=Date.now();F-f<=Yy?(v++,v===2&&l(Ky(C))):v=1,f=F}}}return o.addEventListener("click",b),{dblclick:l,simDblclick:b}}function Jy(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var ql=js(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hi=js(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dd=Hi==="webkitTransition"||Hi==="OTransition"?Hi+"End":"transitionend";function pd(o){return typeof o=="string"?document.getElementById(o):o}function Zi(o,l){var f=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(o,null);f=v?v[l]:null}return f==="auto"?null:f}function ye(o,l,f){var v=document.createElement(o);return v.className=l||"",f&&f.appendChild(v),v}function ze(o){var l=o.parentNode;l&&l.removeChild(o)}function Cs(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Xr(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Kr(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function Xl(o,l){if(o.classList!==void 0)return o.classList.contains(l);var f=Ps(o);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function pe(o,l){if(o.classList!==void 0)for(var f=w(l),v=0,b=f.length;v<b;v++)o.classList.add(f[v]);else if(!Xl(o,l)){var C=Ps(o);Kl(o,(C?C+" ":"")+l)}}function De(o,l){o.classList!==void 0?o.classList.remove(l):Kl(o,y((" "+Ps(o)+" ").replace(" "+l+" "," ")))}function Kl(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function Ps(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Lt(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&ex(o,l)}function ex(o,l){var f=!1,v="DXImageTransform.Microsoft.Alpha";try{f=o.filters.item(v)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):o.style.filter+=" progid:"+v+"(opacity="+l+")"}function js(o){for(var l=document.documentElement.style,f=0;f<o.length;f++)if(o[f]in l)return o[f];return!1}function yr(o,l,f){var v=l||new U(0,0);o.style[ql]=(ae.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(f?" scale("+f+")":"")}function Fe(o,l){o._leaflet_pos=l,ae.any3d?yr(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function xr(o){return o._leaflet_pos||new U(0,0)}var Wi,Vi,Yl;if("onselectstart"in document)Wi=function(){de(window,"selectstart",Xe)},Vi=function(){Ne(window,"selectstart",Xe)};else{var Gi=js(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Wi=function(){if(Gi){var o=document.documentElement.style;Yl=o[Gi],o[Gi]="none"}},Vi=function(){Gi&&(document.documentElement.style[Gi]=Yl,Yl=void 0)}}function Ql(){de(window,"dragstart",Xe)}function Jl(){Ne(window,"dragstart",Xe)}var Es,eu;function tu(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Ts(),Es=o,eu=o.style.outlineStyle,o.style.outlineStyle="none",de(window,"keydown",Ts))}function Ts(){Es&&(Es.style.outlineStyle=eu,Es=void 0,eu=void 0,Ne(window,"keydown",Ts))}function md(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function nu(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var tx={__proto__:null,TRANSFORM:ql,TRANSITION:Hi,TRANSITION_END:dd,get:pd,getStyle:Zi,create:ye,remove:ze,empty:Cs,toFront:Xr,toBack:Kr,hasClass:Xl,addClass:pe,removeClass:De,setClass:Kl,getClass:Ps,setOpacity:Lt,testProp:js,setTransform:yr,setPosition:Fe,getPosition:xr,get disableTextSelection(){return Wi},get enableTextSelection(){return Vi},disableImageDrag:Ql,enableImageDrag:Jl,preventOutline:tu,restoreOutline:Ts,getSizedParentNode:md,getScale:nu};function de(o,l,f,v){if(l&&typeof l=="object")for(var b in l)iu(o,b,l[b],f);else{l=w(l);for(var C=0,A=l.length;C<A;C++)iu(o,l[C],f,v)}return this}var on="_leaflet_events";function Ne(o,l,f,v){if(arguments.length===1)gd(o),delete o[on];else if(l&&typeof l=="object")for(var b in l)ou(o,b,l[b],f);else if(l=w(l),arguments.length===2)gd(o,function(F){return j(l,F)!==-1});else for(var C=0,A=l.length;C<A;C++)ou(o,l[C],f,v);return this}function gd(o,l){for(var f in o[on]){var v=f.split(/\d/)[0];(!l||l(v))&&ou(o,v,null,null,f)}}var ru={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function iu(o,l,f,v){var b=l+h(f)+(v?"_"+h(v):"");if(o[on]&&o[on][b])return this;var C=function(F){return f.call(v||o,F||window.event)},A=C;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?C=Zy(o,l,C):ae.touch&&l==="dblclick"?C=Qy(o,C):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(ru[l]||l,C,ae.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(C=function(F){F=F||window.event,au(o,F)&&A(F)},o.addEventListener(ru[l],C,!1)):o.addEventListener(l,A,!1):o.attachEvent("on"+l,C),o[on]=o[on]||{},o[on][b]=C}function ou(o,l,f,v,b){b=b||l+h(f)+(v?"_"+h(v):"");var C=o[on]&&o[on][b];if(!C)return this;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?Wy(o,l,C):ae.touch&&l==="dblclick"?Jy(o,C):"removeEventListener"in o?o.removeEventListener(ru[l]||l,C,!1):o.detachEvent("on"+l,C),o[on][b]=null}function wr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function su(o){return iu(o,"wheel",wr),this}function qi(o){return de(o,"mousedown touchstart dblclick contextmenu",wr),o._leaflet_disable_click=!0,this}function Xe(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function br(o){return Xe(o),wr(o),this}function vd(o){if(o.composedPath)return o.composedPath();for(var l=[],f=o.target;f;)l.push(f),f=f.parentNode;return l}function _d(o,l){if(!l)return new U(o.clientX,o.clientY);var f=nu(l),v=f.boundingClientRect;return new U((o.clientX-v.left)/f.x-l.clientLeft,(o.clientY-v.top)/f.y-l.clientTop)}var nx=ae.linux&&ae.chrome?window.devicePixelRatio:ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yd(o){return ae.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/nx:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function au(o,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==o;)f=f.parentNode}catch{return!1}return f!==o}var rx={__proto__:null,on:de,off:Ne,stopPropagation:wr,disableScrollPropagation:su,disableClickPropagation:qi,preventDefault:Xe,stop:br,getPropagationPath:vd,getMousePosition:_d,getWheelDelta:yd,isExternalTarget:au,addListener:de,removeListener:Ne},xd=ee.extend({run:function(o,l,f,v){this.stop(),this._el=o,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=xr(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var f=this._startPos.add(this._offset.multiplyBy(o));l&&f._round(),Fe(this._el,f),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ve=ee.extend({options:{crs:bt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=S(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(le(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hi&&ae.any3d&&!ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),de(this._proxy,dd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(le(o),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=s({animate:f.animate},f.zoom),f.pan=s({animate:f.animate,duration:f.duration},f.pan));var v=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,f.zoom):this._tryAnimatedPan(o,f.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,f){var v=this.getZoomScale(l),b=this.getSize().divideBy(2),C=o instanceof U?o:this.latLngToContainerPoint(o),A=C.subtract(b).multiplyBy(1-1/v),F=this.containerPointToLatLng(b.add(A));return this.setView(F,l,{zoom:f})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():ue(o);var f=Z(l.paddingTopLeft||l.padding||[0,0]),v=Z(l.paddingBottomRight||l.padding||[0,0]),b=this.getBoundsZoom(o,!1,f.add(v));if(b=typeof l.maxZoom=="number"?Math.min(l.maxZoom,b):b,b===1/0)return{center:o.getCenter(),zoom:b};var C=v.subtract(f).divideBy(2),A=this.project(o.getSouthWest(),b),F=this.project(o.getNorthEast(),b),$=this.unproject(A.add(F).divideBy(2).add(C),b);return{center:$,zoom:b}},fitBounds:function(o,l){if(o=ue(o),!o.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(o,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=Z(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){pe(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,f){if(f=f||{},f.animate===!1||!ae.any3d)return this.setView(o,l,f);this._stop();var v=this.project(this.getCenter()),b=this.project(o),C=this.getSize(),A=this._zoom;o=le(o),l=l===void 0?A:l;var F=Math.max(C.x,C.y),$=F*this.getZoomScale(A,l),G=b.distanceTo(v)||1,te=1.42,ce=te*te;function me(Ue){var $s=Ue?-1:1,Wx=Ue?$:F,Vx=$*$-F*F+$s*ce*ce*G*G,Gx=2*Wx*ce*G,_u=Vx/Gx,ep=Math.sqrt(_u*_u+1)-_u,qx=ep<1e-9?-18:Math.log(ep);return qx}function st(Ue){return(Math.exp(Ue)-Math.exp(-Ue))/2}function Ve(Ue){return(Math.exp(Ue)+Math.exp(-Ue))/2}function zt(Ue){return st(Ue)/Ve(Ue)}var pt=me(0);function ni(Ue){return F*(Ve(pt)/Ve(pt+te*Ue))}function Ux(Ue){return F*(Ve(pt)*zt(pt+te*Ue)-st(pt))/ce}function $x(Ue){return 1-Math.pow(1-Ue,1.5)}var Hx=Date.now(),Qd=(me(1)-pt)/te,Zx=f.duration?1e3*f.duration:1e3*Qd*.8;function Jd(){var Ue=(Date.now()-Hx)/Zx,$s=$x(Ue)*Qd;Ue<=1?(this._flyToFrame=V(Jd,this),this._move(this.unproject(v.add(b.subtract(v).multiplyBy(Ux($s)/G)),A),this.getScaleZoom(F/ni($s),A),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Jd.call(this),this},flyToBounds:function(o,l){var f=this._getBoundsCenterZoom(o,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(o){return o=ue(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var f=this.getCenter(),v=this._limitCenter(f,this._zoom,ue(o));return f.equals(v)||this.panTo(v,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var f=Z(l.paddingTopLeft||l.padding||[0,0]),v=Z(l.paddingBottomRight||l.padding||[0,0]),b=this.project(this.getCenter()),C=this.project(o),A=this.getPixelBounds(),F=re([A.min.add(f),A.max.subtract(v)]),$=F.getSize();if(!F.contains(C)){this._enforcingBounds=!0;var G=C.subtract(F.getCenter()),te=F.extend(C).getSize().subtract($);b.x+=G.x<0?-te.x:te.x,b.y+=G.y<0?-te.y:te.y,this.panTo(this.unproject(b),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),v=l.divideBy(2).round(),b=f.divideBy(2).round(),C=v.subtract(b);return!C.x&&!C.y?this:(o.animate&&o.pan?this.panBy(C):(o.pan&&this._rawPanBy(C),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=u(this._handleGeolocationResponse,this),f=u(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,o):navigator.geolocation.getCurrentPosition(l,f,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,f=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,f=o.coords.longitude,v=new fe(l,f),b=v.toBounds(o.coords.accuracy*2),C=this._locateOptions;if(C.setView){var A=this.getBoundsZoom(b);this.setView(v,C.maxZoom?Math.min(A,C.maxZoom):A)}var F={latlng:v,bounds:b,timestamp:o.timestamp};for(var $ in o.coords)typeof o.coords[$]=="number"&&(F[$]=o.coords[$]);this.fire("locationfound",F)}},addHandler:function(o,l){if(!l)return this;var f=this[o]=new l(this);return this._handlers.push(f),this.options[o]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ze(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var f="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),v=ye("div",f,l||this._mapPane);return o&&(this._panes[o]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),f=this.unproject(o.getTopRight());return new he(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,f){o=ue(o),f=Z(f||[0,0]);var v=this.getZoom()||0,b=this.getMinZoom(),C=this.getMaxZoom(),A=o.getNorthWest(),F=o.getSouthEast(),$=this.getSize().subtract(f),G=re(this.project(F,v),this.project(A,v)).getSize(),te=ae.any3d?this.options.zoomSnap:1,ce=$.x/G.x,me=$.y/G.y,st=l?Math.max(ce,me):Math.min(ce,me);return v=this.getScaleZoom(st,v),te&&(v=Math.round(v/(te/100))*(te/100),v=l?Math.ceil(v/te)*te:Math.floor(v/te)*te),Math.max(b,Math.min(C,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var f=this._getTopLeftPoint(o,l);return new J(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(o)/f.scale(l)},getScaleZoom:function(o,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var v=f.zoom(o*f.scale(l));return isNaN(v)?1/0:v},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(le(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(Z(o),l)},layerPointToLatLng:function(o){var l=Z(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(le(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(le(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ue(o))},distance:function(o,l){return this.options.crs.distance(le(o),le(l))},containerPointToLayerPoint:function(o){return Z(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Z(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(Z(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(le(o)))},mouseEventToContainerPoint:function(o){return _d(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=pd(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");de(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&ae.any3d,pe(o,"leaflet-container"+(ae.touch?" leaflet-touch":"")+(ae.retina?" leaflet-retina":"")+(ae.ielt9?" leaflet-oldie":"")+(ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Zi(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fe(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pe(o.markerPane,"leaflet-zoom-hide"),pe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,f){Fe(this._mapPane,new U(0,0));var v=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var b=this._zoom!==l;this._moveStart(b,f)._move(o,l)._moveEnd(b),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,f,v){l===void 0&&(l=this._zoom);var b=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),v?f&&f.pinch&&this.fire("zoom",f):((b||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Fe(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[h(this._container)]=this;var l=o?Ne:de;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ae.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var f=[],v,b=l==="mouseout"||l==="mouseover",C=o.target||o.srcElement,A=!1;C;){if(v=this._targets[h(C)],v&&(l==="click"||l==="preclick")&&this._draggableMoved(v)){A=!0;break}if(v&&v.listens(l,!0)&&(b&&!au(C,o)||(f.push(v),b))||C===this._container)break;C=C.parentNode}return!f.length&&!A&&!b&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var f=o.type;f==="mousedown"&&tu(l),this._fireDOMEvent(o,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,f){if(o.type==="click"){var v=s({},o);v.type="preclick",this._fireDOMEvent(v,v.type,f)}var b=this._findEventTargets(o,l);if(f){for(var C=[],A=0;A<f.length;A++)f[A].listens(l,!0)&&C.push(f[A]);b=C.concat(b)}if(b.length){l==="contextmenu"&&Xe(o);var F=b[0],$={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var G=F.getLatLng&&(!F._radius||F._radius<=10);$.containerPoint=G?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(o),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=G?F.getLatLng():this.layerPointToLatLng($.layerPoint)}for(A=0;A<b.length;A++)if(b[A].fire(l,$,!0),$.originalEvent._stopped||b[A].options.bubblingMouseEvents===!1&&j(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return xr(this._mapPane)||new U(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var f=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var f=this.getSize()._divideBy(2);return this.project(o,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,f){var v=this._getNewPixelOrigin(f,l);return this.project(o,l)._subtract(v)},_latLngBoundsToNewLayerBounds:function(o,l,f){var v=this._getNewPixelOrigin(f,l);return re([this.project(o.getSouthWest(),l)._subtract(v),this.project(o.getNorthWest(),l)._subtract(v),this.project(o.getSouthEast(),l)._subtract(v),this.project(o.getNorthEast(),l)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,f){if(!f)return o;var v=this.project(o,l),b=this.getSize().divideBy(2),C=new J(v.subtract(b),v.add(b)),A=this._getBoundsOffset(C,f,l);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?o:this.unproject(v.add(A),l)},_limitOffset:function(o,l){if(!l)return o;var f=this.getPixelBounds(),v=new J(f.min.add(o),f.max.add(o));return o.add(this._getBoundsOffset(v,l))},_getBoundsOffset:function(o,l,f){var v=re(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),b=v.min.subtract(o.min),C=v.max.subtract(o.max),A=this._rebound(b.x,-C.x),F=this._rebound(b.y,-C.y);return new U(A,F)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),f=this.getMaxZoom(),v=ae.any3d?this.options.zoomSnap:1;return v&&(o=Math.round(o/v)*v),Math.max(l,Math.min(f,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){De(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var f=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var o=this._proxy=ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var f=ql,v=this._proxy.style[f];yr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),v===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();yr(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(l),b=this._getCenterOffset(o)._divideBy(1-1/v);return f.animate!==!0&&!this.getSize().contains(b)?!1:(V(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,f,v){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&De(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ix(o,l){return new ve(o,l)}var Zt=R.extend({options:{position:"topright"},initialize:function(o){S(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),f=this.getPosition(),v=o._controlCorners[f];return pe(l,"leaflet-control"),f.indexOf("bottom")!==-1?v.insertBefore(l,v.firstChild):v.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Xi=function(o){return new Zt(o)};ve.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",f=this._controlContainer=ye("div",l+"control-container",this._container);function v(b,C){var A=l+b+" "+l+C;o[b+C]=ye("div",A,f)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ze(this._controlCorners[o]);ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wd=Zt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,f,v){return f<v?-1:v<f?1:0}},initialize:function(o,l,f){S(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in o)this._addLayer(o[v],v);for(v in l)this._addLayer(l[v],v,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Zt.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):De(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return De(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=ye("div",o),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),qi(l),su(l);var v=this._section=ye("section",o+"-list");f&&(this._map.on("click",this.collapse,this),de(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=ye("a",o+"-toggle",l);b.href="#",b.title="Layers",b.setAttribute("role","button"),de(b,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Xe(C),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ye("div",o+"-base",v),this._separator=ye("div",o+"-separator",v),this._overlaysList=ye("div",o+"-overlays",v),l.appendChild(v)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,f){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(u(function(v,b){return this.options.sortFunction(v.layer,b.layer,v.name,b.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Cs(this._baseLayersList),Cs(this._overlaysList),this._layerControlInputs=[];var o,l,f,v,b=0;for(f=0;f<this._layers.length;f++)v=this._layers[f],this._addItem(v),l=l||v.overlay,o=o||!v.overlay,b+=v.overlay?0:1;return this.options.hideSingleBase&&(o=o&&b>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(h(o.target)),f=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(o,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=f,v.firstChild},_addItem:function(o){var l=document.createElement("label"),f=this._map.hasLayer(o.layer),v;o.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=f):v=this._createRadioElement("leaflet-base-layers_"+h(this),f),this._layerControlInputs.push(v),v.layerId=h(o.layer),de(v,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+o.name;var C=document.createElement("span");l.appendChild(C),C.appendChild(v),C.appendChild(b);var A=o.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,f,v=[],b=[];this._handlingClick=!0;for(var C=o.length-1;C>=0;C--)l=o[C],f=this._getLayer(l.layerId).layer,l.checked?v.push(f):l.checked||b.push(f);for(C=0;C<b.length;C++)this._map.hasLayer(b[C])&&this._map.removeLayer(b[C]);for(C=0;C<v.length;C++)this._map.hasLayer(v[C])||this._map.addLayer(v[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,f,v=this._map.getZoom(),b=o.length-1;b>=0;b--)l=o[b],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&v<f.options.minZoom||f.options.maxZoom!==void 0&&v>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,de(o,"click",Xe),this.expand();var l=this;setTimeout(function(){Ne(o,"click",Xe),l._preventClick=!1})}}),ox=function(o,l,f){return new wd(o,l,f)},lu=Zt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",f=ye("div",l+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,f,v,b){var C=ye("a",f,v);return C.innerHTML=o,C.href="#",C.title=l,C.setAttribute("role","button"),C.setAttribute("aria-label",l),qi(C),de(C,"click",br),de(C,"click",b,this),de(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";De(this._zoomInButton,l),De(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(pe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(pe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});ve.mergeOptions({zoomControl:!0}),ve.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lu,this.addControl(this.zoomControl))});var sx=function(o){return new lu(o)},bd=Zt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",f=ye("div",l),v=this.options;return this._addScales(v,l+"-line",f),o.on(v.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),f},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,f){o.metric&&(this._mScale=ye("div",l,f)),o.imperial&&(this._iScale=ye("div",l,f))},_update:function(){var o=this._map,l=o.getSize().y/2,f=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/o)},_updateImperial:function(o){var l=o*3.2808399,f,v,b;l>5280?(f=l/5280,v=this._getRoundNum(f),this._updateScale(this._iScale,v+" mi",v/f)):(b=this._getRoundNum(l),this._updateScale(this._iScale,b+" ft",b/l))},_updateScale:function(o,l,f){o.style.width=Math.round(this.options.maxWidth*f)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),f=o/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),ax=function(o){return new bd(o)},lx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',uu=Zt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ae.inlineSvg?lx+" ":"")+"Leaflet</a>"},initialize:function(o){S(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ye("div","leaflet-control-attribution"),qi(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),o.length&&f.push(o.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});ve.mergeOptions({attributionControl:!0}),ve.addInitHook(function(){this.options.attributionControl&&new uu().addTo(this)});var ux=function(o){return new uu(o)};Zt.Layers=wd,Zt.Zoom=lu,Zt.Scale=bd,Zt.Attribution=uu,Xi.layers=ox,Xi.zoom=sx,Xi.scale=ax,Xi.attribution=ux;var sn=R.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});sn.addTo=function(o,l){return o.addHandler(l,this),this};var cx={Events:W},kd=ae.touch?"touchstart mousedown":"mousedown",Zn=ee.extend({options:{clickTolerance:3},initialize:function(o,l,f,v){S(this,v),this._element=o,this._dragStartTarget=l||o,this._preventOutline=f},enable:function(){this._enabled||(de(this._dragStartTarget,kd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Zn._dragging===this&&this.finishDrag(!0),Ne(this._dragStartTarget,kd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Xl(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Zn._dragging===this&&this.finishDrag();return}if(!(Zn._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Zn._dragging=this,this._preventOutline&&tu(this._element),Ql(),Wi(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,f=md(this._element);this._startPoint=new U(l.clientX,l.clientY),this._startPos=xr(this._element),this._parentScale=nu(f);var v=o.type==="mousedown";de(document,v?"mousemove":"touchmove",this._onMove,this),de(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,f=new U(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Xe(o),this._moved||(this.fire("dragstart"),this._moved=!0,pe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Fe(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){De(document.body,"leaflet-dragging"),this._lastTarget&&(De(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ne(document,"mousemove touchmove",this._onMove,this),Ne(document,"mouseup touchend touchcancel",this._onUp,this),Jl(),Vi();var l=this._moved&&this._moving;this._moving=!1,Zn._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Sd(o,l,f){var v,b=[1,4,2,8],C,A,F,$,G,te,ce,me;for(C=0,te=o.length;C<te;C++)o[C]._code=kr(o[C],l);for(F=0;F<4;F++){for(ce=b[F],v=[],C=0,te=o.length,A=te-1;C<te;A=C++)$=o[C],G=o[A],$._code&ce?G._code&ce||(me=Ls(G,$,ce,l,f),me._code=kr(me,l),v.push(me)):(G._code&ce&&(me=Ls(G,$,ce,l,f),me._code=kr(me,l),v.push(me)),v.push($));o=v}return o}function Nd(o,l){var f,v,b,C,A,F,$,G,te;if(!o||o.length===0)throw new Error("latlngs not passed");Mt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ce=le([0,0]),me=ue(o),st=me.getNorthWest().distanceTo(me.getSouthWest())*me.getNorthEast().distanceTo(me.getNorthWest());st<1700&&(ce=cu(o));var Ve=o.length,zt=[];for(f=0;f<Ve;f++){var pt=le(o[f]);zt.push(l.project(le([pt.lat-ce.lat,pt.lng-ce.lng])))}for(F=$=G=0,f=0,v=Ve-1;f<Ve;v=f++)b=zt[f],C=zt[v],A=b.y*C.x-C.y*b.x,$+=(b.x+C.x)*A,G+=(b.y+C.y)*A,F+=A*3;F===0?te=zt[0]:te=[$/F,G/F];var ni=l.unproject(Z(te));return le([ni.lat+ce.lat,ni.lng+ce.lng])}function cu(o){for(var l=0,f=0,v=0,b=0;b<o.length;b++){var C=le(o[b]);l+=C.lat,f+=C.lng,v++}return le([l/v,f/v])}var fx={__proto__:null,clipPolygon:Sd,polygonCenter:Nd,centroid:cu};function Cd(o,l){if(!l||!o.length)return o.slice();var f=l*l;return o=px(o,f),o=dx(o,f),o}function Pd(o,l,f){return Math.sqrt(Ki(o,l,f,!0))}function hx(o,l,f){return Ki(o,l,f)}function dx(o,l){var f=o.length,v=typeof Uint8Array<"u"?Uint8Array:Array,b=new v(f);b[0]=b[f-1]=1,fu(o,b,l,0,f-1);var C,A=[];for(C=0;C<f;C++)b[C]&&A.push(o[C]);return A}function fu(o,l,f,v,b){var C=0,A,F,$;for(F=v+1;F<=b-1;F++)$=Ki(o[F],o[v],o[b],!0),$>C&&(A=F,C=$);C>f&&(l[A]=1,fu(o,l,f,v,A),fu(o,l,f,A,b))}function px(o,l){for(var f=[o[0]],v=1,b=0,C=o.length;v<C;v++)mx(o[v],o[b])>l&&(f.push(o[v]),b=v);return b<C-1&&f.push(o[C-1]),f}var jd;function Ed(o,l,f,v,b){var C=v?jd:kr(o,f),A=kr(l,f),F,$,G;for(jd=A;;){if(!(C|A))return[o,l];if(C&A)return!1;F=C||A,$=Ls(o,l,F,f,b),G=kr($,f),F===C?(o=$,C=G):(l=$,A=G)}}function Ls(o,l,f,v,b){var C=l.x-o.x,A=l.y-o.y,F=v.min,$=v.max,G,te;return f&8?(G=o.x+C*($.y-o.y)/A,te=$.y):f&4?(G=o.x+C*(F.y-o.y)/A,te=F.y):f&2?(G=$.x,te=o.y+A*($.x-o.x)/C):f&1&&(G=F.x,te=o.y+A*(F.x-o.x)/C),new U(G,te,b)}function kr(o,l){var f=0;return o.x<l.min.x?f|=1:o.x>l.max.x&&(f|=2),o.y<l.min.y?f|=4:o.y>l.max.y&&(f|=8),f}function mx(o,l){var f=l.x-o.x,v=l.y-o.y;return f*f+v*v}function Ki(o,l,f,v){var b=l.x,C=l.y,A=f.x-b,F=f.y-C,$=A*A+F*F,G;return $>0&&(G=((o.x-b)*A+(o.y-C)*F)/$,G>1?(b=f.x,C=f.y):G>0&&(b+=A*G,C+=F*G)),A=o.x-b,F=o.y-C,v?A*A+F*F:new U(b,C)}function Mt(o){return!N(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Td(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mt(o)}function Ld(o,l){var f,v,b,C,A,F,$,G;if(!o||o.length===0)throw new Error("latlngs not passed");Mt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var te=le([0,0]),ce=ue(o),me=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());me<1700&&(te=cu(o));var st=o.length,Ve=[];for(f=0;f<st;f++){var zt=le(o[f]);Ve.push(l.project(le([zt.lat-te.lat,zt.lng-te.lng])))}for(f=0,v=0;f<st-1;f++)v+=Ve[f].distanceTo(Ve[f+1])/2;if(v===0)G=Ve[0];else for(f=0,C=0;f<st-1;f++)if(A=Ve[f],F=Ve[f+1],b=A.distanceTo(F),C+=b,C>v){$=(C-v)/b,G=[F.x-$*(F.x-A.x),F.y-$*(F.y-A.y)];break}var pt=l.unproject(Z(G));return le([pt.lat+te.lat,pt.lng+te.lng])}var gx={__proto__:null,simplify:Cd,pointToSegmentDistance:Pd,closestPointOnSegment:hx,clipSegment:Ed,_getEdgeIntersection:Ls,_getBitCode:kr,_sqClosestPointOnSegment:Ki,isFlat:Mt,_flat:Td,polylineCenter:Ld},hu={project:function(o){return new U(o.lng,o.lat)},unproject:function(o){return new fe(o.y,o.x)},bounds:new J([-180,-90],[180,90])},du={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,f=this.R,v=o.lat*l,b=this.R_MINOR/f,C=Math.sqrt(1-b*b),A=C*Math.sin(v),F=Math.tan(Math.PI/4-v/2)/Math.pow((1-A)/(1+A),C/2);return v=-f*Math.log(Math.max(F,1e-10)),new U(o.lng*l*f,v)},unproject:function(o){for(var l=180/Math.PI,f=this.R,v=this.R_MINOR/f,b=Math.sqrt(1-v*v),C=Math.exp(-o.y/f),A=Math.PI/2-2*Math.atan(C),F=0,$=.1,G;F<15&&Math.abs($)>1e-7;F++)G=b*Math.sin(A),G=Math.pow((1-G)/(1+G),b/2),$=Math.PI/2-2*Math.atan(C*G)-A,A+=$;return new fe(A*l,o.x*l/f)}},vx={__proto__:null,LonLat:hu,Mercator:du,SphericalMercator:xe},_x=s({},oe,{code:"EPSG:3395",projection:du,transformation:function(){var o=.5/(Math.PI*du.R);return ot(o,.5,-o,.5)}()}),Md=s({},oe,{code:"EPSG:4326",projection:hu,transformation:ot(1/180,1,-1/180,.5)}),yx=s({},ne,{projection:hu,transformation:ot(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var f=l.lng-o.lng,v=l.lat-o.lat;return Math.sqrt(f*f+v*v)},infinite:!0});ne.Earth=oe,ne.EPSG3395=_x,ne.EPSG3857=bt,ne.EPSG900913=Vr,ne.EPSG4326=Md,ne.Simple=yx;var Wt=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[h(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[h(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});ve.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=h(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return h(o)in this._layers},eachLayer:function(o,l){for(var f in this._layers)o.call(l,this._layers[f]);return this},_addLayers:function(o){o=o?N(o)?o:[o]:[];for(var l=0,f=o.length;l<f;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[h(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=h(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,f=this._getZoomSpan();for(var v in this._zoomBoundLayers){var b=this._zoomBoundLayers[v].options;o=b.minZoom===void 0?o:Math.min(o,b.minZoom),l=b.maxZoom===void 0?l:Math.max(l,b.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yr=Wt.extend({initialize:function(o,l){S(this,l),this._layers={};var f,v;if(o)for(f=0,v=o.length;f<v;f++)this.addLayer(o[f])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),f,v;for(f in this._layers)v=this._layers[f],v[o]&&v[o].apply(v,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var f in this._layers)o.call(l,this._layers[f]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return h(o)}}),xx=function(o,l){return new Yr(o,l)},yn=Yr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Yr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Yr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new he;for(var l in this._layers){var f=this._layers[l];o.extend(f.getBounds?f.getBounds():f.getLatLng())}return o}}),wx=function(o,l){return new yn(o,l)},Qr=R.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){S(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var f=this._getIconUrl(o);if(!f){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(v,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(o,l){var f=this.options,v=f[l+"Size"];typeof v=="number"&&(v=[v,v]);var b=Z(v),C=Z(l==="shadow"&&f.shadowAnchor||f.iconAnchor||b&&b.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(f.className||""),C&&(o.style.marginLeft=-C.x+"px",o.style.marginTop=-C.y+"px"),b&&(o.style.width=b.x+"px",o.style.height=b.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return ae.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function bx(o){return new Qr(o)}var Yi=Qr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Yi.imagePath!="string"&&(Yi.imagePath=this._detectIconPath()),(this.options.imagePath||Yi.imagePath)+Qr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(f,v,b){var C=v.exec(f);return C&&C[b]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ye("div","leaflet-default-icon-path",document.body),l=Zi(o,"background-image")||Zi(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),zd=sn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Zn(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&De(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,f=l._map,v=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,C=xr(l._icon),A=f.getPixelBounds(),F=f.getPixelOrigin(),$=re(A.min._subtract(F).add(b),A.max._subtract(F).subtract(b));if(!$.contains(C)){var G=Z((Math.max($.max.x,C.x)-$.max.x)/(A.max.x-$.max.x)-(Math.min($.min.x,C.x)-$.min.x)/(A.min.x-$.min.x),(Math.max($.max.y,C.y)-$.max.y)/(A.max.y-$.max.y)-(Math.min($.min.y,C.y)-$.min.y)/(A.min.y-$.min.y)).multiplyBy(v);f.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),Fe(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=V(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,f=l._shadow,v=xr(l._icon),b=l._map.layerPointToLatLng(v);f&&Fe(f,v),l._latlng=b,o.latlng=b,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ms=Wt.extend({options:{icon:new Yi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){S(this,l),this._latlng=le(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=le(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=o.icon.createIcon(this._icon),v=!1;f!==this._icon&&(this._icon&&this._removeIcon(),v=!0,o.title&&(f.title=o.title),f.tagName==="IMG"&&(f.alt=o.alt||"")),pe(f,l),o.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&de(f,"focus",this._panOnFocus,this);var b=o.icon.createShadow(this._shadow),C=!1;b!==this._shadow&&(this._removeShadow(),C=!0),b&&(pe(b,l),b.alt=""),this._shadow=b,o.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&C&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ne(this._icon,"focus",this._panOnFocus,this),ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ze(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Fe(this._icon,o),this._shadow&&Fe(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zd)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zd(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Lt(this._icon,o),this._shadow&&Lt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,f=l.iconSize?Z(l.iconSize):Z(0,0),v=l.iconAnchor?Z(l.iconAnchor):Z(0,0);o.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:f.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function kx(o,l){return new Ms(o,l)}var Wn=Wt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return S(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zs=Wn.extend({options:{fill:!0,radius:10},initialize:function(o,l){S(this,l),this._latlng=le(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=le(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return Wn.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,f=this._clickTolerance(),v=[o+f,l+f];this._pxBounds=new J(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Sx(o,l){return new zs(o,l)}var pu=zs.extend({initialize:function(o,l,f){if(typeof l=="number"&&(l=s({},f,{radius:l})),S(this,l),this._latlng=le(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new he(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Wn.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,f=this._map,v=f.options.crs;if(v.distance===oe.distance){var b=Math.PI/180,C=this._mRadius/oe.R/b,A=f.project([l+C,o]),F=f.project([l-C,o]),$=A.add(F).divideBy(2),G=f.unproject($).lat,te=Math.acos((Math.cos(C*b)-Math.sin(l*b)*Math.sin(G*b))/(Math.cos(l*b)*Math.cos(G*b)))/b;(isNaN(te)||te===0)&&(te=C/Math.cos(Math.PI/180*l)),this._point=$.subtract(f.getPixelOrigin()),this._radius=isNaN(te)?0:$.x-f.project([G,o-te]).x,this._radiusY=$.y-A.y}else{var ce=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(ce).x}this._updateBounds()}});function Nx(o,l,f){return new pu(o,l,f)}var xn=Wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){S(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,f=null,v=Ki,b,C,A=0,F=this._parts.length;A<F;A++)for(var $=this._parts[A],G=1,te=$.length;G<te;G++){b=$[G-1],C=$[G];var ce=v(o,b,C,!0);ce<l&&(l=ce,f=v(o,b,C))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ld(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=le(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new he,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Mt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],f=Mt(o),v=0,b=o.length;v<b;v++)f?(l[v]=le(o[v]),this._bounds.extend(l[v])):l[v]=this._convertLatLngs(o[v]);return l},_project:function(){var o=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new U(o,o);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,f){var v=o[0]instanceof fe,b=o.length,C,A;if(v){for(A=[],C=0;C<b;C++)A[C]=this._map.latLngToLayerPoint(o[C]),f.extend(A[C]);l.push(A)}else for(C=0;C<b;C++)this._projectLatlngs(o[C],l,f)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,v,b,C,A,F,$;for(f=0,b=0,C=this._rings.length;f<C;f++)for($=this._rings[f],v=0,A=$.length;v<A-1;v++)F=Ed($[v],$[v+1],o,v,!0),F&&(l[b]=l[b]||[],l[b].push(F[0]),(F[1]!==$[v+1]||v===A-2)&&(l[b].push(F[1]),b++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,f=0,v=o.length;f<v;f++)o[f]=Cd(o[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var f,v,b,C,A,F,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(f=0,C=this._parts.length;f<C;f++)for(F=this._parts[f],v=0,A=F.length,b=A-1;v<A;b=v++)if(!(!l&&v===0)&&Pd(o,F[b],F[v])<=$)return!0;return!1}});function Cx(o,l){return new xn(o,l)}xn._flat=Td;var Jr=xn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=xn.prototype._convertLatLngs.call(this,o),f=l.length;return f>=2&&l[0]instanceof fe&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(o){xn.prototype._setLatLngs.call(this,o),Mt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,f=new U(l,l);if(o=new J(o.min.subtract(f),o.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,b=this._rings.length,C;v<b;v++)C=Sd(this._rings[v],o,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,f,v,b,C,A,F,$,G;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(C=0,$=this._parts.length;C<$;C++)for(f=this._parts[C],A=0,G=f.length,F=G-1;A<G;F=A++)v=f[A],b=f[F],v.y>o.y!=b.y>o.y&&o.x<(b.x-v.x)*(o.y-v.y)/(b.y-v.y)+v.x&&(l=!l);return l||xn.prototype._containsPoint.call(this,o,!0)}});function Px(o,l){return new Jr(o,l)}var wn=yn.extend({initialize:function(o,l){S(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=N(o)?o:o.features,f,v,b;if(l){for(f=0,v=l.length;f<v;f++)b=l[f],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var C=this.options;if(C.filter&&!C.filter(o))return this;var A=Os(o,C);return A?(A.feature=Is(o),A.defaultOptions=A.options,this.resetStyle(A),C.onEachFeature&&C.onEachFeature(o,A),this.addLayer(A)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function Os(o,l){var f=o.type==="Feature"?o.geometry:o,v=f?f.coordinates:null,b=[],C=l&&l.pointToLayer,A=l&&l.coordsToLatLng||mu,F,$,G,te;if(!v&&!f)return null;switch(f.type){case"Point":return F=A(v),Od(C,o,F,l);case"MultiPoint":for(G=0,te=v.length;G<te;G++)F=A(v[G]),b.push(Od(C,o,F,l));return new yn(b);case"LineString":case"MultiLineString":return $=As(v,f.type==="LineString"?0:1,A),new xn($,l);case"Polygon":case"MultiPolygon":return $=As(v,f.type==="Polygon"?1:2,A),new Jr($,l);case"GeometryCollection":for(G=0,te=f.geometries.length;G<te;G++){var ce=Os({geometry:f.geometries[G],type:"Feature",properties:o.properties},l);ce&&b.push(ce)}return new yn(b);case"FeatureCollection":for(G=0,te=f.features.length;G<te;G++){var me=Os(f.features[G],l);me&&b.push(me)}return new yn(b);default:throw new Error("Invalid GeoJSON object.")}}function Od(o,l,f,v){return o?o(l,f):new Ms(f,v&&v.markersInheritOptions&&v)}function mu(o){return new fe(o[1],o[0],o[2])}function As(o,l,f){for(var v=[],b=0,C=o.length,A;b<C;b++)A=l?As(o[b],l-1,f):(f||mu)(o[b]),v.push(A);return v}function gu(o,l){return o=le(o),o.alt!==void 0?[_(o.lng,l),_(o.lat,l),_(o.alt,l)]:[_(o.lng,l),_(o.lat,l)]}function Rs(o,l,f,v){for(var b=[],C=0,A=o.length;C<A;C++)b.push(l?Rs(o[C],Mt(o[C])?0:l-1,f,v):gu(o[C],v));return!l&&f&&b.length>0&&b.push(b[0].slice()),b}function ei(o,l){return o.feature?s({},o.feature,{geometry:l}):Is(l)}function Is(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var vu={toGeoJSON:function(o){return ei(this,{type:"Point",coordinates:gu(this.getLatLng(),o)})}};Ms.include(vu),pu.include(vu),zs.include(vu),xn.include({toGeoJSON:function(o){var l=!Mt(this._latlngs),f=Rs(this._latlngs,l?1:0,!1,o);return ei(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),Jr.include({toGeoJSON:function(o){var l=!Mt(this._latlngs),f=l&&!Mt(this._latlngs[0]),v=Rs(this._latlngs,f?2:l?1:0,!0,o);return l||(v=[v]),ei(this,{type:(f?"Multi":"")+"Polygon",coordinates:v})}}),Yr.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(o).geometry.coordinates)}),ei(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var f=l==="GeometryCollection",v=[];return this.eachLayer(function(b){if(b.toGeoJSON){var C=b.toGeoJSON(o);if(f)v.push(C.geometry);else{var A=Is(C);A.type==="FeatureCollection"?v.push.apply(v,A.features):v.push(A)}}}),f?ei(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function Ad(o,l){return new wn(o,l)}var jx=Ad,Ds=Wt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,f){this._url=o,this._bounds=ue(l),S(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Xr(this._image),this},bringToBack:function(){return this._map&&Kr(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ue(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:ye("img");if(pe(l,"leaflet-image-layer"),this._zoomAnimated&&pe(l,"leaflet-zoom-animated"),this.options.className&&pe(l,this.options.className),l.onselectstart=d,l.onmousemove=d,l.onload=u(this.fire,this,"load"),l.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;yr(this._image,f,l)},_reset:function(){var o=this._image,l=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();Fe(o,l.min),o.style.width=f.x+"px",o.style.height=f.y+"px"},_updateOpacity:function(){Lt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Ex=function(o,l,f){return new Ds(o,l,f)},Rd=Ds.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:ye("video");if(pe(l,"leaflet-image-layer"),this._zoomAnimated&&pe(l,"leaflet-zoom-animated"),this.options.className&&pe(l,this.options.className),l.onselectstart=d,l.onmousemove=d,l.onloadeddata=u(this.fire,this,"load"),o){for(var f=l.getElementsByTagName("source"),v=[],b=0;b<f.length;b++)v.push(f[b].src);this._url=f.length>0?v:[l.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var A=ye("source");A.src=this._url[C],l.appendChild(A)}}});function Tx(o,l,f){return new Rd(o,l,f)}var Id=Ds.extend({_initImage:function(){var o=this._image=this._url;pe(o,"leaflet-image-layer"),this._zoomAnimated&&pe(o,"leaflet-zoom-animated"),this.options.className&&pe(o,this.options.className),o.onselectstart=d,o.onmousemove=d}});function Lx(o,l,f){return new Id(o,l,f)}var an=Wt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof fe||N(o))?(this._latlng=le(o),S(this,l)):(S(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Lt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Lt(this._container,1),this.bringToFront(),this.options.interactive&&(pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Lt(this._container,0),this._removeTimeout=setTimeout(u(ze,void 0,this._container),200)):ze(this._container),this.options.interactive&&(De(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=le(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xr(this._container),this},bringToBack:function(){return this._map&&Kr(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof yn){l=null;var f=this._source._layers;for(var v in f)if(f[v]._map){l=f[v];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=Z(this.options.offset),f=this._getAnchor();this._zoomAnimated?Fe(this._container,o.add(f)):l=l.add(o).add(f);var v=this._containerBottom=-l.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=v+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});ve.include({_initOverlay:function(o,l,f,v){var b=l;return b instanceof o||(b=new o(v).setContent(l)),f&&b.setLatLng(f),b}}),Wt.include({_initOverlay:function(o,l,f,v){var b=f;return b instanceof o?(S(b,v),b._source=this):(b=l&&!v?l:new o(v,this),b.setContent(f)),b}});var Bs=an.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,an.prototype.openOn.call(this,o)},onAdd:function(o){an.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wn||this._source.on("preclick",wr))},onRemove:function(o){an.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wn||this._source.off("preclick",wr))},getEvents:function(){var o=an.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=ye("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ye("div",o+"-content-wrapper",l);if(this._contentNode=ye("div",o+"-content",f),qi(l),su(this._contentNode),de(l,"contextmenu",wr),this._tipContainer=ye("div",o+"-tip-container",l),this._tip=ye("div",o+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=ye("a",o+"-close-button",l);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',de(v,"click",function(b){Xe(b),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var f=o.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var v=o.offsetHeight,b=this.options.maxHeight,C="leaflet-popup-scrolled";b&&v>b?(l.height=b+"px",pe(o,C)):De(o,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),f=this._getAnchor();Fe(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(Zi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,v=this._containerWidth,b=new U(this._containerLeft,-f-this._containerBottom);b._add(xr(this._container));var C=o.layerPointToContainerPoint(b),A=Z(this.options.autoPanPadding),F=Z(this.options.autoPanPaddingTopLeft||A),$=Z(this.options.autoPanPaddingBottomRight||A),G=o.getSize(),te=0,ce=0;C.x+v+$.x>G.x&&(te=C.x+v-G.x+$.x),C.x-te-F.x<0&&(te=C.x-F.x),C.y+f+$.y>G.y&&(ce=C.y+f-G.y+$.y),C.y-ce-F.y<0&&(ce=C.y-F.y),(te||ce)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([te,ce]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mx=function(o,l){return new Bs(o,l)};ve.mergeOptions({closePopupOnClick:!0}),ve.include({openPopup:function(o,l,f){return this._initOverlay(Bs,o,l,f).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Wt.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Bs,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof yn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){br(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof Wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Fs=an.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){an.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){an.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=an.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ye("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,f,v=this._map,b=this._container,C=v.latLngToContainerPoint(v.getCenter()),A=v.layerPointToContainerPoint(o),F=this.options.direction,$=b.offsetWidth,G=b.offsetHeight,te=Z(this.options.offset),ce=this._getAnchor();F==="top"?(l=$/2,f=G):F==="bottom"?(l=$/2,f=0):F==="center"?(l=$/2,f=G/2):F==="right"?(l=0,f=G/2):F==="left"?(l=$,f=G/2):A.x<C.x?(F="right",l=0,f=G/2):(F="left",l=$+(te.x+ce.x)*2,f=G/2),o=o.subtract(Z(l,f,!0)).add(te).add(ce),De(b,"leaflet-tooltip-right"),De(b,"leaflet-tooltip-left"),De(b,"leaflet-tooltip-top"),De(b,"leaflet-tooltip-bottom"),pe(b,"leaflet-tooltip-"+F),Fe(b,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Lt(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),zx=function(o,l){return new Fs(o,l)};ve.include({openTooltip:function(o,l,f){return this._initOverlay(Fs,o,l,f).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Wt.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fs,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof yn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(de(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),de(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,f,v;this._tooltip.options.sticky&&o.originalEvent&&(f=this._map.mouseEventToContainerPoint(o.originalEvent),v=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(l)}});var Dd=Qr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Cs(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var v=Z(f.bgPos);l.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Ox(o){return new Dd(o)}Qr.Default=Yi;var Qi=Wt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){S(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ze(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Kr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof U?o:new U(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,f=-o(-1/0,1/0),v=0,b=l.length,C;v<b;v++)C=l[v].style.zIndex,l[v]!==this._container&&C&&(f=o(f,+C));isFinite(f)&&(this.options.zIndex=f+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ae.ielt9){Lt(this._container,this.options.opacity);var o=+new Date,l=!1,f=!1;for(var v in this._tiles){var b=this._tiles[v];if(!(!b.current||!b.loaded)){var C=Math.min(1,(o-b.loaded)/200);Lt(b.el,C),C<1?l=!0:(b.active?f=!0:this._onOpaqueTile(b),b.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(H(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===o?(this._levels[f].el.style.zIndex=l-Math.abs(o-f),this._onUpdateLevel(f)):(ze(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var v=this._levels[o],b=this._map;return v||(v=this._levels[o]={},v.el=ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=l,v.origin=b.project(b.unproject(b.getPixelOrigin()),o).round(),v.zoom=o,this._setZoomTransform(v,b.getCenter(),b.getZoom()),d(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var o,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var v=l.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ze(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,f,v){var b=Math.floor(o/2),C=Math.floor(l/2),A=f-1,F=new U(+b,+C);F.z=+A;var $=this._tileCoordsToKey(F),G=this._tiles[$];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),A>v?this._retainParent(b,C,A,v):!1)},_retainChildren:function(o,l,f,v){for(var b=2*o;b<2*o+2;b++)for(var C=2*l;C<2*l+2;C++){var A=new U(b,C);A.z=f+1;var F=this._tileCoordsToKey(A),$=this._tiles[F];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);f+1<v&&this._retainChildren(b,C,f+1,v)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,f,v){var b=Math.round(l);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var C=this.options.updateWhenZooming&&b!==this._tileZoom;(!v||C)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(o),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],o,l)},_setZoomTransform:function(o,l,f){var v=this._map.getZoomScale(f,o.zoom),b=o.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(l,f)).round();ae.any3d?yr(o.el,b,v):Fe(o.el,b)},_resetGrid:function(){var o=this._map,l=o.options.crs,f=this._tileSize=this.getTileSize(),v=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],v).x/f.x),Math.ceil(o.project([0,l.wrapLng[1]],v).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],v).y/f.x),Math.ceil(o.project([l.wrapLat[1],0],v).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),v=l.getZoomScale(f,this._tileZoom),b=l.project(o,this._tileZoom).floor(),C=l.getSize().divideBy(v*2);return new J(b.subtract(C),b.add(C))},_update:function(o){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(o),b=this._pxBoundsToTileRange(v),C=b.getCenter(),A=[],F=this.options.keepBuffer,$=new J(b.getBottomLeft().subtract([F,-F]),b.getTopRight().add([F,-F]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var te=this._tiles[G].coords;(te.z!==this._tileZoom||!$.contains(new U(te.x,te.y)))&&(this._tiles[G].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(o,f);return}for(var ce=b.min.y;ce<=b.max.y;ce++)for(var me=b.min.x;me<=b.max.x;me++){var st=new U(me,ce);if(st.z=this._tileZoom,!!this._isValidTile(st)){var Ve=this._tiles[this._tileCoordsToKey(st)];Ve?Ve.current=!0:A.push(st)}}if(A.sort(function(pt,ni){return pt.distanceTo(C)-ni.distanceTo(C)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zt=document.createDocumentFragment();for(me=0;me<A.length;me++)this._addTile(A[me],zt);this._level.el.appendChild(zt)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(o.x<f.min.x||o.x>f.max.x)||!l.wrapLat&&(o.y<f.min.y||o.y>f.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(o);return ue(this.options.bounds).overlaps(v)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,f=this.getTileSize(),v=o.scaleBy(f),b=v.add(f),C=l.unproject(v,o.z),A=l.unproject(b,o.z);return[C,A]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),f=new he(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),f=new U(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(o){var l=this._tiles[o];l&&(ze(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){pe(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=d,o.onmousemove=d,ae.ielt9&&this.options.opacity<1&&Lt(o,this.options.opacity)},_addTile:function(o,l){var f=this._getTilePos(o),v=this._tileCoordsToKey(o),b=this.createTile(this._wrapCoords(o),u(this._tileReady,this,o));this._initTile(b),this.createTile.length<2&&V(u(this._tileReady,this,o,null,b)),Fe(b,f),this._tiles[v]={el:b,coords:o,current:!0},l.appendChild(b),this.fire("tileloadstart",{tile:b,coords:o})},_tileReady:function(o,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:o});var v=this._tileCoordsToKey(o);f=this._tiles[v],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Lt(f.el,0),H(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(pe(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ae.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new U(this._wrapX?g(o.x,this._wrapX):o.x,this._wrapY?g(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new J(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Ax(o){return new Qi(o)}var ti=Qi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=S(this,l),l.detectRetina&&ae.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var f=document.createElement("img");return de(f,"load",u(this._tileOnLoad,this,l,f)),de(f,"error",u(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(o),f},getTileUrl:function(o){var l={r:ae.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=f),l["-y"]=f}return k(this._url,s(l,this.options))},_tileOnLoad:function(o,l){ae.ielt9?setTimeout(u(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,f){var v=this.options.errorTileUrl;v&&l.getAttribute("src")!==v&&(l.src=v),o(f,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,v=this.options.zoomOffset;return f&&(o=l-o),o+v},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=d,l.onerror=d,!l.complete)){l.src=E;var f=this._tiles[o].coords;ze(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",E),Qi.prototype._removeTile.call(this,o)},_tileReady:function(o,l,f){if(!(!this._map||f&&f.getAttribute("src")===E))return Qi.prototype._tileReady.call(this,o,l,f)}});function Bd(o,l){return new ti(o,l)}var Fd=ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var f=s({},this.defaultWmsParams);for(var v in l)v in this.options||(f[v]=l[v]);l=S(this,l);var b=l.detectRetina&&ae.retina?2:1,C=this.getTileSize();f.width=C.x*b,f.height=C.y*b,this.wmsParams=f},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ti.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),f=this._crs,v=re(f.project(l[0]),f.project(l[1])),b=v.min,C=v.max,A=(this._wmsVersion>=1.3&&this._crs===Md?[b.y,b.x,C.y,C.x]:[b.x,b.y,C.x,C.y]).join(","),F=ti.prototype.getTileUrl.call(this,o);return F+P(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(o,l){return s(this.wmsParams,o),l||this.redraw(),this}});function Rx(o,l){return new Fd(o,l)}ti.WMS=Fd,Bd.wms=Rx;var bn=Wt.extend({options:{padding:.1},initialize:function(o){S(this,o),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var f=this._map.getZoomScale(l,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,l),C=v.multiplyBy(-f).add(b).subtract(this._map._getNewPixelOrigin(o,l));ae.any3d?yr(this._container,C,f):Fe(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new J(f,f.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ud=bn.extend({options:{tolerance:0},getEvents:function(){var o=bn.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){bn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");de(o,"mousemove",this._onMouseMove,this),de(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),de(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,ze(this._container),Ne(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bn.prototype._update.call(this);var o=this._bounds,l=this._container,f=o.getSize(),v=ae.retina?2:1;Fe(l,o.min),l.width=v*f.x,l.height=v*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){bn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[h(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,f=l.next,v=l.prev;f?f.prev=v:this._drawLast=v,v?v.next=f:this._drawFirst=f,delete o._order,delete this._layers[h(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),f=[],v,b;for(b=0;b<l.length;b++){if(v=Number(l[b]),isNaN(v))return;f.push(v)}o.options._dashArray=f}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)o=v.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var f,v,b,C,A=o._parts,F=A.length,$=this._ctx;if(F){for($.beginPath(),f=0;f<F;f++){for(v=0,b=A[f].length;v<b;v++)C=A[f][v],$[v?"lineTo":"moveTo"](C.x,C.y);l&&$.closePath()}this._fillStroke($,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,f=this._ctx,v=Math.max(Math.round(o._radius),1),b=(Math.max(Math.round(o._radiusY),1)||v)/v;b!==1&&(f.save(),f.scale(1,b)),f.beginPath(),f.arc(l.x,l.y/b,v,0,Math.PI*2,!1),b!==1&&f.restore(),this._fillStroke(f,o)}},_fillStroke:function(o,l){var f=l.options;f.fill&&(o.globalAlpha=f.fillOpacity,o.fillStyle=f.fillColor||f.color,o.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=f.opacity,o.lineWidth=f.weight,o.strokeStyle=f.color,o.lineCap=f.lineCap,o.lineJoin=f.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),f,v,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(f))&&(v=f);this._fireEvent(v?[v]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(De(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var f,v,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(l)&&(v=f);v!==this._hoveredLayer&&(this._handleMouseOut(o),v&&(pe(this._container,"leaflet-interactive"),this._fireEvent([v],o,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,f){this._map._fireDOMEvent(l,f||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var f=l.next,v=l.prev;if(f)f.prev=v;else return;v?v.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var f=l.next,v=l.prev;if(v)v.next=f;else return;f?f.prev=v:v&&(this._drawLast=v),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function $d(o){return ae.canvas?new Ud(o):null}var Ji=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ix={_initContainer:function(){this._container=ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(bn.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=Ji("shape");pe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=Ji("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[h(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;ze(l),o.removeInteractiveTarget(l),delete this._layers[h(o)]},_updateStyle:function(o){var l=o._stroke,f=o._fill,v=o.options,b=o._container;b.stroked=!!v.stroke,b.filled=!!v.fill,v.stroke?(l||(l=o._stroke=Ji("stroke")),b.appendChild(l),l.weight=v.weight+"px",l.color=v.color,l.opacity=v.opacity,v.dashArray?l.dashStyle=N(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=v.lineCap.replace("butt","flat"),l.joinstyle=v.lineJoin):l&&(b.removeChild(l),o._stroke=null),v.fill?(f||(f=o._fill=Ji("fill")),b.appendChild(f),f.color=v.fillColor||v.color,f.opacity=v.fillOpacity):f&&(b.removeChild(f),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),f=Math.round(o._radius),v=Math.round(o._radiusY||f);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+v+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){Xr(o._container)},_bringToBack:function(o){Kr(o._container)}},Us=ae.vml?Ji:bs,eo=bn.extend({_initContainer:function(){this._container=Us("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Us("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ze(this._container),Ne(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bn.prototype._update.call(this);var o=this._bounds,l=o.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),Fe(f,o.min),f.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Us("path");o.options.className&&pe(l,o.options.className),o.options.interactive&&pe(l,"leaflet-interactive"),this._updateStyle(o),this._layers[h(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ze(o._path),o.removeInteractiveTarget(o._path),delete this._layers[h(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,f=o.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,Gr(o._parts,l))},_updateCircle:function(o){var l=o._point,f=Math.max(Math.round(o._radius),1),v=Math.max(Math.round(o._radiusY),1)||f,b="a"+f+","+v+" 0 1,0 ",C=o._empty()?"M0 0":"M"+(l.x-f)+","+l.y+b+f*2+",0 "+b+-f*2+",0 ";this._setPath(o,C)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){Xr(o._path)},_bringToBack:function(o){Kr(o._path)}});ae.vml&&eo.include(Ix);function Hd(o){return ae.svg||ae.vml?new eo(o):null}ve.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&$d(o)||Hd(o)}});var Zd=Jr.extend({initialize:function(o,l){Jr.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=ue(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Dx(o,l){return new Zd(o,l)}eo.create=Us,eo.pointsToPath=Gr,wn.geometryToLayer=Os,wn.coordsToLatLng=mu,wn.coordsToLatLngs=As,wn.latLngToCoords=gu,wn.latLngsToCoords=Rs,wn.getFeature=ei,wn.asFeature=Is,ve.mergeOptions({boxZoom:!0});var Wd=sn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Wi(),Ql(),this._startPoint=this._map.mouseEventToContainerPoint(o),de(document,{contextmenu:br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ye("div","leaflet-zoom-box",this._container),pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new J(this._point,this._startPoint),f=l.getSize();Fe(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(ze(this._box),De(this._container,"leaflet-crosshair")),Vi(),Jl(),Ne(document,{contextmenu:br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var l=new he(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ve.addInitHook("addHandler","boxZoom",Wd),ve.mergeOptions({doubleClickZoom:!0});var Vd=sn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,f=l.getZoom(),v=l.options.zoomDelta,b=o.originalEvent.shiftKey?f-v:f+v;l.options.doubleClickZoom==="center"?l.setZoom(b):l.setZoomAround(o.containerPoint,b)}});ve.addInitHook("addHandler","doubleClickZoom",Vd),ve.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gd=sn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Zn(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){De(this._map._container,"leaflet-grab"),De(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ue(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),f=this._initialWorldOffset,v=this._draggable._newPos.x,b=(v-l+f)%o+l-f,C=(v+l+f)%o-l-f,A=Math.abs(b+f)<Math.abs(C+f)?b:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(o){var l=this._map,f=l.options,v=!f.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),v)l.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,A=f.easeLinearity,F=b.multiplyBy(A/C),$=F.distanceTo([0,0]),G=Math.min(f.inertiaMaxSpeed,$),te=F.multiplyBy(G/$),ce=G/(f.inertiaDeceleration*A),me=te.multiplyBy(-ce/2).round();!me.x&&!me.y?l.fire("moveend"):(me=l._limitOffset(me,l.options.maxBounds),V(function(){l.panBy(me,{duration:ce,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});ve.addInitHook("addHandler","dragging",Gd),ve.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qd=sn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),de(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ne(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,f=o.scrollTop||l.scrollTop,v=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(v,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},f=this.keyCodes,v,b;for(v=0,b=f.left.length;v<b;v++)l[f.left[v]]=[-1*o,0];for(v=0,b=f.right.length;v<b;v++)l[f.right[v]]=[o,0];for(v=0,b=f.down.length;v<b;v++)l[f.down[v]]=[0,o];for(v=0,b=f.up.length;v<b;v++)l[f.up[v]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},f=this.keyCodes,v,b;for(v=0,b=f.zoomIn.length;v<b;v++)l[f.zoomIn[v]]=o;for(v=0,b=f.zoomOut.length;v<b;v++)l[f.zoomOut[v]]=-o},_addHooks:function(){de(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,f=this._map,v;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(v=this._panKeys[l],o.shiftKey&&(v=Z(v).multiplyBy(3)),f.options.maxBounds&&(v=f._limitOffset(Z(v),f.options.maxBounds)),f.options.worldCopyJump){var b=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(v)));f.panTo(b)}else f.panBy(v)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;br(o)}}});ve.addInitHook("addHandler","keyboard",qd),ve.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xd=sn.extend({addHooks:function(){de(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=yd(o),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var v=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),v),br(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),f=this._map.options.zoomSnap||0;o._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,C=f?Math.ceil(b/f)*f:b,A=o._limitZoom(l+(this._delta>0?C:-C))-l;this._delta=0,this._startTime=null,A&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+A):o.setZoomAround(this._lastMousePos,l+A))}});ve.addInitHook("addHandler","scrollWheelZoom",Xd);var Bx=600;ve.mergeOptions({tapHold:ae.touchNative&&ae.safari&&ae.mobile,tapTolerance:15});var Kd=sn.extend({addHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new U(l.clientX,l.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(de(document,"touchend",Xe),de(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Bx),de(document,"touchend touchcancel contextmenu",this._cancel,this),de(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ne(document,"touchend",Xe),Ne(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ne(document,"touchend touchcancel contextmenu",this._cancel,this),Ne(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new U(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var f=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});ve.addInitHook("addHandler","tapHold",Kd),ve.mergeOptions({touchZoom:ae.touch,bounceAtZoomLimits:!0});var Yd=sn.extend({addHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){De(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(o.touches[0]),v=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(v)._divideBy(2))),this._startDist=f.distanceTo(v),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),de(document,"touchmove",this._onTouchMove,this),de(document,"touchend touchcancel",this._onTouchEnd,this),Xe(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(o.touches[0]),v=l.mouseEventToContainerPoint(o.touches[1]),b=f.distanceTo(v)/this._startDist;if(this._zoom=l.getScaleZoom(b,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&b<1||this._zoom>l.getMaxZoom()&&b>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var C=f._add(v)._divideBy(2)._subtract(this._centerPoint);if(b===1&&C.x===0&&C.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var A=u(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(A,this,!0),Xe(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ve.addInitHook("addHandler","touchZoom",Yd),ve.BoxZoom=Wd,ve.DoubleClickZoom=Vd,ve.Drag=Gd,ve.Keyboard=qd,ve.ScrollWheelZoom=Xd,ve.TapHold=Kd,ve.TouchZoom=Yd,r.Bounds=J,r.Browser=ae,r.CRS=ne,r.Canvas=Ud,r.Circle=pu,r.CircleMarker=zs,r.Class=R,r.Control=Zt,r.DivIcon=Dd,r.DivOverlay=an,r.DomEvent=rx,r.DomUtil=tx,r.Draggable=Zn,r.Evented=ee,r.FeatureGroup=yn,r.GeoJSON=wn,r.GridLayer=Qi,r.Handler=sn,r.Icon=Qr,r.ImageOverlay=Ds,r.LatLng=fe,r.LatLngBounds=he,r.Layer=Wt,r.LayerGroup=Yr,r.LineUtil=gx,r.Map=ve,r.Marker=Ms,r.Mixin=cx,r.Path=Wn,r.Point=U,r.PolyUtil=fx,r.Polygon=Jr,r.Polyline=xn,r.Popup=Bs,r.PosAnimation=xd,r.Projection=vx,r.Rectangle=Zd,r.Renderer=bn,r.SVG=eo,r.SVGOverlay=Id,r.TileLayer=ti,r.Tooltip=Fs,r.Transformation=dt,r.Util=Q,r.VideoOverlay=Rd,r.bind=u,r.bounds=re,r.canvas=$d,r.circle=Nx,r.circleMarker=Sx,r.control=Xi,r.divIcon=Ox,r.extend=s,r.featureGroup=wx,r.geoJSON=Ad,r.geoJson=jx,r.gridLayer=Ax,r.icon=bx,r.imageOverlay=Ex,r.latLng=le,r.latLngBounds=ue,r.layerGroup=xx,r.map=ix,r.marker=kx,r.point=Z,r.polygon=Px,r.polyline=Cx,r.popup=Mx,r.rectangle=Dx,r.setOptions=S,r.stamp=h,r.svg=Hd,r.svgOverlay=Lx,r.tileLayer=Bd,r.tooltip=zx,r.transformation=ot,r.version=i,r.videoOverlay=Tx;var Fx=window.L;r.noConflict=function(){return window.L=Fx,this},window.L=r})})(rf,rf.exports);var Ui=rf.exports;const Ur=Ef(Ui);function Ol(e,n,r){return Object.freeze({instance:e,context:n,container:r})}function Al(e,n){return n==null?function(i,s){const a=M.useRef();return a.current||(a.current=e(i,s)),a}:function(i,s){const a=M.useRef();a.current||(a.current=e(i,s));const u=M.useRef(i),{instance:c}=a.current;return M.useEffect(function(){u.current!==i&&(n(c,i,u.current),u.current=i)},[c,i,s]),a}}function a_(e,n){M.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var a;(a=n.layerContainer)==null||a.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function l_(e){return function(r){const i=Ml(),s=e(zl(r,i),i);return n_(i.map,r.attribution),Eh(s.current,r.eventHandlers),a_(s.current,i),s}}function Kb(e,n){const r=M.useRef();M.useEffect(function(){if(n.pathOptions!==r.current){const s=n.pathOptions??{};e.instance.setStyle(s),r.current=s}},[e,n])}function Yb(e){return function(r){const i=Ml(),s=e(zl(r,i),i);return Eh(s.current,r.eventHandlers),a_(s.current,i),Kb(s.current,r),s}}function Qb(e,n){const r=Al(e,n),i=l_(r);return s_(i)}function Jb(e,n){const r=Al(e),i=Xb(r,n);return Gb(i)}function ek(e,n){const r=Al(e,n),i=Yb(r);return s_(i)}function tk(e,n){const r=Al(e,n),i=l_(r);return qb(i)}function nk(e,n,r){const{opacity:i,zIndex:s}=n;i!=null&&i!==r.opacity&&e.setOpacity(i),s!=null&&s!==r.zIndex&&e.setZIndex(s)}function u_(){return Ml().map}function of(){return of=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},of.apply(this,arguments)}function rk({bounds:e,boundsOptions:n,center:r,children:i,className:s,id:a,placeholder:u,style:c,whenReady:h,zoom:p,...g},d){const[_]=M.useState({className:s,id:a,style:c}),[y,w]=M.useState(null);M.useImperativeHandle(d,()=>(y==null?void 0:y.map)??null,[y]);const S=M.useCallback(x=>{if(x!==null&&y===null){const k=new Ui.Map(x,g);r!=null&&p!=null?k.setView(r,p):e!=null&&k.fitBounds(e,n),h!=null&&k.whenReady(h),w(Vb(k))}},[]);M.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const P=y?Rn.createElement(o_,{value:y},i):u??null;return Rn.createElement("div",of({},_,{ref:S}),P)}const c_=M.forwardRef(rk),sf=Qb(function({position:n,...r},i){const s=new Ui.Marker(n,r);return Ol(s,r_(i,{overlayContainer:s}))},function(n,r,i){r.position!==i.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==i.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==i.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==i.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==i.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),ik=ek(function({positions:n,...r},i){const s=new Ui.Polyline(n,r);return Ol(s,r_(i,{overlayContainer:s}))},function(n,r,i){r.positions!==i.positions&&n.setLatLngs(r.positions)}),af=Jb(function(n,r){const i=new Ui.Popup(n,r.overlayContainer);return Ol(i,r)},function(n,r,{position:i},s){M.useEffect(function(){const{instance:u}=n;function c(p){p.popup===u&&(u.update(),s(!0))}function h(p){p.popup===u&&s(!1)}return r.map.on({popupopen:c,popupclose:h}),r.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(r.map)):r.overlayContainer.bindPopup(u),function(){var g;r.map.off({popupopen:c,popupclose:h}),(g=r.overlayContainer)==null||g.unbindPopup(),r.map.removeLayer(u)}},[n,r,s,i])}),f_=tk(function({url:n,...r},i){const s=new Ui.TileLayer(n,zl(r,i));return Ol(s,i)},function(n,r,i){nk(n,r,i);const{url:s}=r;s!=null&&s!==i.url&&n.setUrl(s)});delete Ur.Icon.Default.prototype._getIconUrl;Ur.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const ok=()=>Ur.divIcon({className:"custom-marker",html:'<div style="background: #667eea; width: 30px; height: 30px; border-radius: 50%; border: 3px solid #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.5);"></div>',iconSize:[30,30],iconAnchor:[15,15]}),sk=()=>Ur.divIcon({className:"custom-marker",html:'<div style="background: #10b981; width: 18px; height: 18px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>',iconSize:[18,18],iconAnchor:[9,9]}),ak=({locations:e})=>{const n=u_();return M.useEffect(()=>{if(e.length>0){const r=Ur.latLngBounds(e.map(i=>[i.lat,i.lon]));n.fitBounds(r,{padding:[50,50]})}},[e,n]),null},lk=({entities:e,claims:n,eventName:r})=>{const[i,s]=M.useState([]),[a,u]=M.useState(!0),[c,h]=M.useState(null);M.useEffect(()=>{p()},[e]);const p=async()=>{u(!0);const y=e.filter(P=>P.entity_type==="LOCATION"||P.entity_type==="GPE");if(y.length===0){u(!1);return}const w=[...y].sort((P,x)=>(x.mention_count||0)-(P.mention_count||0)),S=[];for(const P of w.slice(0,10)){const x=await g(P.canonical_name);x&&S.push({entity:P,lat:x.lat,lon:x.lon}),await new Promise(k=>setTimeout(k,1100))}s(S),S.length>0&&h(S[0]),u(!1)},g=async y=>{try{const w=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(y)}&limit=1`,{headers:{"User-Agent":"HereNews/1.0"}});if(!w.ok)return null;const S=await w.json();return S.length===0?null:{lat:parseFloat(S[0].lat),lon:parseFloat(S[0].lon)}}catch(w){return console.error("Geocoding error:",w),null}},d=y=>n.filter(w=>w.text.toLowerCase().includes(y.toLowerCase())).length;if(a)return m.jsx("div",{className:"h-[600px] bg-gray-900 rounded-lg flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400",children:"Geocoding locations..."}),m.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"This may take a few moments"})]})});if(i.length===0)return m.jsx("div",{className:"h-[600px] bg-gray-900 rounded-lg flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-gray-400",children:[m.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),m.jsx("p",{className:"text-lg font-medium",children:"Geographic Map"}),m.jsx("p",{className:"text-sm mt-2",children:"No geographic locations found or could not geocode locations"})]})});const _=c?[c.lat,c.lon]:[22.3193,114.1694];return m.jsxs("div",{className:"h-[600px] bg-gray-900 rounded-lg overflow-hidden relative",children:[m.jsxs(c_,{center:_,zoom:10,style:{height:"100%",width:"100%"},zoomControl:!0,children:[m.jsx(f_,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",maxZoom:20}),c&&m.jsx(sf,{position:[c.lat,c.lon],icon:ok(),children:m.jsx(af,{children:m.jsxs("div",{className:"text-sm",children:[m.jsx("div",{className:"text-blue-400 font-semibold text-xs uppercase mb-1",children:"Main Location"}),m.jsx("div",{className:"font-bold text-base mb-1",children:c.entity.canonical_name}),m.jsxs("div",{className:"text-gray-600 text-xs",children:[d(c.entity.canonical_name)," mention(s) in claims"]})]})})}),i.slice(1).map(y=>m.jsx(sf,{position:[y.lat,y.lon],icon:sk(),children:m.jsx(af,{children:m.jsxs("div",{className:"text-sm",children:[m.jsx("div",{className:"text-green-400 font-semibold text-xs uppercase mb-1",children:"Location Entity"}),m.jsx("div",{className:"font-bold text-base mb-1",children:y.entity.canonical_name}),m.jsxs("div",{className:"text-gray-600 text-xs mb-1",children:[d(y.entity.canonical_name)," mention(s) in claims"]}),y.entity.mention_count&&m.jsxs("div",{className:"text-gray-600 text-xs",children:[y.entity.mention_count," total mentions"]})]})})},y.entity.id)),m.jsx(ak,{locations:i})]}),m.jsxs("div",{className:"absolute bottom-4 left-4 bg-gray-800/95 backdrop-blur-sm rounded-lg p-4 border border-gray-700 z-[1000] max-w-xs",children:[m.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Geographic Distribution"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-blue-400",children:i.length}),m.jsx("div",{className:"text-xs text-gray-400",children:"Locations"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-green-400",children:n.length}),m.jsx("div",{className:"text-xs text-gray-400",children:"Claims"})]})]}),m.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r})]})]})},qu={person:"#805ad5",organization:"#3182ce",location:"#38a169",event:"#d69e2e",default:"#718096"};function uk({entityId:e,displayName:n,isFirstMention:r=!1,preloadedEntity:i,eventEntities:s}){var x;const[a,u]=M.useState(!1),[c,h]=M.useState(i||null),[p,g]=M.useState(!1),[d,_]=M.useState(!1);M.useEffect(()=>{if(i){h(i);return}if(s&&e){const k=s.find(N=>N.id===e);k&&h({id:k.id,canonical_name:k.canonical_name,entity_type:k.entity_type,wikidata_qid:k.wikidata_qid,wikidata_description:k.wikidata_description,image_url:k.image_url,mention_count:k.mention_count})}},[e,s,i]);const y=async()=>{if(u(!0),!(c!=null&&c.wikidata_description||c!=null&&c.profile_summary)&&!(!e||!e.startsWith("en_"))){g(!0);try{const k=await fetch(`/api/entities/${e}`);if(k.ok){const N=await k.json();h(N.entity)}}catch(k){console.error("Failed to fetch entity:",k)}finally{g(!1)}}},w=c!=null&&c.entity_type&&qu[c.entity_type.toLowerCase()]||qu.default,S=((x=c==null?void 0:c.entity_type)==null?void 0:x.toLowerCase())==="person",P=(c==null?void 0:c.image_url)&&!d;return m.jsxs("span",{style:{position:"relative",display:"inline"},children:[m.jsxs("span",{onMouseEnter:y,onMouseLeave:()=>u(!1),style:{cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"4px",verticalAlign:"baseline"},children:[r&&P&&m.jsx("img",{src:c.image_url,alt:n,onError:()=>_(!0),style:{width:"20px",height:"20px",borderRadius:"50%",objectFit:"cover",border:`2px solid ${w}`,verticalAlign:"middle",display:"inline-block"}}),m.jsx("span",{style:{color:w,fontWeight:600,backgroundColor:S?"rgba(128, 90, 213, 0.1)":"transparent",padding:S?"1px 6px":"0",borderRadius:S?"4px":"0",borderBottom:S?"none":`2px solid ${w}`,transition:"opacity 0.2s"},className:"hover:opacity-70",children:n})]}),a&&m.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px",backgroundColor:"#1a202c",color:"white",padding:"12px",borderRadius:"8px",minWidth:"280px",maxWidth:"380px",zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,0.5)",pointerEvents:"none",border:`1px solid ${w}40`},children:[m.jsx("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:"8px solid #1a202c"}}),p?m.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),m.jsx("span",{children:"Loading..."})]}):c?m.jsxs("div",{className:"flex gap-3",children:[c.image_url&&m.jsx("img",{src:c.image_url,alt:c.canonical_name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0 border-2",style:{borderColor:w},onError:k=>{k.target.style.display="none"}}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[m.jsx("span",{className:"font-semibold text-white",children:c.canonical_name}),c.entity_type&&m.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium text-white flex-shrink-0",style:{backgroundColor:w},children:c.entity_type})]}),m.jsxs("div",{className:"text-xs text-gray-400 mb-1 flex flex-wrap gap-2",children:[c.wikidata_qid&&m.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:c.wikidata_qid}),c.mention_count!==void 0&&c.mention_count>0&&m.jsxs("span",{children:[c.mention_count," mentions"]})]}),(c.wikidata_description||c.profile_summary)&&m.jsx("div",{className:"text-xs text-gray-300 line-clamp-3 leading-relaxed",children:c.wikidata_description||c.profile_summary}),c.aliases&&c.aliases.length>0&&m.jsxs("div",{className:"text-xs text-gray-500 mt-1 italic",children:["Also known as: ",c.aliases.slice(0,3).join(", ")]})]})]}):m.jsxs("div",{className:"text-gray-400 text-sm",children:[m.jsx("span",{className:"font-medium text-white",children:n}),m.jsx("p",{className:"text-xs mt-1",children:"No additional information available"})]})]})]})}const Xu={observation:{bg:"#065f46",text:"#a7f3d0"},prediction:{bg:"#1e40af",text:"#bfdbfe"},speculation:{bg:"#92400e",text:"#fde68a"},opinion:{bg:"#7c3aed",text:"#ddd6fe"},default:{bg:"#374151",text:"#d1d5db"}};function ck({claimId:e,displayText:n,preloadedClaim:r,eventClaims:i}){const[s,a]=M.useState(!1),[u,c]=M.useState(r||null),[h,p]=M.useState(!1);Rn.useEffect(()=>{if(r){c(r);return}if(i&&e){const w=i.find(S=>S.id===e);w&&c({id:w.id,text:w.text,event_time:w.event_time,confidence:w.confidence})}},[e,i,r]);const g=async w=>{if(w.preventDefault(),w.stopPropagation(),a(!s),(u==null?void 0:u.source)===void 0&&!(!e||!e.startsWith("cl_"))){p(!0);try{const S=await fetch(`/api/claims/${e}`);if(S.ok){const P=await S.json();c({...P.claim,source:P.source,entities:P.entities})}}catch(S){console.error("Failed to fetch claim:",S)}finally{p(!1)}}};Rn.useEffect(()=>{if(!s)return;const w=S=>{S.target.closest(".claim-popup-container")||a(!1)};return document.addEventListener("click",w),()=>document.removeEventListener("click",w)},[s]);const d=w=>{if(!w)return null;try{return new Date(w).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return w}},_=u!=null&&u.modality&&Xu[u.modality]||Xu.default,y=n||`[${e.replace("cl_","").slice(0,4)}]`;return m.jsxs("span",{className:"claim-popup-container",style:{position:"relative",display:"inline"},children:[m.jsx("sup",{onClick:g,style:{cursor:"pointer",color:"#60a5fa",fontWeight:600,fontSize:"0.7em",marginLeft:"1px",padding:"0 2px",borderRadius:"2px",backgroundColor:s?"rgba(96, 165, 250, 0.2)":"transparent",transition:"all 0.2s"},className:"hover:bg-blue-500/20",title:(u==null?void 0:u.text)||"Click to view claim",children:y}),s&&m.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"12px",backgroundColor:"#111827",color:"white",padding:"16px",borderRadius:"12px",minWidth:"320px",maxWidth:"450px",zIndex:1001,boxShadow:"0 8px 30px rgba(0,0,0,0.6)",border:"1px solid #374151"},onClick:w=>w.stopPropagation(),children:[m.jsx("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"10px solid #111827"}}),m.jsx("button",{onClick:()=>a(!1),style:{position:"absolute",top:"8px",right:"8px",background:"none",border:"none",color:"#9ca3af",cursor:"pointer",fontSize:"16px",lineHeight:1,padding:"4px"},className:"hover:text-white",children:"x"}),h?m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 py-4",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}),m.jsx("span",{children:"Loading claim details..."})]}):u?m.jsxs("div",{children:[m.jsxs("div",{className:"text-gray-200 text-sm leading-relaxed mb-3 pr-6",children:['"',u.text,'"']}),m.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[u.event_time&&m.jsxs("div",{className:"flex items-center gap-1 text-xs bg-gray-800 px-2 py-1 rounded",children:[m.jsx("span",{className:"text-gray-500",children:"When:"}),m.jsx("span",{className:"text-gray-300",children:d(u.event_time)})]}),u.confidence!==void 0&&m.jsxs("div",{className:"flex items-center gap-1 text-xs bg-gray-800 px-2 py-1 rounded",children:[m.jsx("span",{className:"text-gray-500",children:"Confidence:"}),m.jsxs("span",{className:"text-green-400",children:[Math.round(u.confidence*100),"%"]})]}),u.modality&&m.jsx("span",{className:"text-xs px-2 py-1 rounded font-medium",style:{backgroundColor:_.bg,color:_.text},children:u.modality}),u.topic_key&&m.jsx("span",{className:"text-xs bg-purple-900/50 text-purple-300 px-2 py-1 rounded",children:u.topic_key})]}),u.source&&m.jsxs("div",{className:"border-t border-gray-700 pt-3 mt-3",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Source:"}),m.jsx("a",{href:u.source.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:text-blue-300 hover:underline block truncate",title:u.source.url,children:u.source.title||u.source.site_name||u.source.domain||u.source.url}),u.source.site_name&&u.source.title&&m.jsx("div",{className:"text-xs text-gray-500 mt-1",children:u.source.site_name})]}),u.entities&&u.entities.length>0&&m.jsxs("div",{className:"border-t border-gray-700 pt-3 mt-3",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Mentioned entities:"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:u.entities.map(w=>m.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-800 text-gray-300",title:w.entity_type,children:w.canonical_name},w.id))})]}),m.jsxs("div",{className:"text-xs text-gray-600 mt-3 pt-2 border-t border-gray-800",children:["ID: ",u.id]})]}):m.jsx("div",{className:"text-gray-400 text-sm py-2",children:"Unable to load claim details"})]})]})}const Ku=new Set;function bm({content:e,entities:n,claims:r}){M.useMemo(()=>{Ku.clear()},[e]);const i=M.useMemo(()=>{const d=new Map;return n.forEach(_=>{d.set(_.id,_),d.set(_.canonical_name.toLowerCase(),_)}),d},[n]),s=M.useMemo(()=>{const d=new Map;return r.forEach(_=>{d.set(_.id,_)}),d},[r]),a=d=>{const _=d.split(`
`),y=[];let w=[];for(const S of _){const P=S.trim();if(!P){w.length>0&&(y.push(w),w=[]);continue}const x=P.match(/^###\s+(.+)$/);if(x){w.length>0&&(y.push(w),w=[]),y.push([{type:"heading",content:x[1],level:3}]);continue}const k=P.match(/^##\s+(.+)$/);if(k){w.length>0&&(y.push(w),w=[]),y.push([{type:"heading",content:k[1],level:2}]);continue}const N=P.match(/^[-*]\s+(.+)$/);if(N){const E=u(N[1]);y.push([{type:"bullet",content:""},...E]);continue}const j=u(P);w.push(...j),w.length>0&&w.push({type:"text",content:" "})}return w.length>0&&y.push(w),y},u=d=>{const _=[];let y=0;const w=/((?:[A-Z][a-zA-Z'-]*(?:\s+(?:of\s+)?[A-Z][a-zA-Z'-]*){0,5}))\s*\[(en_[a-zA-Z0-9]+)\]|\[\[([^\]|]+)(?:\|([^\]]+))?\]\]|\{\{(?:claim|cite):([^}]+)\}\}|\[(cl_[a-zA-Z0-9]+)\]/g;let S;for(;(S=w.exec(d))!==null;){if(S.index>y&&_.push({type:"text",content:d.substring(y,S.index)}),S[1]&&S[2]){const P=S[1].trim(),x=S[2];_.push({type:"entity",content:P,entityName:P,entityId:x})}else if(S[3]){const P=S[3],x=S[4]||void 0;_.push({type:"entity",content:P,entityName:P,entityId:x})}else S[5]?_.push({type:"claim",content:S[0],claimId:S[5]}):S[6]&&_.push({type:"claim",content:S[0],claimId:S[6]});y=w.lastIndex}return y<d.length&&_.push({type:"text",content:d.substring(y)}),_},c=(d,_)=>{if(d.type==="text"){const y=d.content.replace(/\*\*([^*]+)\*\*/g,'<strong class="text-slate-900 font-semibold">$1</strong>').replace(/\*([^*]+)\*/g,"<em>$1</em>");return m.jsx("span",{dangerouslySetInnerHTML:{__html:y}},_)}if(d.type==="entity"){let y;d.entityId&&(y=i.get(d.entityId)),!y&&d.entityName&&(y=i.get(d.entityName.toLowerCase()));const w=(y==null?void 0:y.id)||d.entityId||d.entityName||"",S=!Ku.has(w);return w&&Ku.add(w),m.jsx(uk,{entityId:(y==null?void 0:y.id)||d.entityId||"",displayName:d.entityName||(y==null?void 0:y.canonical_name)||"Unknown",isFirstMention:S,eventEntities:n},_)}if(d.type==="claim"){const y=d.claimId?s.get(d.claimId):void 0;return m.jsx(ck,{claimId:d.claimId||"",preloadedClaim:y?{id:y.id,text:y.text,event_time:y.event_time,confidence:y.confidence}:void 0,eventClaims:r},_)}return null},h=(d,_)=>{if(d.length===1&&d[0].type==="heading"){const y=d[0];if(y.level===2)return m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mt-8 mb-4",children:y.content},_);if(y.level===3)return m.jsx("h3",{className:"text-xl font-bold text-slate-700 mt-6 mb-3",children:y.content},_)}return d.length>0&&d[0].type==="bullet"?m.jsx("li",{className:"text-slate-700 pl-2 mb-2",children:d.slice(1).map((y,w)=>c(y,w))},_):m.jsx("p",{className:"text-slate-700 leading-relaxed mb-4",children:d.map((y,w)=>c(y,w))},_)},p=M.useMemo(()=>a(e),[e]),g=()=>{const d=[];let _=[];const y=()=>{_.length>0&&(d.push(m.jsx("ul",{className:"list-disc list-inside space-y-1 my-4 pl-4",children:_.map((w,S)=>h(w,S))},`ul-${d.length}`)),_=[])};return p.forEach((w,S)=>{w.length>0&&w[0].type==="bullet"?_.push(w):(y(),d.push(h(w,S)))}),y(),d};return m.jsx("div",{className:"prose prose-slate prose-lg max-w-none",children:g()})}const fk=()=>{var P,x;const{eventSlug:e}=Xv(),[n,r]=M.useState("narrative"),[i,s]=M.useState(null),[a,u]=M.useState(!0),[c,h]=M.useState(null);M.useRef(null),M.useEffect(()=>{p()},[e]);const p=async()=>{try{u(!0);const k=await fetch(`/api/events/${e}`);if(!k.ok)throw new Error("Event not found");const N=await k.json();s(N)}catch(k){h(k.message)}finally{u(!1)}},g=()=>i?m.jsx(Hb,{claims:i.claims}):null,d=()=>i?m.jsx(Zb,{entities:i.entities,claims:i.claims,eventName:y.canonical_name}):null,_=()=>i?m.jsx(lk,{entities:i.entities,claims:i.claims,eventName:y.canonical_name}):null;if(a)return m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),m.jsx("p",{className:"text-slate-500",children:"Loading event..."})]})});if(c||!i)return m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx("div",{className:"text-center",children:m.jsxs("p",{className:"text-red-500 text-xl mb-4",children:["Error: ",c||"Event not found"]})})});const{event:y,entities:w,claims:S}=i;return m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:y.canonical_name}),m.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[y.event_start&&m.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),m.jsx("span",{children:new Date(y.event_start).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),m.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),m.jsx("span",{children:y.event_type})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:"px-3 py-1 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-sm font-semibold",children:[" ",Math.round(y.coherence*100),"%"]})}),m.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),m.jsxs("span",{children:[S.length," claims"]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),m.jsxs("span",{children:[w.length," entities"]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 mb-6",children:[m.jsx("div",{className:"border-b border-slate-200",children:m.jsx("div",{className:"flex",children:[{id:"narrative",label:"Narrative",icon:""},{id:"timeline",label:"Timeline",icon:""},{id:"graph",label:"Graph",icon:""},{id:"map",label:"Map",icon:""}].map(k=>m.jsxs("button",{onClick:()=>r(k.id),className:`px-6 py-4 font-medium transition-all border-b-2 ${n===k.id?"text-indigo-600 border-indigo-600":"text-slate-500 border-transparent hover:text-slate-700 hover:border-slate-300"}`,children:[m.jsx("span",{className:"mr-2",children:k.icon}),k.label]},k.id))})}),m.jsxs("div",{className:"p-6",children:[n==="narrative"&&m.jsxs("div",{className:"max-w-4xl mx-auto",children:[((P=y.narrative)==null?void 0:P.key_figures)&&y.narrative.key_figures.length>0&&m.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mb-6 flex flex-wrap gap-6",children:y.narrative.key_figures.map((k,N)=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-slate-500 text-sm capitalize",children:[k.label.replace(/_/g," "),":"]}),m.jsx("span",{className:"text-xl font-bold text-slate-900",children:k.value})]},N))}),m.jsx("div",{className:"prose prose-slate max-w-none",children:(x=y.narrative)!=null&&x.sections?y.narrative.sections.map((k,N)=>m.jsxs("div",{className:N>0?"mt-8":"",children:[k.title&&m.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:k.title}),m.jsx(bm,{content:k.content,entities:w,claims:S})]},N)):m.jsx(bm,{content:y.summary,entities:w,claims:S})})]}),n==="timeline"&&m.jsx("div",{className:"max-w-4xl mx-auto",children:g()}),n==="graph"&&m.jsx("div",{children:d()}),n==="map"&&m.jsx("div",{children:_()})]})]})]})};function hk(){const e=Hn(),[n,r]=M.useState([]),[i,s]=M.useState(!0),[a,u]=M.useState("all"),[c,h]=M.useState("");M.useEffect(()=>{p();const _=setInterval(p,2e3);return()=>clearInterval(_)},[]);const p=async()=>{try{const _=await fetch("/api/events/mine",{credentials:"include"});if(_.ok){const y=await _.json();r(y)}s(!1)}catch(_){console.error("Failed to load submissions:",_),s(!1)}},g=n.filter(_=>{var y,w;if(a!=="all"&&_.status!==a)return!1;if(c){const S=c.toLowerCase();return((y=_.urls)==null?void 0:y.toLowerCase().includes(S))||((w=_.content)==null?void 0:w.toLowerCase().includes(S))}return!0}),d={all:n.length,pending:n.filter(_=>_.status==="pending").length,extracting:n.filter(_=>_.status==="extracting").length,completed:n.filter(_=>_.status==="completed").length,failed:n.filter(_=>_.status==="failed").length};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[m.jsx(Ao,{}),m.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("button",{onClick:()=>e("/"),className:"text-indigo-600 hover:text-indigo-800 mb-4 flex items-center gap-2",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Feed"]}),m.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"My Archive"}),m.jsx("p",{className:"text-slate-600",children:"View and manage your submitted URLs"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[m.jsx("div",{className:"mb-4",children:m.jsx("input",{type:"text",placeholder:"Search by URL or content...",value:c,onChange:_=>h(_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),m.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","pending","extracting","completed","failed"].map(_=>m.jsxs("button",{onClick:()=>u(_),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===_?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[_.charAt(0).toUpperCase()+_.slice(1),m.jsxs("span",{className:"ml-2 text-sm opacity-75",children:["(",d[_],")"]})]},_))})]}),i?m.jsxs("div",{className:"text-center py-16",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),m.jsx("p",{className:"mt-4 text-slate-600",children:"Loading your archive..."})]}):g.length===0?m.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-sm",children:[m.jsx("svg",{className:"w-16 h-16 mx-auto text-slate-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),m.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No submissions found"}),m.jsx("p",{className:"text-slate-600 mb-4",children:c||a!=="all"?"Try adjusting your filters or search query":"Start by submitting your first URL from the home page"}),(c||a!=="all")&&m.jsx("button",{onClick:()=>{h(""),u("all")},className:"text-indigo-600 hover:text-indigo-800 font-medium",children:"Clear filters"})]}):m.jsx("div",{className:"space-y-4",children:g.map(_=>m.jsx(e_,{submission:_},_.id))}),!i&&n.length>0&&m.jsxs("div",{className:"mt-8 text-center text-sm text-slate-500",children:["Showing ",g.length," of ",n.length," submission",n.length!==1?"s":""]})]})]})}function dk(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,s,a,u,c=[],h=!0,p=!1;try{if(a=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);h=!0);}catch(g){p=!0,s=g}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(p)throw s}}return c}}function pk(e,n,r){return n=bk(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function km(e,n){return vk(e)||dk(e,n)||h_(e,n)||xk()}function mk(e){return gk(e)||_k(e)||h_(e)||yk()}function gk(e){if(Array.isArray(e))return lf(e)}function vk(e){if(Array.isArray(e))return e}function _k(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h_(e,n){if(e){if(typeof e=="string")return lf(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lf(e,n)}}function lf(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function yk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wk(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function bk(e){var n=wk(e,"string");return typeof n=="symbol"?n:String(n)}var kk=function(n,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(mk(Object.entries(n).filter(function(s){var a=km(s,1),u=a[0];return!i.has(u)}).map(function(s){var a=km(s,2),u=a[0],c=a[1];return pk({},u,c)}))))};function uf(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function Sk(e){if(Array.isArray(e))return e}function Nk(e){if(Array.isArray(e))return uf(e)}function Ck(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pk(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,s,a,u,c=[],h=!0,p=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(h=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);h=!0);}catch(g){p=!0,s=g}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(p)throw s}}return c}}function jk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ek(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tk(e,n){return Sk(e)||Pk(e,n)||d_(e,n)||jk()}function Sm(e){return Nk(e)||Ck(e)||d_(e)||Ek()}function d_(e,n){if(e){if(typeof e=="string")return uf(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uf(e,n):void 0}}function Lk(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,i=r===void 0?"div":r,s=n.nodeMapper,a=s===void 0?function(g){return g}:s,u=n.methodNames,c=u===void 0?[]:u,h=n.initPropNames,p=h===void 0?[]:h;return M.forwardRef(function(g,d){var _=M.useRef(),y=M.useMemo(function(){var P=Object.fromEntries(p.filter(function(x){return g.hasOwnProperty(x)}).map(function(x){return[x,g[x]]}));return e(P)},[]);Nm(function(){y(a(_.current))},M.useLayoutEffect),Nm(function(){return y._destructor instanceof Function?y._destructor:void 0});var w=M.useCallback(function(P){for(var x=arguments.length,k=new Array(x>1?x-1:0),N=1;N<x;N++)k[N-1]=arguments[N];return y[P]instanceof Function?y[P].apply(y,k):void 0},[y]),S=M.useRef({});return Object.keys(kk(g,[].concat(Sm(c),Sm(p)))).filter(function(P){return S.current[P]!==g[P]}).forEach(function(P){return w(P,g[P])}),S.current=g,M.useImperativeHandle(d,function(){return Object.fromEntries(c.map(function(P){return[P,function(){for(var x=arguments.length,k=new Array(x),N=0;N<x;N++)k[N]=arguments[N];return w.apply(void 0,[P].concat(k))}]}))},[w]),Rn.createElement(i,{ref:_})})}function Nm(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.useEffect,r=M.useRef(),i=M.useRef(!1),s=M.useRef(!1),a=M.useState(0),u=Tk(a,2);u[0];var c=u[1];i.current&&(s.current=!0),n(function(){return i.current||(r.current=e(),i.current=!0),c(function(h){return h+1}),function(){s.current&&r.current&&r.current()}},[])}var cf="http://www.w3.org/1999/xhtml";const Cm={svg:"http://www.w3.org/2000/svg",xhtml:cf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rl(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Cm.hasOwnProperty(n)?{space:Cm[n],local:e}:e}function Mk(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===cf&&n.documentElement.namespaceURI===cf?n.createElement(e):n.createElementNS(r,e)}}function zk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function p_(e){var n=Rl(e);return(n.local?zk:Mk)(n)}function Ok(){}function Th(e){return e==null?Ok:function(){return this.querySelector(e)}}function Ak(e){typeof e!="function"&&(e=Th(e));for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s)for(var a=n[s],u=a.length,c=i[s]=new Array(u),h,p,g=0;g<u;++g)(h=a[g])&&(p=e.call(h,h.__data__,g,a))&&("__data__"in h&&(p.__data__=h.__data__),c[g]=p);return new jt(i,this._parents)}function Rk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ik(){return[]}function m_(e){return e==null?Ik:function(){return this.querySelectorAll(e)}}function Dk(e){return function(){return Rk(e.apply(this,arguments))}}function Bk(e){typeof e=="function"?e=Dk(e):e=m_(e);for(var n=this._groups,r=n.length,i=[],s=[],a=0;a<r;++a)for(var u=n[a],c=u.length,h,p=0;p<c;++p)(h=u[p])&&(i.push(e.call(h,h.__data__,p,u)),s.push(h));return new jt(i,s)}function g_(e){return function(){return this.matches(e)}}function v_(e){return function(n){return n.matches(e)}}var Fk=Array.prototype.find;function Uk(e){return function(){return Fk.call(this.children,e)}}function $k(){return this.firstElementChild}function Hk(e){return this.select(e==null?$k:Uk(typeof e=="function"?e:v_(e)))}var Zk=Array.prototype.filter;function Wk(){return Array.from(this.children)}function Vk(e){return function(){return Zk.call(this.children,e)}}function Gk(e){return this.selectAll(e==null?Wk:Vk(typeof e=="function"?e:v_(e)))}function qk(e){typeof e!="function"&&(e=g_(e));for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s)for(var a=n[s],u=a.length,c=i[s]=[],h,p=0;p<u;++p)(h=a[p])&&e.call(h,h.__data__,p,a)&&c.push(h);return new jt(i,this._parents)}function __(e){return new Array(e.length)}function Xk(){return new jt(this._enter||this._groups.map(__),this._parents)}function rl(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}rl.prototype={constructor:rl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Kk(e){return function(){return e}}function Yk(e,n,r,i,s,a){for(var u=0,c,h=n.length,p=a.length;u<p;++u)(c=n[u])?(c.__data__=a[u],i[u]=c):r[u]=new rl(e,a[u]);for(;u<h;++u)(c=n[u])&&(s[u]=c)}function Qk(e,n,r,i,s,a,u){var c,h,p=new Map,g=n.length,d=a.length,_=new Array(g),y;for(c=0;c<g;++c)(h=n[c])&&(_[c]=y=u.call(h,h.__data__,c,n)+"",p.has(y)?s[c]=h:p.set(y,h));for(c=0;c<d;++c)y=u.call(e,a[c],c,a)+"",(h=p.get(y))?(i[c]=h,h.__data__=a[c],p.delete(y)):r[c]=new rl(e,a[c]);for(c=0;c<g;++c)(h=n[c])&&p.get(_[c])===h&&(s[c]=h)}function Jk(e){return e.__data__}function eS(e,n){if(!arguments.length)return Array.from(this,Jk);var r=n?Qk:Yk,i=this._parents,s=this._groups;typeof e!="function"&&(e=Kk(e));for(var a=s.length,u=new Array(a),c=new Array(a),h=new Array(a),p=0;p<a;++p){var g=i[p],d=s[p],_=d.length,y=tS(e.call(g,g&&g.__data__,p,i)),w=y.length,S=c[p]=new Array(w),P=u[p]=new Array(w),x=h[p]=new Array(_);r(g,d,S,P,x,y,n);for(var k=0,N=0,j,E;k<w;++k)if(j=S[k]){for(k>=N&&(N=k+1);!(E=P[N])&&++N<w;);j._next=E||null}}return u=new jt(u,i),u._enter=c,u._exit=h,u}function tS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nS(){return new jt(this._exit||this._groups.map(__),this._parents)}function rS(e,n,r){var i=this.enter(),s=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(s=n(s),s&&(s=s.selection())),r==null?a.remove():r(a),i&&s?i.merge(s).order():s}function iS(e){for(var n=e.selection?e.selection():e,r=this._groups,i=n._groups,s=r.length,a=i.length,u=Math.min(s,a),c=new Array(s),h=0;h<u;++h)for(var p=r[h],g=i[h],d=p.length,_=c[h]=new Array(d),y,w=0;w<d;++w)(y=p[w]||g[w])&&(_[w]=y);for(;h<s;++h)c[h]=r[h];return new jt(c,this._parents)}function oS(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var i=e[n],s=i.length-1,a=i[s],u;--s>=0;)(u=i[s])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function sS(e){e||(e=aS);function n(d,_){return d&&_?e(d.__data__,_.__data__):!d-!_}for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a){for(var u=r[a],c=u.length,h=s[a]=new Array(c),p,g=0;g<c;++g)(p=u[g])&&(h[g]=p);h.sort(n)}return new jt(s,this._parents).order()}function aS(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function lS(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function uS(){return Array.from(this)}function cS(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length;s<a;++s){var u=i[s];if(u)return u}return null}function fS(){let e=0;for(const n of this)++e;return e}function hS(){return!this.node()}function dS(e){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var s=n[r],a=0,u=s.length,c;a<u;++a)(c=s[a])&&e.call(c,c.__data__,a,s);return this}function pS(e){return function(){this.removeAttribute(e)}}function mS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gS(e,n){return function(){this.setAttribute(e,n)}}function vS(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function _S(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function yS(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function xS(e,n){var r=Rl(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((n==null?r.local?mS:pS:typeof n=="function"?r.local?yS:_S:r.local?vS:gS)(r,n))}function y_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wS(e){return function(){this.style.removeProperty(e)}}function bS(e,n,r){return function(){this.style.setProperty(e,n,r)}}function kS(e,n,r){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function SS(e,n,r){return arguments.length>1?this.each((n==null?wS:typeof n=="function"?kS:bS)(e,n,r??"")):Oi(this.node(),e)}function Oi(e,n){return e.style.getPropertyValue(n)||y_(e).getComputedStyle(e,null).getPropertyValue(n)}function NS(e){return function(){delete this[e]}}function CS(e,n){return function(){this[e]=n}}function PS(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function jS(e,n){return arguments.length>1?this.each((n==null?NS:typeof n=="function"?PS:CS)(e,n)):this.node()[e]}function x_(e){return e.trim().split(/^|\s+/)}function Lh(e){return e.classList||new w_(e)}function w_(e){this._node=e,this._names=x_(e.getAttribute("class")||"")}w_.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function b_(e,n){for(var r=Lh(e),i=-1,s=n.length;++i<s;)r.add(n[i])}function k_(e,n){for(var r=Lh(e),i=-1,s=n.length;++i<s;)r.remove(n[i])}function ES(e){return function(){b_(this,e)}}function TS(e){return function(){k_(this,e)}}function LS(e,n){return function(){(n.apply(this,arguments)?b_:k_)(this,e)}}function MS(e,n){var r=x_(e+"");if(arguments.length<2){for(var i=Lh(this.node()),s=-1,a=r.length;++s<a;)if(!i.contains(r[s]))return!1;return!0}return this.each((typeof n=="function"?LS:n?ES:TS)(r,n))}function zS(){this.textContent=""}function OS(e){return function(){this.textContent=e}}function AS(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function RS(e){return arguments.length?this.each(e==null?zS:(typeof e=="function"?AS:OS)(e)):this.node().textContent}function IS(){this.innerHTML=""}function DS(e){return function(){this.innerHTML=e}}function BS(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function FS(e){return arguments.length?this.each(e==null?IS:(typeof e=="function"?BS:DS)(e)):this.node().innerHTML}function US(){this.nextSibling&&this.parentNode.appendChild(this)}function $S(){return this.each(US)}function HS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ZS(){return this.each(HS)}function WS(e){var n=typeof e=="function"?e:p_(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function VS(){return null}function GS(e,n){var r=typeof e=="function"?e:p_(e),i=n==null?VS:typeof n=="function"?n:Th(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function qS(){var e=this.parentNode;e&&e.removeChild(this)}function XS(){return this.each(qS)}function KS(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function YS(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function QS(e){return this.select(e?YS:KS)}function JS(e){return arguments.length?this.property("__data__",e):this.node().__data__}function eN(e){return function(n){e.call(this,n,this.__data__)}}function tN(e){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");return i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),{type:n,name:r}})}function nN(e){return function(){var n=this.__on;if(n){for(var r=0,i=-1,s=n.length,a;r<s;++r)a=n[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):n[++i]=a;++i?n.length=i:delete this.__on}}}function rN(e,n,r){return function(){var i=this.__on,s,a=eN(n);if(i){for(var u=0,c=i.length;u<c;++u)if((s=i[u]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=r),s.value=n;return}}this.addEventListener(e.type,a,r),s={type:e.type,name:e.name,value:n,listener:a,options:r},i?i.push(s):this.__on=[s]}}function iN(e,n,r){var i=tN(e+""),s,a=i.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,p=c.length,g;h<p;++h)for(s=0,g=c[h];s<a;++s)if((u=i[s]).type===g.type&&u.name===g.name)return g.value}return}for(c=n?rN:nN,s=0;s<a;++s)this.each(c(i[s],n,r));return this}function S_(e,n,r){var i=y_(e),s=i.CustomEvent;typeof s=="function"?s=new s(n,r):(s=i.document.createEvent("Event"),r?(s.initEvent(n,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(n,!1,!1)),e.dispatchEvent(s)}function oN(e,n){return function(){return S_(this,e,n)}}function sN(e,n){return function(){return S_(this,e,n.apply(this,arguments))}}function aN(e,n){return this.each((typeof n=="function"?sN:oN)(e,n))}function*lN(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,u;s<a;++s)(u=i[s])&&(yield u)}var N_=[null];function jt(e,n){this._groups=e,this._parents=n}function _s(){return new jt([[document.documentElement]],N_)}function uN(){return this}jt.prototype=_s.prototype={constructor:jt,select:Ak,selectAll:Bk,selectChild:Hk,selectChildren:Gk,filter:qk,data:eS,enter:Xk,exit:nS,join:rS,merge:iS,selection:uN,order:oS,sort:sS,call:lS,nodes:uS,node:cS,size:fS,empty:hS,each:dS,attr:xS,style:SS,property:jS,classed:MS,text:RS,html:FS,raise:$S,lower:ZS,append:WS,insert:GS,remove:XS,clone:QS,datum:JS,on:iN,dispatch:aN,[Symbol.iterator]:lN};function Dt(e){return typeof e=="string"?new jt([[document.querySelector(e)]],[document.documentElement]):new jt([[e]],N_)}function cN(e){let n;for(;n=e.sourceEvent;)e=n;return e}function fn(e,n){if(e=cN(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var s=n.getBoundingClientRect();return[e.clientX-s.left-n.clientLeft,e.clientY-s.top-n.clientTop]}}return[e.pageX,e.pageY]}var fN={value:()=>{}};function ys(){for(var e=0,n=arguments.length,r={},i;e<n;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Pa(r)}function Pa(e){this._=e}function hN(e,n){return e.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");if(s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Pa.prototype=ys.prototype={constructor:Pa,on:function(e,n){var r=this._,i=hN(e+"",r),s,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((s=(e=i[a]).type)&&(s=dN(r[s],e.name)))return s;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<u;)if(s=(e=i[a]).type)r[s]=Pm(r[s],e.name,n);else if(n==null)for(s in r)r[s]=Pm(r[s],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Pa(e)},call:function(e,n){if((s=arguments.length-2)>0)for(var r=new Array(s),i=0,s,a;i<s;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,s=a.length;i<s;++i)a[i].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,a=i.length;s<a;++s)i[s].value.apply(n,r)}};function dN(e,n){for(var r=0,i=e.length,s;r<i;++r)if((s=e[r]).name===n)return s.value}function Pm(e,n,r){for(var i=0,s=e.length;i<s;++i)if(e[i].name===n){e[i]=fN,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:n,value:r}),e}const pN={passive:!1},is={capture:!0,passive:!1};function Yu(e){e.stopImmediatePropagation()}function Si(e){e.preventDefault(),e.stopImmediatePropagation()}function C_(e){var n=e.document.documentElement,r=Dt(e).on("dragstart.drag",Si,is);"onselectstart"in n?r.on("selectstart.drag",Si,is):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function P_(e,n){var r=e.document.documentElement,i=Dt(e).on("dragstart.drag",null);n&&(i.on("click.drag",Si,is),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const la=e=>()=>e;function ff(e,{sourceEvent:n,subject:r,target:i,identifier:s,active:a,x:u,y:c,dx:h,dy:p,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:g}})}ff.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function mN(e){return!e.ctrlKey&&!e.button}function gN(){return this.parentNode}function vN(e,n){return n??{x:e.x,y:e.y}}function _N(){return navigator.maxTouchPoints||"ontouchstart"in this}function yN(){var e=mN,n=gN,r=vN,i=_N,s={},a=ys("start","drag","end"),u=0,c,h,p,g,d=0;function _(j){j.on("mousedown.drag",y).filter(i).on("touchstart.drag",P).on("touchmove.drag",x,pN).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(j,E){if(!(g||!e.call(this,j,E))){var T=N(this,n.call(this,j,E),j,E,"mouse");T&&(Dt(j.view).on("mousemove.drag",w,is).on("mouseup.drag",S,is),C_(j.view),Yu(j),p=!1,c=j.clientX,h=j.clientY,T("start",j))}}function w(j){if(Si(j),!p){var E=j.clientX-c,T=j.clientY-h;p=E*E+T*T>d}s.mouse("drag",j)}function S(j){Dt(j.view).on("mousemove.drag mouseup.drag",null),P_(j.view,p),Si(j),s.mouse("end",j)}function P(j,E){if(e.call(this,j,E)){var T=j.changedTouches,z=n.call(this,j,E),O=T.length,B,D;for(B=0;B<O;++B)(D=N(this,z,j,E,T[B].identifier,T[B]))&&(Yu(j),D("start",j,T[B]))}}function x(j){var E=j.changedTouches,T=E.length,z,O;for(z=0;z<T;++z)(O=s[E[z].identifier])&&(Si(j),O("drag",j,E[z]))}function k(j){var E=j.changedTouches,T=E.length,z,O;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),z=0;z<T;++z)(O=s[E[z].identifier])&&(Yu(j),O("end",j,E[z]))}function N(j,E,T,z,O,B){var D=a.copy(),V=fn(B||T,E),H,Q,R;if((R=r.call(j,new ff("beforestart",{sourceEvent:T,target:_,identifier:O,active:u,x:V[0],y:V[1],dx:0,dy:0,dispatch:D}),z))!=null)return H=R.x-V[0]||0,Q=R.y-V[1]||0,function q(W,ee,U){var X=V,Z;switch(W){case"start":s[O]=q,Z=u++;break;case"end":delete s[O],--u;case"drag":V=fn(U||ee,E),Z=u;break}D.call(W,j,new ff(W,{sourceEvent:ee,subject:R,target:_,identifier:O,active:Z,x:V[0]+H,y:V[1]+Q,dx:V[0]-X[0],dy:V[1]-X[1],dispatch:D}),z)}}return _.filter=function(j){return arguments.length?(e=typeof j=="function"?j:la(!!j),_):e},_.container=function(j){return arguments.length?(n=typeof j=="function"?j:la(j),_):n},_.subject=function(j){return arguments.length?(r=typeof j=="function"?j:la(j),_):r},_.touchable=function(j){return arguments.length?(i=typeof j=="function"?j:la(!!j),_):i},_.on=function(){var j=a.on.apply(a,arguments);return j===a?_:j},_.clickDistance=function(j){return arguments.length?(d=(j=+j)*j,_):Math.sqrt(d)},_}function Mh(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function j_(e,n){var r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r}function xs(){}var os=.7,il=1/os,Ni="\\s*([+-]?\\d+)\\s*",ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xN=/^#([0-9a-f]{3,8})$/,wN=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),bN=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),kN=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${ss}\\)$`),SN=new RegExp(`^rgba\\(${gn},${gn},${gn},${ss}\\)$`),NN=new RegExp(`^hsl\\(${ss},${gn},${gn}\\)$`),CN=new RegExp(`^hsla\\(${ss},${gn},${gn},${ss}\\)$`),jm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mh(xs,as,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Em,formatHex:Em,formatHex8:PN,formatHsl:jN,formatRgb:Tm,toString:Tm});function Em(){return this.rgb().formatHex()}function PN(){return this.rgb().formatHex8()}function jN(){return E_(this).formatHsl()}function Tm(){return this.rgb().formatRgb()}function as(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=xN.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?Lm(n):r===3?new vt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?ua(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?ua(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=wN.exec(e))?new vt(n[1],n[2],n[3],1):(n=bN.exec(e))?new vt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=kN.exec(e))?ua(n[1],n[2],n[3],n[4]):(n=SN.exec(e))?ua(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=NN.exec(e))?Om(n[1],n[2]/100,n[3]/100,1):(n=CN.exec(e))?Om(n[1],n[2]/100,n[3]/100,n[4]):jm.hasOwnProperty(e)?Lm(jm[e]):e==="transparent"?new vt(NaN,NaN,NaN,0):null}function Lm(e){return new vt(e>>16&255,e>>8&255,e&255,1)}function ua(e,n,r,i){return i<=0&&(e=n=r=NaN),new vt(e,n,r,i)}function EN(e){return e instanceof xs||(e=as(e)),e?(e=e.rgb(),new vt(e.r,e.g,e.b,e.opacity)):new vt}function hf(e,n,r,i){return arguments.length===1?EN(e):new vt(e,n,r,i??1)}function vt(e,n,r,i){this.r=+e,this.g=+n,this.b=+r,this.opacity=+i}Mh(vt,hf,j_(xs,{brighter(e){return e=e==null?il:Math.pow(il,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?os:Math.pow(os,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vt(Or(this.r),Or(this.g),Or(this.b),ol(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mm,formatHex:Mm,formatHex8:TN,formatRgb:zm,toString:zm}));function Mm(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}`}function TN(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}${Lr((isNaN(this.opacity)?1:this.opacity)*255)}`}function zm(){const e=ol(this.opacity);return`${e===1?"rgb(":"rgba("}${Or(this.r)}, ${Or(this.g)}, ${Or(this.b)}${e===1?")":`, ${e})`}`}function ol(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Or(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lr(e){return e=Or(e),(e<16?"0":"")+e.toString(16)}function Om(e,n,r,i){return i<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Yt(e,n,r,i)}function E_(e){if(e instanceof Yt)return new Yt(e.h,e.s,e.l,e.opacity);if(e instanceof xs||(e=as(e)),!e)return new Yt;if(e instanceof Yt)return e;e=e.rgb();var n=e.r/255,r=e.g/255,i=e.b/255,s=Math.min(n,r,i),a=Math.max(n,r,i),u=NaN,c=a-s,h=(a+s)/2;return c?(n===a?u=(r-i)/c+(r<i)*6:r===a?u=(i-n)/c+2:u=(n-r)/c+4,c/=h<.5?a+s:2-a-s,u*=60):c=h>0&&h<1?0:u,new Yt(u,c,h,e.opacity)}function LN(e,n,r,i){return arguments.length===1?E_(e):new Yt(e,n,r,i??1)}function Yt(e,n,r,i){this.h=+e,this.s=+n,this.l=+r,this.opacity=+i}Mh(Yt,LN,j_(xs,{brighter(e){return e=e==null?il:Math.pow(il,e),new Yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?os:Math.pow(os,e),new Yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,s=2*r-i;return new vt(Qu(e>=240?e-240:e+120,s,i),Qu(e,s,i),Qu(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new Yt(Am(this.h),ca(this.s),ca(this.l),ol(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ol(this.opacity);return`${e===1?"hsl(":"hsla("}${Am(this.h)}, ${ca(this.s)*100}%, ${ca(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Am(e){return e=(e||0)%360,e<0?e+360:e}function ca(e){return Math.max(0,Math.min(1,e||0))}function Qu(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const T_=e=>()=>e;function MN(e,n){return function(r){return e+r*n}}function zN(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(i){return Math.pow(e+i*n,r)}}function ON(e){return(e=+e)==1?L_:function(n,r){return r-n?zN(n,r,e):T_(isNaN(n)?r:n)}}function L_(e,n){var r=n-e;return r?MN(e,r):T_(isNaN(e)?n:e)}const Rm=function e(n){var r=ON(n);function i(s,a){var u=r((s=hf(s)).r,(a=hf(a)).r),c=r(s.g,a.g),h=r(s.b,a.b),p=L_(s.opacity,a.opacity);return function(g){return s.r=u(g),s.g=c(g),s.b=h(g),s.opacity=p(g),s+""}}return i.gamma=e,i}(1);function Qn(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var df=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ju=new RegExp(df.source,"g");function AN(e){return function(){return e}}function RN(e){return function(n){return e(n)+""}}function IN(e,n){var r=df.lastIndex=Ju.lastIndex=0,i,s,a,u=-1,c=[],h=[];for(e=e+"",n=n+"";(i=df.exec(e))&&(s=Ju.exec(n));)(a=s.index)>r&&(a=n.slice(r,a),c[u]?c[u]+=a:c[++u]=a),(i=i[0])===(s=s[0])?c[u]?c[u]+=s:c[++u]=s:(c[++u]=null,h.push({i:u,x:Qn(i,s)})),r=Ju.lastIndex;return r<n.length&&(a=n.slice(r),c[u]?c[u]+=a:c[++u]=a),c.length<2?h[0]?RN(h[0].x):AN(n):(n=h.length,function(p){for(var g=0,d;g<n;++g)c[(d=h[g]).i]=d.x(p);return c.join("")})}var Im=180/Math.PI,pf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function M_(e,n,r,i,s,a){var u,c,h;return(u=Math.sqrt(e*e+n*n))&&(e/=u,n/=u),(h=e*r+n*i)&&(r-=e*h,i-=n*h),(c=Math.sqrt(r*r+i*i))&&(r/=c,i/=c,h/=c),e*i<n*r&&(e=-e,n=-n,h=-h,u=-u),{translateX:s,translateY:a,rotate:Math.atan2(n,e)*Im,skewX:Math.atan(h)*Im,scaleX:u,scaleY:c}}var fa;function DN(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?pf:M_(n.a,n.b,n.c,n.d,n.e,n.f)}function BN(e){return e==null||(fa||(fa=document.createElementNS("http://www.w3.org/2000/svg","g")),fa.setAttribute("transform",e),!(e=fa.transform.baseVal.consolidate()))?pf:(e=e.matrix,M_(e.a,e.b,e.c,e.d,e.e,e.f))}function z_(e,n,r,i){function s(p){return p.length?p.pop()+" ":""}function a(p,g,d,_,y,w){if(p!==d||g!==_){var S=y.push("translate(",null,n,null,r);w.push({i:S-4,x:Qn(p,d)},{i:S-2,x:Qn(g,_)})}else(d||_)&&y.push("translate("+d+n+_+r)}function u(p,g,d,_){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),_.push({i:d.push(s(d)+"rotate(",null,i)-2,x:Qn(p,g)})):g&&d.push(s(d)+"rotate("+g+i)}function c(p,g,d,_){p!==g?_.push({i:d.push(s(d)+"skewX(",null,i)-2,x:Qn(p,g)}):g&&d.push(s(d)+"skewX("+g+i)}function h(p,g,d,_,y,w){if(p!==d||g!==_){var S=y.push(s(y)+"scale(",null,",",null,")");w.push({i:S-4,x:Qn(p,d)},{i:S-2,x:Qn(g,_)})}else(d!==1||_!==1)&&y.push(s(y)+"scale("+d+","+_+")")}return function(p,g){var d=[],_=[];return p=e(p),g=e(g),a(p.translateX,p.translateY,g.translateX,g.translateY,d,_),u(p.rotate,g.rotate,d,_),c(p.skewX,g.skewX,d,_),h(p.scaleX,p.scaleY,g.scaleX,g.scaleY,d,_),p=g=null,function(y){for(var w=-1,S=_.length,P;++w<S;)d[(P=_[w]).i]=P.x(y);return d.join("")}}}var FN=z_(DN,"px, ","px)","deg)"),UN=z_(BN,", ",")",")"),$N=1e-12;function Dm(e){return((e=Math.exp(e))+1/e)/2}function HN(e){return((e=Math.exp(e))-1/e)/2}function ZN(e){return((e=Math.exp(2*e))-1)/(e+1)}const WN=function e(n,r,i){function s(a,u){var c=a[0],h=a[1],p=a[2],g=u[0],d=u[1],_=u[2],y=g-c,w=d-h,S=y*y+w*w,P,x;if(S<$N)x=Math.log(_/p)/n,P=function(z){return[c+z*y,h+z*w,p*Math.exp(n*z*x)]};else{var k=Math.sqrt(S),N=(_*_-p*p+i*S)/(2*p*r*k),j=(_*_-p*p-i*S)/(2*_*r*k),E=Math.log(Math.sqrt(N*N+1)-N),T=Math.log(Math.sqrt(j*j+1)-j);x=(T-E)/n,P=function(z){var O=z*x,B=Dm(E),D=p/(r*k)*(B*ZN(n*O+E)-HN(E));return[c+D*y,h+D*w,p*B/Dm(n*O+E)]}}return P.duration=x*1e3*n/Math.SQRT2,P}return s.rho=function(a){var u=Math.max(.001,+a),c=u*u,h=c*c;return e(u,c,h)},s}(Math.SQRT2,2,4);var Ai=0,bo=0,uo=0,O_=1e3,sl,ko,al=0,$r=0,Il=0,ls=typeof performance=="object"&&performance.now?performance:Date,A_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zh(){return $r||(A_(VN),$r=ls.now()+Il)}function VN(){$r=0}function ll(){this._call=this._time=this._next=null}ll.prototype=Oh.prototype={constructor:ll,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?zh():+r)+(n==null?0:+n),!this._next&&ko!==this&&(ko?ko._next=this:sl=this,ko=this),this._call=e,this._time=r,mf()},stop:function(){this._call&&(this._call=null,this._time=1/0,mf())}};function Oh(e,n,r){var i=new ll;return i.restart(e,n,r),i}function GN(){zh(),++Ai;for(var e=sl,n;e;)(n=$r-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Ai}function Bm(){$r=(al=ls.now())+Il,Ai=bo=0;try{GN()}finally{Ai=0,XN(),$r=0}}function qN(){var e=ls.now(),n=e-al;n>O_&&(Il-=n,al=e)}function XN(){for(var e,n=sl,r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:sl=r);ko=e,mf(i)}function mf(e){if(!Ai){bo&&(bo=clearTimeout(bo));var n=e-$r;n>24?(e<1/0&&(bo=setTimeout(Bm,e-ls.now()-Il)),uo&&(uo=clearInterval(uo))):(uo||(al=ls.now(),uo=setInterval(qN,O_)),Ai=1,A_(Bm))}}function Fm(e,n,r){var i=new ll;return n=n==null?0:+n,i.restart(s=>{i.stop(),e(s+n)},n,r),i}var KN=ys("start","end","cancel","interrupt"),YN=[],R_=0,Um=1,gf=2,ja=3,$m=4,vf=5,Ea=6;function Dl(e,n,r,i,s,a){var u=e.__transition;if(!u)e.__transition={};else if(r in u)return;QN(e,r,{name:n,index:i,group:s,on:KN,tween:YN,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:R_})}function Ah(e,n){var r=nn(e,n);if(r.state>R_)throw new Error("too late; already scheduled");return r}function _n(e,n){var r=nn(e,n);if(r.state>ja)throw new Error("too late; already running");return r}function nn(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function QN(e,n,r){var i=e.__transition,s;i[n]=r,r.timer=Oh(a,0,r.time);function a(p){r.state=Um,r.timer.restart(u,r.delay,r.time),r.delay<=p&&u(p-r.delay)}function u(p){var g,d,_,y;if(r.state!==Um)return h();for(g in i)if(y=i[g],y.name===r.name){if(y.state===ja)return Fm(u);y.state===$m?(y.state=Ea,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete i[g]):+g<n&&(y.state=Ea,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete i[g])}if(Fm(function(){r.state===ja&&(r.state=$m,r.timer.restart(c,r.delay,r.time),c(p))}),r.state=gf,r.on.call("start",e,e.__data__,r.index,r.group),r.state===gf){for(r.state=ja,s=new Array(_=r.tween.length),g=0,d=-1;g<_;++g)(y=r.tween[g].value.call(e,e.__data__,r.index,r.group))&&(s[++d]=y);s.length=d+1}}function c(p){for(var g=p<r.duration?r.ease.call(null,p/r.duration):(r.timer.restart(h),r.state=vf,1),d=-1,_=s.length;++d<_;)s[d].call(e,g);r.state===vf&&(r.on.call("end",e,e.__data__,r.index,r.group),h())}function h(){r.state=Ea,r.timer.stop(),delete i[n];for(var p in i)return;delete e.__transition}}function Ta(e,n){var r=e.__transition,i,s,a=!0,u;if(r){n=n==null?null:n+"";for(u in r){if((i=r[u]).name!==n){a=!1;continue}s=i.state>gf&&i.state<vf,i.state=Ea,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[u]}a&&delete e.__transition}}function JN(e){return this.each(function(){Ta(this,e)})}function eC(e,n){var r,i;return function(){var s=_n(this,e),a=s.tween;if(a!==r){i=r=a;for(var u=0,c=i.length;u<c;++u)if(i[u].name===n){i=i.slice(),i.splice(u,1);break}}s.tween=i}}function tC(e,n,r){var i,s;if(typeof r!="function")throw new Error;return function(){var a=_n(this,e),u=a.tween;if(u!==i){s=(i=u).slice();for(var c={name:n,value:r},h=0,p=s.length;h<p;++h)if(s[h].name===n){s[h]=c;break}h===p&&s.push(c)}a.tween=s}}function nC(e,n){var r=this._id;if(e+="",arguments.length<2){for(var i=nn(this.node(),r).tween,s=0,a=i.length,u;s<a;++s)if((u=i[s]).name===e)return u.value;return null}return this.each((n==null?eC:tC)(r,e,n))}function Rh(e,n,r){var i=e._id;return e.each(function(){var s=_n(this,i);(s.value||(s.value={}))[n]=r.apply(this,arguments)}),function(s){return nn(s,i).value[n]}}function I_(e,n){var r;return(typeof n=="number"?Qn:n instanceof as?Rm:(r=as(n))?(n=r,Rm):IN)(e,n)}function rC(e){return function(){this.removeAttribute(e)}}function iC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oC(e,n,r){var i,s=r+"",a;return function(){var u=this.getAttribute(e);return u===s?null:u===i?a:a=n(i=u,r)}}function sC(e,n,r){var i,s=r+"",a;return function(){var u=this.getAttributeNS(e.space,e.local);return u===s?null:u===i?a:a=n(i=u,r)}}function aC(e,n,r){var i,s,a;return function(){var u,c=r(this),h;return c==null?void this.removeAttribute(e):(u=this.getAttribute(e),h=c+"",u===h?null:u===i&&h===s?a:(s=h,a=n(i=u,c)))}}function lC(e,n,r){var i,s,a;return function(){var u,c=r(this),h;return c==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),h=c+"",u===h?null:u===i&&h===s?a:(s=h,a=n(i=u,c)))}}function uC(e,n){var r=Rl(e),i=r==="transform"?UN:I_;return this.attrTween(e,typeof n=="function"?(r.local?lC:aC)(r,i,Rh(this,"attr."+e,n)):n==null?(r.local?iC:rC)(r):(r.local?sC:oC)(r,i,n))}function cC(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function fC(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function hC(e,n){var r,i;function s(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&fC(e,a)),r}return s._value=n,s}function dC(e,n){var r,i;function s(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&cC(e,a)),r}return s._value=n,s}function pC(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var i=Rl(e);return this.tween(r,(i.local?hC:dC)(i,n))}function mC(e,n){return function(){Ah(this,e).delay=+n.apply(this,arguments)}}function gC(e,n){return n=+n,function(){Ah(this,e).delay=n}}function vC(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?mC:gC)(n,e)):nn(this.node(),n).delay}function _C(e,n){return function(){_n(this,e).duration=+n.apply(this,arguments)}}function yC(e,n){return n=+n,function(){_n(this,e).duration=n}}function xC(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?_C:yC)(n,e)):nn(this.node(),n).duration}function wC(e,n){if(typeof n!="function")throw new Error;return function(){_n(this,e).ease=n}}function bC(e){var n=this._id;return arguments.length?this.each(wC(n,e)):nn(this.node(),n).ease}function kC(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;_n(this,e).ease=r}}function SC(e){if(typeof e!="function")throw new Error;return this.each(kC(this._id,e))}function NC(e){typeof e!="function"&&(e=g_(e));for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s)for(var a=n[s],u=a.length,c=i[s]=[],h,p=0;p<u;++p)(h=a[p])&&e.call(h,h.__data__,p,a)&&c.push(h);return new Un(i,this._parents,this._name,this._id)}function CC(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),u=new Array(i),c=0;c<a;++c)for(var h=n[c],p=r[c],g=h.length,d=u[c]=new Array(g),_,y=0;y<g;++y)(_=h[y]||p[y])&&(d[y]=_);for(;c<i;++c)u[c]=n[c];return new Un(u,this._parents,this._name,this._id)}function PC(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function jC(e,n,r){var i,s,a=PC(n)?Ah:_n;return function(){var u=a(this,e),c=u.on;c!==i&&(s=(i=c).copy()).on(n,r),u.on=s}}function EC(e,n){var r=this._id;return arguments.length<2?nn(this.node(),r).on.on(e):this.each(jC(r,e,n))}function TC(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function LC(){return this.on("end.remove",TC(this._id))}function MC(e){var n=this._name,r=this._id;typeof e!="function"&&(e=Th(e));for(var i=this._groups,s=i.length,a=new Array(s),u=0;u<s;++u)for(var c=i[u],h=c.length,p=a[u]=new Array(h),g,d,_=0;_<h;++_)(g=c[_])&&(d=e.call(g,g.__data__,_,c))&&("__data__"in g&&(d.__data__=g.__data__),p[_]=d,Dl(p[_],n,r,_,p,nn(g,r)));return new Un(a,this._parents,n,r)}function zC(e){var n=this._name,r=this._id;typeof e!="function"&&(e=m_(e));for(var i=this._groups,s=i.length,a=[],u=[],c=0;c<s;++c)for(var h=i[c],p=h.length,g,d=0;d<p;++d)if(g=h[d]){for(var _=e.call(g,g.__data__,d,h),y,w=nn(g,r),S=0,P=_.length;S<P;++S)(y=_[S])&&Dl(y,n,r,S,_,w);a.push(_),u.push(g)}return new Un(a,u,n,r)}var OC=_s.prototype.constructor;function AC(){return new OC(this._groups,this._parents)}function RC(e,n){var r,i,s;return function(){var a=Oi(this,e),u=(this.style.removeProperty(e),Oi(this,e));return a===u?null:a===r&&u===i?s:s=n(r=a,i=u)}}function D_(e){return function(){this.style.removeProperty(e)}}function IC(e,n,r){var i,s=r+"",a;return function(){var u=Oi(this,e);return u===s?null:u===i?a:a=n(i=u,r)}}function DC(e,n,r){var i,s,a;return function(){var u=Oi(this,e),c=r(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(e),Oi(this,e))),u===h?null:u===i&&h===s?a:(s=h,a=n(i=u,c))}}function BC(e,n){var r,i,s,a="style."+n,u="end."+a,c;return function(){var h=_n(this,e),p=h.on,g=h.value[a]==null?c||(c=D_(n)):void 0;(p!==r||s!==g)&&(i=(r=p).copy()).on(u,s=g),h.on=i}}function FC(e,n,r){var i=(e+="")=="transform"?FN:I_;return n==null?this.styleTween(e,RC(e,i)).on("end.style."+e,D_(e)):typeof n=="function"?this.styleTween(e,DC(e,i,Rh(this,"style."+e,n))).each(BC(this._id,e)):this.styleTween(e,IC(e,i,n),r).on("end.style."+e,null)}function UC(e,n,r){return function(i){this.style.setProperty(e,n.call(this,i),r)}}function $C(e,n,r){var i,s;function a(){var u=n.apply(this,arguments);return u!==s&&(i=(s=u)&&UC(e,u,r)),i}return a._value=n,a}function HC(e,n,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,$C(e,n,r??""))}function ZC(e){return function(){this.textContent=e}}function WC(e){return function(){var n=e(this);this.textContent=n??""}}function VC(e){return this.tween("text",typeof e=="function"?WC(Rh(this,"text",e)):ZC(e==null?"":e+""))}function GC(e){return function(n){this.textContent=e.call(this,n)}}function qC(e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&GC(s)),n}return i._value=e,i}function XC(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,qC(e))}function KC(){for(var e=this._name,n=this._id,r=B_(),i=this._groups,s=i.length,a=0;a<s;++a)for(var u=i[a],c=u.length,h,p=0;p<c;++p)if(h=u[p]){var g=nn(h,n);Dl(h,e,r,p,u,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Un(i,this._parents,e,r)}function YC(){var e,n,r=this,i=r._id,s=r.size();return new Promise(function(a,u){var c={value:u},h={value:function(){--s===0&&a()}};r.each(function(){var p=_n(this,i),g=p.on;g!==e&&(n=(e=g).copy(),n._.cancel.push(c),n._.interrupt.push(c),n._.end.push(h)),p.on=n}),s===0&&a()})}var QC=0;function Un(e,n,r,i){this._groups=e,this._parents=n,this._name=r,this._id=i}function B_(){return++QC}var kn=_s.prototype;Un.prototype={constructor:Un,select:MC,selectAll:zC,selectChild:kn.selectChild,selectChildren:kn.selectChildren,filter:NC,merge:CC,selection:AC,transition:KC,call:kn.call,nodes:kn.nodes,node:kn.node,size:kn.size,empty:kn.empty,each:kn.each,on:EC,attr:uC,attrTween:pC,style:FC,styleTween:HC,text:VC,textTween:XC,remove:LC,tween:nC,delay:vC,duration:xC,ease:bC,easeVarying:SC,end:YC,[Symbol.iterator]:kn[Symbol.iterator]};function JC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var eP={time:null,delay:0,duration:250,ease:JC};function tP(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function nP(e){var n,r;e instanceof Un?(n=e._id,e=e._name):(n=B_(),(r=eP).time=zh(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,a=0;a<s;++a)for(var u=i[a],c=u.length,h,p=0;p<c;++p)(h=u[p])&&Dl(h,e,n,p,u,r||tP(h,n));return new Un(i,this._parents,e,n)}_s.prototype.interrupt=JN;_s.prototype.transition=nP;const ha=e=>()=>e;function rP(e,{sourceEvent:n,target:r,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Mn(e,n,r){this.k=e,this.x=n,this.y=r}Mn.prototype={constructor:Mn,scale:function(e){return e===1?this:new Mn(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new Mn(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ih=new Mn(1,0,0);cn.prototype=Mn.prototype;function cn(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ih;return e.__zoom}function ec(e){e.stopImmediatePropagation()}function co(e){e.preventDefault(),e.stopImmediatePropagation()}function iP(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function oP(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hm(){return this.__zoom||Ih}function sP(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function aP(){return navigator.maxTouchPoints||"ontouchstart"in this}function lP(e,n,r){var i=e.invertX(n[0][0])-r[0][0],s=e.invertX(n[1][0])-r[1][0],a=e.invertY(n[0][1])-r[0][1],u=e.invertY(n[1][1])-r[1][1];return e.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function uP(){var e=iP,n=oP,r=lP,i=sP,s=aP,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,h=WN,p=ys("start","zoom","end"),g,d,_,y=500,w=150,S=0,P=10;function x(R){R.property("__zoom",Hm).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",D).filter(s).on("touchstart.zoom",V).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",Q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(R,q,W,ee){var U=R.selection?R.selection():R;U.property("__zoom",Hm),R!==U?E(R,q,W,ee):U.interrupt().each(function(){T(this,arguments).event(ee).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},x.scaleBy=function(R,q,W,ee){x.scaleTo(R,function(){var U=this.__zoom.k,X=typeof q=="function"?q.apply(this,arguments):q;return U*X},W,ee)},x.scaleTo=function(R,q,W,ee){x.transform(R,function(){var U=n.apply(this,arguments),X=this.__zoom,Z=W==null?j(U):typeof W=="function"?W.apply(this,arguments):W,J=X.invert(Z),re=typeof q=="function"?q.apply(this,arguments):q;return r(N(k(X,re),Z,J),U,u)},W,ee)},x.translateBy=function(R,q,W,ee){x.transform(R,function(){return r(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof W=="function"?W.apply(this,arguments):W),n.apply(this,arguments),u)},null,ee)},x.translateTo=function(R,q,W,ee,U){x.transform(R,function(){var X=n.apply(this,arguments),Z=this.__zoom,J=ee==null?j(X):typeof ee=="function"?ee.apply(this,arguments):ee;return r(Ih.translate(J[0],J[1]).scale(Z.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof W=="function"?-W.apply(this,arguments):-W),X,u)},ee,U)};function k(R,q){return q=Math.max(a[0],Math.min(a[1],q)),q===R.k?R:new Mn(q,R.x,R.y)}function N(R,q,W){var ee=q[0]-W[0]*R.k,U=q[1]-W[1]*R.k;return ee===R.x&&U===R.y?R:new Mn(R.k,ee,U)}function j(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function E(R,q,W,ee){R.on("start.zoom",function(){T(this,arguments).event(ee).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(ee).end()}).tween("zoom",function(){var U=this,X=arguments,Z=T(U,X).event(ee),J=n.apply(U,X),re=W==null?j(J):typeof W=="function"?W.apply(U,X):W,he=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),ue=U.__zoom,fe=typeof q=="function"?q.apply(U,X):q,le=h(ue.invert(re).concat(he/ue.k),fe.invert(re).concat(he/fe.k));return function(ne){if(ne===1)ne=fe;else{var oe=le(ne),ke=he/oe[2];ne=new Mn(ke,re[0]-oe[0]*ke,re[1]-oe[1]*ke)}Z.zoom(null,ne)}})}function T(R,q,W){return!W&&R.__zooming||new z(R,q)}function z(R,q){this.that=R,this.args=q,this.active=0,this.sourceEvent=null,this.extent=n.apply(R,q),this.taps=0}z.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,q){return this.mouse&&R!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var q=Dt(this.that).datum();p.call(R,this.that,new rP(R,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:p}),q)}};function O(R,...q){if(!e.apply(this,arguments))return;var W=T(this,q).event(R),ee=this.__zoom,U=Math.max(a[0],Math.min(a[1],ee.k*Math.pow(2,i.apply(this,arguments)))),X=fn(R);if(W.wheel)(W.mouse[0][0]!==X[0]||W.mouse[0][1]!==X[1])&&(W.mouse[1]=ee.invert(W.mouse[0]=X)),clearTimeout(W.wheel);else{if(ee.k===U)return;W.mouse=[X,ee.invert(X)],Ta(this),W.start()}co(R),W.wheel=setTimeout(Z,w),W.zoom("mouse",r(N(k(ee,U),W.mouse[0],W.mouse[1]),W.extent,u));function Z(){W.wheel=null,W.end()}}function B(R,...q){if(_||!e.apply(this,arguments))return;var W=R.currentTarget,ee=T(this,q,!0).event(R),U=Dt(R.view).on("mousemove.zoom",re,!0).on("mouseup.zoom",he,!0),X=fn(R,W),Z=R.clientX,J=R.clientY;C_(R.view),ec(R),ee.mouse=[X,this.__zoom.invert(X)],Ta(this),ee.start();function re(ue){if(co(ue),!ee.moved){var fe=ue.clientX-Z,le=ue.clientY-J;ee.moved=fe*fe+le*le>S}ee.event(ue).zoom("mouse",r(N(ee.that.__zoom,ee.mouse[0]=fn(ue,W),ee.mouse[1]),ee.extent,u))}function he(ue){U.on("mousemove.zoom mouseup.zoom",null),P_(ue.view,ee.moved),co(ue),ee.event(ue).end()}}function D(R,...q){if(e.apply(this,arguments)){var W=this.__zoom,ee=fn(R.changedTouches?R.changedTouches[0]:R,this),U=W.invert(ee),X=W.k*(R.shiftKey?.5:2),Z=r(N(k(W,X),ee,U),n.apply(this,q),u);co(R),c>0?Dt(this).transition().duration(c).call(E,Z,ee,R):Dt(this).call(x.transform,Z,ee,R)}}function V(R,...q){if(e.apply(this,arguments)){var W=R.touches,ee=W.length,U=T(this,q,R.changedTouches.length===ee).event(R),X,Z,J,re;for(ec(R),Z=0;Z<ee;++Z)J=W[Z],re=fn(J,this),re=[re,this.__zoom.invert(re),J.identifier],U.touch0?!U.touch1&&U.touch0[2]!==re[2]&&(U.touch1=re,U.taps=0):(U.touch0=re,X=!0,U.taps=1+!!g);g&&(g=clearTimeout(g)),X&&(U.taps<2&&(d=re[0],g=setTimeout(function(){g=null},y)),Ta(this),U.start())}}function H(R,...q){if(this.__zooming){var W=T(this,q).event(R),ee=R.changedTouches,U=ee.length,X,Z,J,re;for(co(R),X=0;X<U;++X)Z=ee[X],J=fn(Z,this),W.touch0&&W.touch0[2]===Z.identifier?W.touch0[0]=J:W.touch1&&W.touch1[2]===Z.identifier&&(W.touch1[0]=J);if(Z=W.that.__zoom,W.touch1){var he=W.touch0[0],ue=W.touch0[1],fe=W.touch1[0],le=W.touch1[1],ne=(ne=fe[0]-he[0])*ne+(ne=fe[1]-he[1])*ne,oe=(oe=le[0]-ue[0])*oe+(oe=le[1]-ue[1])*oe;Z=k(Z,Math.sqrt(ne/oe)),J=[(he[0]+fe[0])/2,(he[1]+fe[1])/2],re=[(ue[0]+le[0])/2,(ue[1]+le[1])/2]}else if(W.touch0)J=W.touch0[0],re=W.touch0[1];else return;W.zoom("touch",r(N(Z,J,re),W.extent,u))}}function Q(R,...q){if(this.__zooming){var W=T(this,q).event(R),ee=R.changedTouches,U=ee.length,X,Z;for(ec(R),_&&clearTimeout(_),_=setTimeout(function(){_=null},y),X=0;X<U;++X)Z=ee[X],W.touch0&&W.touch0[2]===Z.identifier?delete W.touch0:W.touch1&&W.touch1[2]===Z.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(Z=fn(Z,this),Math.hypot(d[0]-Z[0],d[1]-Z[1])<P)){var J=Dt(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return x.wheelDelta=function(R){return arguments.length?(i=typeof R=="function"?R:ha(+R),x):i},x.filter=function(R){return arguments.length?(e=typeof R=="function"?R:ha(!!R),x):e},x.touchable=function(R){return arguments.length?(s=typeof R=="function"?R:ha(!!R),x):s},x.extent=function(R){return arguments.length?(n=typeof R=="function"?R:ha([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),x):n},x.scaleExtent=function(R){return arguments.length?(a[0]=+R[0],a[1]=+R[1],x):[a[0],a[1]]},x.translateExtent=function(R){return arguments.length?(u[0][0]=+R[0][0],u[1][0]=+R[1][0],u[0][1]=+R[0][1],u[1][1]=+R[1][1],x):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},x.constrain=function(R){return arguments.length?(r=R,x):r},x.duration=function(R){return arguments.length?(c=+R,x):c},x.interpolate=function(R){return arguments.length?(h=R,x):h},x.on=function(){var R=p.on.apply(p,arguments);return R===p?x:R},x.clickDistance=function(R){return arguments.length?(S=(R=+R)*R,x):Math.sqrt(S)},x.tapDistance=function(R){return arguments.length?(P=+R,x):P},x}class Zm extends Map{constructor(n,r=hP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[i,s]of n)this.set(i,s)}get(n){return super.get(Wm(this,n))}has(n){return super.has(Wm(this,n))}set(n,r){return super.set(cP(this,n),r)}delete(n){return super.delete(fP(this,n))}}function Wm({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):r}function cP({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function fP({_intern:e,_key:n},r){const i=n(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function hP(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Vm(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of e)(s=n(s,++i,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function Gm(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of e)(s=n(s,++i,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function dP(e,n){let r=0;for(let i of e)(i=+i)&&(r+=i);return r}var pP=typeof global=="object"&&global&&global.Object===Object&&global,mP=typeof self=="object"&&self&&self.Object===Object&&self,F_=pP||mP||Function("return this")(),ul=F_.Symbol,U_=Object.prototype,gP=U_.hasOwnProperty,vP=U_.toString,fo=ul?ul.toStringTag:void 0;function _P(e){var n=gP.call(e,fo),r=e[fo];try{e[fo]=void 0;var i=!0}catch{}var s=vP.call(e);return i&&(n?e[fo]=r:delete e[fo]),s}var yP=Object.prototype,xP=yP.toString;function wP(e){return xP.call(e)}var bP="[object Null]",kP="[object Undefined]",qm=ul?ul.toStringTag:void 0;function SP(e){return e==null?e===void 0?kP:bP:qm&&qm in Object(e)?_P(e):wP(e)}function NP(e){return e!=null&&typeof e=="object"}var CP="[object Symbol]";function PP(e){return typeof e=="symbol"||NP(e)&&SP(e)==CP}var jP=/\s/;function EP(e){for(var n=e.length;n--&&jP.test(e.charAt(n)););return n}var TP=/^\s+/;function LP(e){return e&&e.slice(0,EP(e)+1).replace(TP,"")}function cl(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Xm=NaN,MP=/^[-+]0x[0-9a-f]+$/i,zP=/^0b[01]+$/i,OP=/^0o[0-7]+$/i,AP=parseInt;function Km(e){if(typeof e=="number")return e;if(PP(e))return Xm;if(cl(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=cl(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=LP(e);var r=zP.test(e);return r||OP.test(e)?AP(e.slice(2),r?2:8):MP.test(e)?Xm:+e}var tc=function(){return F_.Date.now()},RP="Expected a function",IP=Math.max,DP=Math.min;function $_(e,n,r){var i,s,a,u,c,h,p=0,g=!1,d=!1,_=!0;if(typeof e!="function")throw new TypeError(RP);n=Km(n)||0,cl(r)&&(g=!!r.leading,d="maxWait"in r,a=d?IP(Km(r.maxWait)||0,n):a,_="trailing"in r?!!r.trailing:_);function y(T){var z=i,O=s;return i=s=void 0,p=T,u=e.apply(O,z),u}function w(T){return p=T,c=setTimeout(x,n),g?y(T):u}function S(T){var z=T-h,O=T-p,B=n-z;return d?DP(B,a-O):B}function P(T){var z=T-h,O=T-p;return h===void 0||z>=n||z<0||d&&O>=a}function x(){var T=tc();if(P(T))return k(T);c=setTimeout(x,S(T))}function k(T){return c=void 0,_&&i?y(T):(i=s=void 0,u)}function N(){c!==void 0&&clearTimeout(c),p=0,i=h=s=c=void 0}function j(){return c===void 0?u:k(tc())}function E(){var T=tc(),z=P(T);if(i=arguments,s=this,h=T,z){if(c===void 0)return w(h);if(d)return clearTimeout(c),c=setTimeout(x,n),y(h)}return c===void 0&&(c=setTimeout(x,n)),u}return E.cancel=N,E.flush=j,E}var BP="Expected a function";function FP(e,n,r){var i=!0,s=!0;if(typeof e!="function")throw new TypeError(BP);return cl(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),$_(e,n,{leading:i,maxWait:n,trailing:s})}var Ar=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Ar.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Ar.Bounce.In(e*2)*.5:Ar.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),So=function(){return performance.now()},H_=function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var s=0,a=r;s<a.length;s++){var u=a[s];(n=u._group)===null||n===void 0||n.remove(u),u._group=this,this._tweens[u.getId()]=u,this._tweensAddedDuringUpdate[u.getId()]=u}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=0,s=n;i<s.length;i++){var a=s[i];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=So()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<i.length;s++){var a=this._tweens[i[s]],u=!r;a&&a.update(n,u)===!1&&!r&&this.remove(a)}i=Object.keys(this._tweensAddedDuringUpdate)}},e}(),_f={Linear:function(e,n){var r=e.length-1,i=r*n,s=Math.floor(i),a=_f.Utils.Linear;return n<0?a(e[0],e[1],i):n>1?a(e[r],e[r-1],r-i):a(e[s],e[s+1>r?r:s+1],i-s)},Utils:{Linear:function(e,n,r){return(n-e)*r+e}}},Z_=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),yf=new H_,Ym=function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ar.Linear.None,this._interpolationFunction=_f.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Z_.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=yf,yf.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=So()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var a in this._valuesEnd)s[a]=this._valuesEnd[a];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,i,s,a){for(var u in i){var c=n[u],h=Array.isArray(c),p=h?"array":typeof c,g=!h&&Array.isArray(i[u]);if(!(p==="undefined"||p==="function")){if(g){var d=i[u];if(d.length===0)continue;for(var _=[c],y=0,w=d.length;y<w;y+=1){var S=this._handleRelativeValue(c,d[y]);if(isNaN(S)){g=!1,console.warn("Found invalid interpolation list. Skipping.");break}_.push(S)}g&&(i[u]=_)}if((p==="object"||h)&&c&&!g){r[u]=h?[]:{};var P=c;for(var x in P)r[u][x]=P[x];s[u]=h?[]:{};var d=i[u];if(!this._isDynamic){var k={};for(var x in d)k[x]=d[x];i[u]=d=k}this._setupProperties(P,r[u],d,s[u],a)}else(typeof r[u]>"u"||a)&&(r[u]=c),h||(r[u]*=1),g?s[u]=i[u].slice().reverse():s[u]=r[u]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=So()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=So()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=Ar.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=_f.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var i=this,s;if(n===void 0&&(n=So()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var u=n-this._startTime,c=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),h=this._duration+this._repeat*c,p=function(){if(i._duration===0||u>h)return 1;var S=Math.trunc(u/c),P=u-S*c,x=Math.min(P/i._duration,1);return x===0&&u===i._duration?1:x},g=p(),d=this._easingFunction(g);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,d),this._onUpdateCallback&&this._onUpdateCallback(this._object,g),this._duration===0||u>=this._duration)if(this._repeat>0){var _=Math.min(Math.trunc((u-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=_);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*_,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var y=0,w=this._chainedTweens.length;y<w;y++)this._chainedTweens[y].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,i,s){for(var a in i)if(r[a]!==void 0){var u=r[a]||0,c=i[a],h=Array.isArray(n[a]),p=Array.isArray(c),g=!h&&p;g?n[a]=this._interpolationFunction(c,s):typeof c=="object"&&c?this._updateProperties(n[a],u,c,s):(c=this._handleRelativeValue(u,c),typeof c=="number"&&(n[a]=u+(c-u)*s))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],i=this._valuesEnd[n];typeof i=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(i):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e}();Z_.nextId;var vn=yf;vn.getAll.bind(vn);vn.removeAll.bind(vn);vn.add.bind(vn);vn.remove.bind(vn);vn.update.bind(vn);function Qm(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function UP(e){if(Array.isArray(e))return e}function $P(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function HP(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function ZP(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,s,a,u,c=[],h=!0,p=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(h=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);h=!0);}catch(g){p=!0,s=g}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(p)throw s}}return c}}function WP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VP(e,n){return UP(e)||ZP(e,n)||GP(e,n)||WP()}function GP(e,n){if(e){if(typeof e=="string")return Qm(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qm(e,n):void 0}}var qP=HP(function e(n,r){var i=r.default,s=i===void 0?null:i,a=r.triggerUpdate,u=a===void 0?!0:a,c=r.onChange,h=c===void 0?function(p,g){}:c;$P(this,e),this.name=n,this.defaultVal=s,this.triggerUpdate=u,this.onChange=h});function Dh(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,i=e.props,s=i===void 0?{}:i,a=e.methods,u=a===void 0?{}:a,c=e.aliases,h=c===void 0?{}:c,p=e.init,g=p===void 0?function(){}:p,d=e.update,_=d===void 0?function(){}:d,y=Object.keys(s).map(function(w){return new qP(w,s[w])});return function w(){for(var S=arguments.length,P=new Array(S),x=0;x<S;x++)P[x]=arguments[x];var k=!!(this instanceof w&&this.constructor),N=k?P.shift():void 0,j=P[0],E=j===void 0?{}:j,T=Object.assign({},r instanceof Function?r(E):r,{initialised:!1}),z={};function O(V){return B(V,E),D(),O}var B=function(H,Q){g.call(O,H,T,Q),T.initialised=!0},D=$_(function(){T.initialised&&(_.call(O,T,z),z={})},1);return y.forEach(function(V){O[V.name]=H(V);function H(Q){var R=Q.name,q=Q.triggerUpdate,W=q===void 0?!1:q,ee=Q.onChange,U=ee===void 0?function(J,re){}:ee,X=Q.defaultVal,Z=X===void 0?null:X;return function(J){var re=T[R];if(!arguments.length)return re;var he=J===void 0?Z:J;return T[R]=he,U.call(O,he,T,re),!z.hasOwnProperty(R)&&(z[R]=re),W&&D(),O}}}),Object.keys(u).forEach(function(V){O[V]=function(){for(var H,Q=arguments.length,R=new Array(Q),q=0;q<Q;q++)R[q]=arguments[q];return(H=u[V]).call.apply(H,[O,T].concat(R))}}),Object.entries(h).forEach(function(V){var H=VP(V,2),Q=H[0],R=H[1];return O[Q]=O[R]}),O.resetProps=function(){return y.forEach(function(V){O[V.name](V.defaultVal)}),O},O.resetProps(),T._rerender=D,k&&N&&O(N),O}}var we=function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}};function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fl(e)}var XP=/^\s+/,KP=/\s+$/;function se(e,n){if(e=e||"",n=n||{},e instanceof se)return e;if(!(this instanceof se))return new se(e,n);var r=YP(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}se.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,i,s,a,u,c;return r=n.r/255,i=n.g/255,s=n.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?u=i/12.92:u=Math.pow((i+.055)/1.055,2.4),s<=.03928?c=s/12.92:c=Math.pow((s+.055)/1.055,2.4),.2126*a+.7152*u+.0722*c},setAlpha:function(n){return this._a=W_(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=eg(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=eg(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),s=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+s+"%)":"hsva("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var n=Jm(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=Jm(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),s=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+s+"%)":"hsla("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(n){return tg(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return tj(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Te(this._r,255)*100)+"%",g:Math.round(Te(this._g,255)*100)+"%",b:Math.round(Te(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Te(this._r,255)*100)+"%, "+Math.round(Te(this._g,255)*100)+"%, "+Math.round(Te(this._b,255)*100)+"%)":"rgba("+Math.round(Te(this._r,255)*100)+"%, "+Math.round(Te(this._g,255)*100)+"%, "+Math.round(Te(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:dj[tg(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+ng(this._r,this._g,this._b,this._a),i=r,s=this._gradientType?"GradientType = 1, ":"";if(n){var a=se(n);i="#"+ng(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+r+",endColorstr="+i+")"},toString:function(n){var r=!!n;n=n||this._format;var i=!1,s=this._a<1&&this._a>=0,a=!r&&s&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return a?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return se(this.toString())},_applyModification:function(n,r){var i=n.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(oj,arguments)},brighten:function(){return this._applyModification(sj,arguments)},darken:function(){return this._applyModification(aj,arguments)},desaturate:function(){return this._applyModification(nj,arguments)},saturate:function(){return this._applyModification(rj,arguments)},greyscale:function(){return this._applyModification(ij,arguments)},spin:function(){return this._applyModification(lj,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(fj,arguments)},complement:function(){return this._applyCombination(uj,arguments)},monochromatic:function(){return this._applyCombination(hj,arguments)},splitcomplement:function(){return this._applyCombination(cj,arguments)},triad:function(){return this._applyCombination(rg,[3])},tetrad:function(){return this._applyCombination(rg,[4])}};se.fromRatio=function(e,n){if(fl(e)=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=No(e[i]));e=r}return se(e,n)};function YP(e){var n={r:0,g:0,b:0},r=1,i=null,s=null,a=null,u=!1,c=!1;return typeof e=="string"&&(e=vj(e)),fl(e)=="object"&&(Sn(e.r)&&Sn(e.g)&&Sn(e.b)?(n=QP(e.r,e.g,e.b),u=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Sn(e.h)&&Sn(e.s)&&Sn(e.v)?(i=No(e.s),s=No(e.v),n=ej(e.h,i,s),u=!0,c="hsv"):Sn(e.h)&&Sn(e.s)&&Sn(e.l)&&(i=No(e.s),a=No(e.l),n=JP(e.h,i,a),u=!0,c="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=W_(r),{ok:u,format:e.format||c,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function QP(e,n,r){return{r:Te(e,255)*255,g:Te(n,255)*255,b:Te(r,255)*255}}function Jm(e,n,r){e=Te(e,255),n=Te(n,255),r=Te(r,255);var i=Math.max(e,n,r),s=Math.min(e,n,r),a,u,c=(i+s)/2;if(i==s)a=u=0;else{var h=i-s;switch(u=c>.5?h/(2-i-s):h/(i+s),i){case e:a=(n-r)/h+(n<r?6:0);break;case n:a=(r-e)/h+2;break;case r:a=(e-n)/h+4;break}a/=6}return{h:a,s:u,l:c}}function JP(e,n,r){var i,s,a;e=Te(e,360),n=Te(n,100),r=Te(r,100);function u(p,g,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?p+(g-p)*6*d:d<1/2?g:d<2/3?p+(g-p)*(2/3-d)*6:p}if(n===0)i=s=a=r;else{var c=r<.5?r*(1+n):r+n-r*n,h=2*r-c;i=u(h,c,e+1/3),s=u(h,c,e),a=u(h,c,e-1/3)}return{r:i*255,g:s*255,b:a*255}}function eg(e,n,r){e=Te(e,255),n=Te(n,255),r=Te(r,255);var i=Math.max(e,n,r),s=Math.min(e,n,r),a,u,c=i,h=i-s;if(u=i===0?0:h/i,i==s)a=0;else{switch(i){case e:a=(n-r)/h+(n<r?6:0);break;case n:a=(r-e)/h+2;break;case r:a=(e-n)/h+4;break}a/=6}return{h:a,s:u,v:c}}function ej(e,n,r){e=Te(e,360)*6,n=Te(n,100),r=Te(r,100);var i=Math.floor(e),s=e-i,a=r*(1-n),u=r*(1-s*n),c=r*(1-(1-s)*n),h=i%6,p=[r,u,a,a,c,r][h],g=[c,r,r,u,a,a][h],d=[a,a,c,r,r,u][h];return{r:p*255,g:g*255,b:d*255}}function tg(e,n,r,i){var s=[Qt(Math.round(e).toString(16)),Qt(Math.round(n).toString(16)),Qt(Math.round(r).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function tj(e,n,r,i,s){var a=[Qt(Math.round(e).toString(16)),Qt(Math.round(n).toString(16)),Qt(Math.round(r).toString(16)),Qt(V_(i))];return s&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function ng(e,n,r,i){var s=[Qt(V_(i)),Qt(Math.round(e).toString(16)),Qt(Math.round(n).toString(16)),Qt(Math.round(r).toString(16))];return s.join("")}se.equals=function(e,n){return!e||!n?!1:se(e).toRgbString()==se(n).toRgbString()};se.random=function(){return se.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function nj(e,n){n=n===0?0:n||10;var r=se(e).toHsl();return r.s-=n/100,r.s=Bl(r.s),se(r)}function rj(e,n){n=n===0?0:n||10;var r=se(e).toHsl();return r.s+=n/100,r.s=Bl(r.s),se(r)}function ij(e){return se(e).desaturate(100)}function oj(e,n){n=n===0?0:n||10;var r=se(e).toHsl();return r.l+=n/100,r.l=Bl(r.l),se(r)}function sj(e,n){n=n===0?0:n||10;var r=se(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),se(r)}function aj(e,n){n=n===0?0:n||10;var r=se(e).toHsl();return r.l-=n/100,r.l=Bl(r.l),se(r)}function lj(e,n){var r=se(e).toHsl(),i=(r.h+n)%360;return r.h=i<0?360+i:i,se(r)}function uj(e){var n=se(e).toHsl();return n.h=(n.h+180)%360,se(n)}function rg(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=se(e).toHsl(),i=[se(e)],s=360/n,a=1;a<n;a++)i.push(se({h:(r.h+a*s)%360,s:r.s,l:r.l}));return i}function cj(e){var n=se(e).toHsl(),r=n.h;return[se(e),se({h:(r+72)%360,s:n.s,l:n.l}),se({h:(r+216)%360,s:n.s,l:n.l})]}function fj(e,n,r){n=n||6,r=r||30;var i=se(e).toHsl(),s=360/r,a=[se(e)];for(i.h=(i.h-(s*n>>1)+720)%360;--n;)i.h=(i.h+s)%360,a.push(se(i));return a}function hj(e,n){n=n||6;for(var r=se(e).toHsv(),i=r.h,s=r.s,a=r.v,u=[],c=1/n;n--;)u.push(se({h:i,s,v:a})),a=(a+c)%1;return u}se.mix=function(e,n,r){r=r===0?0:r||50;var i=se(e).toRgb(),s=se(n).toRgb(),a=r/100,u={r:(s.r-i.r)*a+i.r,g:(s.g-i.g)*a+i.g,b:(s.b-i.b)*a+i.b,a:(s.a-i.a)*a+i.a};return se(u)};se.readability=function(e,n){var r=se(e),i=se(n);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};se.isReadable=function(e,n,r){var i=se.readability(e,n),s,a;switch(a=!1,s=_j(r),s.level+s.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};se.mostReadable=function(e,n,r){var i=null,s=0,a,u,c,h;r=r||{},u=r.includeFallbackColors,c=r.level,h=r.size;for(var p=0;p<n.length;p++)a=se.readability(e,n[p]),a>s&&(s=a,i=se(n[p]));return se.isReadable(e,i,{level:c,size:h})||!u?i:(r.includeFallbackColors=!1,se.mostReadable(e,["#fff","#000"],r))};var xf=se.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},dj=se.hexNames=pj(xf);function pj(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function W_(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Te(e,n){mj(e)&&(e="100%");var r=gj(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Bl(e){return Math.min(1,Math.max(0,e))}function kt(e){return parseInt(e,16)}function mj(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function gj(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Qt(e){return e.length==1?"0"+e:""+e}function No(e){return e<=1&&(e=e*100+"%"),e}function V_(e){return Math.round(parseFloat(e)*255).toString(16)}function ig(e){return kt(e)/255}var Gt=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Sn(e){return!!Gt.CSS_UNIT.exec(e)}function vj(e){e=e.replace(XP,"").replace(KP,"").toLowerCase();var n=!1;if(xf[e])e=xf[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Gt.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Gt.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Gt.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Gt.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Gt.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Gt.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Gt.hex8.exec(e))?{r:kt(r[1]),g:kt(r[2]),b:kt(r[3]),a:ig(r[4]),format:n?"name":"hex8"}:(r=Gt.hex6.exec(e))?{r:kt(r[1]),g:kt(r[2]),b:kt(r[3]),format:n?"name":"hex"}:(r=Gt.hex4.exec(e))?{r:kt(r[1]+""+r[1]),g:kt(r[2]+""+r[2]),b:kt(r[3]+""+r[3]),a:ig(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=Gt.hex3.exec(e))?{r:kt(r[1]+""+r[1]),g:kt(r[2]+""+r[2]),b:kt(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function _j(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function wf(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function yj(e){if(Array.isArray(e))return wf(e)}function G_(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function xj(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wj(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ot(e,n){return e.get(G_(e,n))}function og(e,n,r){xj(e,n),n.set(e,r)}function sg(e,n,r){return e.set(G_(e,n),r),r}function bj(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,jj(i.key),i)}}function kj(e,n,r){return n&&bj(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sj(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cj(e){return yj(e)||Sj(e)||Ej(e)||Nj()}function Pj(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jj(e){var n=Pj(e,"string");return typeof n=="symbol"?n:n+""}function Ej(e,n){if(e){if(typeof e=="string")return wf(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wf(e,n):void 0}}var Tj=123,Lj=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},q_=function(n,r,i){return(n<<16)+(r<<8)+i},Mj=function(n){var r=se(n).toRgb(),i=r.r,s=r.g,a=r.b;return q_(i,s,a)},ag=function(n,r){return n*Tj%Math.pow(2,r)},Sr=new WeakMap,Nn=new WeakMap,zj=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;wj(this,e),og(this,Sr,void 0),og(this,Nn,void 0),sg(Nn,this,n),this.reset()}return kj(e,[{key:"reset",value:function(){sg(Sr,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Ot(Sr,this).length>=Math.pow(2,24-Ot(Nn,this)))return null;var i=Ot(Sr,this).length,s=ag(i,Ot(Nn,this)),a=Lj(i+(s<<24-Ot(Nn,this)));return Ot(Sr,this).push(r),a}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?Mj(r):q_.apply(void 0,Cj(r));if(!i)return null;var s=i&Math.pow(2,24-Ot(Nn,this))-1,a=i>>24-Ot(Nn,this)&Math.pow(2,Ot(Nn,this))-1;return ag(s,Ot(Nn,this))!==a||s>=Ot(Sr,this).length?null:Ot(Sr,this)[s]}}])}(),ws,Me,X_,K_,Pr,lg,Y_,Q_,J_,Bh,bf,kf,us={},ey=[],Oj=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Fl=Array.isArray;function dn(e,n){for(var r in n)e[r]=n[r];return e}function Fh(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Aj(e,n,r){var i,s,a,u={};for(a in n)a=="key"?i=n[a]:a=="ref"?s=n[a]:u[a]=n[a];if(arguments.length>2&&(u.children=arguments.length>3?ws.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)u[a]===void 0&&(u[a]=e.defaultProps[a]);return Ro(e,u,i,s,null)}function Ro(e,n,r,i,s){var a={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++X_,__i:-1,__u:0};return s==null&&Me.vnode!=null&&Me.vnode(a),a}function Ul(e){return e.children}function La(e,n){this.props=e,this.context=n}function Ri(e,n){if(n==null)return e.__?Ri(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Ri(e):null}function ty(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return ty(e)}}function ug(e){(!e.__d&&(e.__d=!0)&&Pr.push(e)&&!hl.__r++||lg!=Me.debounceRendering)&&((lg=Me.debounceRendering)||Y_)(hl)}function hl(){for(var e,n,r,i,s,a,u,c=1;Pr.length;)Pr.length>c&&Pr.sort(Q_),e=Pr.shift(),c=Pr.length,e.__d&&(r=void 0,i=void 0,s=(i=(n=e).__v).__e,a=[],u=[],n.__P&&((r=dn({},i)).__v=i.__v+1,Me.vnode&&Me.vnode(r),Uh(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,a,s??Ri(i),!!(32&i.__u),u),r.__v=i.__v,r.__.__k[r.__i]=r,iy(a,r,u),i.__e=i.__=null,r.__e!=s&&ty(r)));hl.__r=0}function ny(e,n,r,i,s,a,u,c,h,p,g){var d,_,y,w,S,P,x,k=i&&i.__k||ey,N=n.length;for(h=Rj(r,n,k,h,N),d=0;d<N;d++)(y=r.__k[d])!=null&&(_=y.__i==-1?us:k[y.__i]||us,y.__i=d,P=Uh(e,y,_,s,a,u,c,h,p,g),w=y.__e,y.ref&&_.ref!=y.ref&&(_.ref&&$h(_.ref,null,y),g.push(y.ref,y.__c||w,y)),S==null&&w!=null&&(S=w),(x=!!(4&y.__u))||_.__k===y.__k?h=ry(y,h,e,x):typeof y.type=="function"&&P!==void 0?h=P:w&&(h=w.nextSibling),y.__u&=-7);return r.__e=S,h}function Rj(e,n,r,i,s){var a,u,c,h,p,g=r.length,d=g,_=0;for(e.__k=new Array(s),a=0;a<s;a++)(u=n[a])!=null&&typeof u!="boolean"&&typeof u!="function"?(typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?u=e.__k[a]=Ro(null,u,null,null,null):Fl(u)?u=e.__k[a]=Ro(Ul,{children:u},null,null,null):u.constructor==null&&u.__b>0?u=e.__k[a]=Ro(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):e.__k[a]=u,h=a+_,u.__=e,u.__b=e.__b+1,(p=u.__i=Ij(u,r,h,d))!=-1&&(d--,(c=r[p])&&(c.__u|=2)),c==null||c.__v==null?(p==-1&&(s>g?_--:s<g&&_++),typeof u.type!="function"&&(u.__u|=4)):p!=h&&(p==h-1?_--:p==h+1?_++:(p>h?_--:_++,u.__u|=4))):e.__k[a]=null;if(d)for(a=0;a<g;a++)(c=r[a])!=null&&!(2&c.__u)&&(c.__e==i&&(i=Ri(c)),sy(c,c));return i}function ry(e,n,r,i){var s,a;if(typeof e.type=="function"){for(s=e.__k,a=0;s&&a<s.length;a++)s[a]&&(s[a].__=e,n=ry(s[a],n,r,i));return n}e.__e!=n&&(i&&(n&&e.type&&!n.parentNode&&(n=Ri(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function Ij(e,n,r,i){var s,a,u,c=e.key,h=e.type,p=n[r],g=p!=null&&(2&p.__u)==0;if(p===null&&c==null||g&&c==p.key&&h==p.type)return r;if(i>(g?1:0)){for(s=r-1,a=r+1;s>=0||a<n.length;)if((p=n[u=s>=0?s--:a++])!=null&&!(2&p.__u)&&c==p.key&&h==p.type)return u}return-1}function cg(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||Oj.test(n)?r:r+"px"}function da(e,n,r,i,s){var a,u;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(n in i)r&&n in r||cg(e.style,n,"");if(r)for(n in r)i&&r[n]==i[n]||cg(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")a=n!=(n=n.replace(J_,"$1")),u=n.toLowerCase(),n=u in e||n=="onFocusOut"||n=="onFocusIn"?u.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+a]=r,r?i?r.u=i.u:(r.u=Bh,e.addEventListener(n,a?kf:bf,a)):e.removeEventListener(n,a?kf:bf,a);else{if(s=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function fg(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=Bh++;else if(n.t<r.u)return;return r(Me.event?Me.event(n):n)}}}function Uh(e,n,r,i,s,a,u,c,h,p){var g,d,_,y,w,S,P,x,k,N,j,E,T,z,O,B,D,V=n.type;if(n.constructor!=null)return null;128&r.__u&&(h=!!(32&r.__u),a=[c=n.__e=r.__e]),(g=Me.__b)&&g(n);e:if(typeof V=="function")try{if(x=n.props,k="prototype"in V&&V.prototype.render,N=(g=V.contextType)&&i[g.__c],j=g?N?N.props.value:g.__:i,r.__c?P=(d=n.__c=r.__c).__=d.__E:(k?n.__c=d=new V(x,j):(n.__c=d=new La(x,j),d.constructor=V,d.render=Bj),N&&N.sub(d),d.state||(d.state={}),d.__n=i,_=d.__d=!0,d.__h=[],d._sb=[]),k&&d.__s==null&&(d.__s=d.state),k&&V.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=dn({},d.__s)),dn(d.__s,V.getDerivedStateFromProps(x,d.__s))),y=d.props,w=d.state,d.__v=n,_)k&&V.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),k&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(k&&V.getDerivedStateFromProps==null&&x!==y&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(x,j),n.__v==r.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(x,d.__s,j)===!1){for(n.__v!=r.__v&&(d.props=x,d.state=d.__s,d.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(H){H&&(H.__=n)}),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[],d.__h.length&&u.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(x,d.__s,j),k&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(y,w,S)})}if(d.context=j,d.props=x,d.__P=e,d.__e=!1,T=Me.__r,z=0,k){for(d.state=d.__s,d.__d=!1,T&&T(n),g=d.render(d.props,d.state,d.context),O=0;O<d._sb.length;O++)d.__h.push(d._sb[O]);d._sb=[]}else do d.__d=!1,T&&T(n),g=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++z<25);d.state=d.__s,d.getChildContext!=null&&(i=dn(dn({},i),d.getChildContext())),k&&!_&&d.getSnapshotBeforeUpdate!=null&&(S=d.getSnapshotBeforeUpdate(y,w)),B=g,g!=null&&g.type===Ul&&g.key==null&&(B=oy(g.props.children)),c=ny(e,Fl(B)?B:[B],n,r,i,s,a,u,c,h,p),d.base=n.__e,n.__u&=-161,d.__h.length&&u.push(d),P&&(d.__E=d.__=null)}catch(H){if(n.__v=null,h||a!=null)if(H.then){for(n.__u|=h?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,n.__e=c}else{for(D=a.length;D--;)Fh(a[D]);Sf(n)}else n.__e=r.__e,n.__k=r.__k,H.then||Sf(n);Me.__e(H,n,r)}else a==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):c=n.__e=Dj(r.__e,n,r,i,s,a,u,h,p);return(g=Me.diffed)&&g(n),128&n.__u?void 0:c}function Sf(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Sf)}function iy(e,n,r){for(var i=0;i<r.length;i++)$h(r[i],r[++i],r[++i]);Me.__c&&Me.__c(n,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(a){a.call(s)})}catch(a){Me.__e(a,s.__v)}})}function oy(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Fl(e)?e.map(oy):dn({},e)}function Dj(e,n,r,i,s,a,u,c,h){var p,g,d,_,y,w,S,P=r.props||us,x=n.props,k=n.type;if(k=="svg"?s="http://www.w3.org/2000/svg":k=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),a!=null){for(p=0;p<a.length;p++)if((y=a[p])&&"setAttribute"in y==!!k&&(k?y.localName==k:y.nodeType==3)){e=y,a[p]=null;break}}if(e==null){if(k==null)return document.createTextNode(x);e=document.createElementNS(s,k,x.is&&x),c&&(Me.__m&&Me.__m(n,a),c=!1),a=null}if(k==null)P===x||c&&e.data==x||(e.data=x);else{if(a=a&&ws.call(e.childNodes),!c&&a!=null)for(P={},p=0;p<e.attributes.length;p++)P[(y=e.attributes[p]).name]=y.value;for(p in P)if(y=P[p],p!="children"){if(p=="dangerouslySetInnerHTML")d=y;else if(!(p in x)){if(p=="value"&&"defaultValue"in x||p=="checked"&&"defaultChecked"in x)continue;da(e,p,null,y,s)}}for(p in x)y=x[p],p=="children"?_=y:p=="dangerouslySetInnerHTML"?g=y:p=="value"?w=y:p=="checked"?S=y:c&&typeof y!="function"||P[p]===y||da(e,p,y,P[p],s);if(g)c||d&&(g.__html==d.__html||g.__html==e.innerHTML)||(e.innerHTML=g.__html),n.__k=[];else if(d&&(e.innerHTML=""),ny(n.type=="template"?e.content:e,Fl(_)?_:[_],n,r,i,k=="foreignObject"?"http://www.w3.org/1999/xhtml":s,a,u,a?a[0]:r.__k&&Ri(r,0),c,h),a!=null)for(p=a.length;p--;)Fh(a[p]);c||(p="value",k=="progress"&&w==null?e.removeAttribute("value"):w!=null&&(w!==e[p]||k=="progress"&&!w||k=="option"&&w!=P[p])&&da(e,p,w,P[p],s),p="checked",S!=null&&S!=e[p]&&da(e,p,S,P[p],s))}return e}function $h(e,n,r){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&n==null||(e.__u=e(n))}else e.current=n}catch(s){Me.__e(s,r)}}function sy(e,n,r){var i,s;if(Me.unmount&&Me.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||$h(i,null,n)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){Me.__e(a,n)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&sy(i[s],n,r||typeof e.type!="function");r||Fh(e.__e),e.__c=e.__=e.__e=void 0}function Bj(e,n,r){return this.constructor(e,r)}function Fj(e,n,r){var i,s,a,u;n==document&&(n=document.documentElement),Me.__&&Me.__(e,n),s=(i=!1)?null:n.__k,a=[],u=[],Uh(n,e=n.__k=Aj(Ul,null,[e]),s||us,us,n.namespaceURI,s?null:n.firstChild?ws.call(n.childNodes):null,a,s?s.__e:n.firstChild,i,u),iy(a,e,u)}function ay(e,n,r){var i,s,a,u,c=dn({},e.props);for(a in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),n)a=="key"?i=n[a]:a=="ref"?s=n[a]:c[a]=n[a]===void 0&&u!=null?u[a]:n[a];return arguments.length>2&&(c.children=arguments.length>3?ws.call(arguments,2):r),Ro(e.type,c,i||e.key,s||e.ref,null)}ws=ey.slice,Me={__e:function(e,n,r,i){for(var s,a,u;n=n.__;)if((s=n.__c)&&!s.__)try{if((a=s.constructor)&&a.getDerivedStateFromError!=null&&(s.setState(a.getDerivedStateFromError(e)),u=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,i||{}),u=s.__d),u)return s.__E=s}catch(c){e=c}throw e}},X_=0,K_=function(e){return e!=null&&e.constructor==null},La.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=dn({},this.state),typeof e=="function"&&(e=e(dn({},r),this.props)),e&&dn(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),ug(this))},La.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ug(this))},La.prototype.render=Ul,Pr=[],Y_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Q_=function(e,n){return e.__v.__b-n.__v.__b},hl.__r=0,J_=/(PointerCapture)$|Capture$/i,Bh=0,bf=fg(!1),kf=fg(!0);function hg(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function Uj(e){if(Array.isArray(e))return e}function $j(e,n,r){return(n=qj(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Hj(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,s,a,u,c=[],h=!0,p=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(h=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);h=!0);}catch(g){p=!0,s=g}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(p)throw s}}return c}}function Zj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dg(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Wj(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?dg(Object(r),!0).forEach(function(i){$j(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dg(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Vj(e,n){return Uj(e)||Hj(e,n)||Xj(e,n)||Zj()}function Gj(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function qj(e){var n=Gj(e,"string");return typeof n=="symbol"?n:n+""}function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dl(e)}function Xj(e,n){if(e){if(typeof e=="string")return hg(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hg(e,n):void 0}}var Nf=function(n){if(dl(n)!=="object")return n;var r=ay(n);if(r.props){var i;r.props=Wj({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(Nf):Nf(r.props.children))}return r},Kj=function(n){return K_(ay(n))},Yj=function(n,r){delete r.__k,Fj(Nf(n),r)};function Qj(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Jj=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Qj(Jj);var e3=Dh({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.style,a=s===void 0?{}:s,u=!!n&&dl(n)==="object"&&!!n.node&&typeof n.node=="function",c=Dt(u?n.node():n);c.style("position")==="static"&&c.style("position","relative"),r.tooltipEl=c.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(p){var g=Vj(p,2),d=g[0],_=g[1];return r.tooltipEl.style(d,_)}),r.tooltipEl.style("left","-10000px").style("display","none");var h="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,c.on("mousemove.".concat(h),function(p){r.mouseInside=!0;var g=fn(p),d=c.node(),_=d.offsetWidth,y=d.offsetHeight,w=[r.offsetX===null||r.offsetX===void 0?"-".concat(g[0]/_*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?y>130&&y-g[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",g[0]+"px").style("top",g[1]+"px").style("transform","translate(".concat(w.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseover.".concat(h),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseout.".concat(h),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):Kj(n.content)?(n.tooltipEl.text(""),Yj(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function t3(e,n,r){var i,s=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function a(){var u,c=i.length,h,p=0,g=0,d=0;for(u=0;u<c;++u)h=i[u],p+=h.x||0,g+=h.y||0,d+=h.z||0;for(p=(p/c-e)*s,g=(g/c-n)*s,d=(d/c-r)*s,u=0;u<c;++u)h=i[u],p&&(h.x-=p),g&&(h.y-=g),d&&(h.z-=d)}return a.initialize=function(u){i=u},a.x=function(u){return arguments.length?(e=+u,a):e},a.y=function(u){return arguments.length?(n=+u,a):n},a.z=function(u){return arguments.length?(r=+u,a):r},a.strength=function(u){return arguments.length?(s=+u,a):s},a}function n3(e){const n=+this._x.call(null,e);return ly(this.cover(n),n,e)}function ly(e,n,r){if(isNaN(n))return e;var i,s=e._root,a={data:r},u=e._x0,c=e._x1,h,p,g,d,_;if(!s)return e._root=a,e;for(;s.length;)if((g=n>=(h=(u+c)/2))?u=h:c=h,i=s,!(s=s[d=+g]))return i[d]=a,e;if(p=+e._x.call(null,s.data),n===p)return a.next=s,i?i[d]=a:e._root=a,e;do i=i?i[d]=new Array(2):e._root=new Array(2),(g=n>=(h=(u+c)/2))?u=h:c=h;while((d=+g)==(_=+(p>=h)));return i[_]=s,i[d]=a,e}function r3(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let i=1/0,s=-1/0;for(let a=0,u;a<n;++a)isNaN(u=+this._x.call(null,e[a]))||(r[a]=u,u<i&&(i=u),u>s&&(s=u));if(i>s)return this;this.cover(i).cover(s);for(let a=0;a<n;++a)ly(this,r[a],e[a]);return this}function i3(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var i=r-n||1,s=this._root,a,u;n>e||e>=r;)switch(u=+(e<n),a=new Array(2),a[u]=s,s=a,i*=2,u){case 0:r=n+i;break;case 1:n=r-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._x1=r,this}function o3(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function s3(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function An(e,n,r){this.node=e,this.x0=n,this.x1=r}function a3(e,n){var r,i=this._x0,s,a,u=this._x1,c=[],h=this._root,p,g;for(h&&c.push(new An(h,i,u)),n==null?n=1/0:(i=e-n,u=e+n);p=c.pop();)if(!(!(h=p.node)||(s=p.x0)>u||(a=p.x1)<i))if(h.length){var d=(s+a)/2;c.push(new An(h[1],d,a),new An(h[0],s,d)),(g=+(e>=d))&&(p=c[c.length-1],c[c.length-1]=c[c.length-1-g],c[c.length-1-g]=p)}else{var _=Math.abs(e-+this._x.call(null,h.data));_<n&&(n=_,i=e-_,u=e+_,r=h.data)}return r}function l3(e){if(isNaN(h=+this._x.call(null,e)))return this;var n,r=this._root,i,s,a,u=this._x0,c=this._x1,h,p,g,d,_;if(!r)return this;if(r.length)for(;;){if((g=h>=(p=(u+c)/2))?u=p:c=p,n=r,!(r=r[d=+g]))return this;if(!r.length)break;n[d+1&1]&&(i=n,_=d)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,s?(a?s.next=a:delete s.next,this):n?(a?n[d]=a:delete n[d],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(i?i[_]=r:this._root=r),this):(this._root=a,this)}function u3(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function c3(){return this._root}function f3(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function h3(e){var n=[],r,i=this._root,s,a,u;for(i&&n.push(new An(i,this._x0,this._x1));r=n.pop();)if(!e(i=r.node,a=r.x0,u=r.x1)&&i.length){var c=(a+u)/2;(s=i[1])&&n.push(new An(s,c,u)),(s=i[0])&&n.push(new An(s,a,c))}return this}function d3(e){var n=[],r=[],i;for(this._root&&n.push(new An(this._root,this._x0,this._x1));i=n.pop();){var s=i.node;if(s.length){var a,u=i.x0,c=i.x1,h=(u+c)/2;(a=s[0])&&n.push(new An(a,u,h)),(a=s[1])&&n.push(new An(a,h,c))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.x1);return this}function p3(e){return e[0]}function m3(e){return arguments.length?(this._x=e,this):this._x}function uy(e,n){var r=new Hh(n??p3,NaN,NaN);return e==null?r:r.addAll(e)}function Hh(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function pg(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var wt=uy.prototype=Hh.prototype;wt.copy=function(){var e=new Hh(this._x,this._x0,this._x1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=pg(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var s=0;s<2;++s)(i=n.source[s])&&(i.length?r.push({source:i,target:n.target[s]=new Array(2)}):n.target[s]=pg(i));return e};wt.add=n3;wt.addAll=r3;wt.cover=i3;wt.data=o3;wt.extent=s3;wt.find=a3;wt.remove=l3;wt.removeAll=u3;wt.root=c3;wt.size=f3;wt.visit=h3;wt.visitAfter=d3;wt.x=m3;function g3(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return cy(this.cover(n,r),n,r,e)}function cy(e,n,r,i){if(isNaN(n)||isNaN(r))return e;var s,a=e._root,u={data:i},c=e._x0,h=e._y0,p=e._x1,g=e._y1,d,_,y,w,S,P,x,k;if(!a)return e._root=u,e;for(;a.length;)if((S=n>=(d=(c+p)/2))?c=d:p=d,(P=r>=(_=(h+g)/2))?h=_:g=_,s=a,!(a=a[x=P<<1|S]))return s[x]=u,e;if(y=+e._x.call(null,a.data),w=+e._y.call(null,a.data),n===y&&r===w)return u.next=a,s?s[x]=u:e._root=u,e;do s=s?s[x]=new Array(4):e._root=new Array(4),(S=n>=(d=(c+p)/2))?c=d:p=d,(P=r>=(_=(h+g)/2))?h=_:g=_;while((x=P<<1|S)===(k=(w>=_)<<1|y>=d));return s[k]=a,s[x]=u,e}function v3(e){var n,r,i=e.length,s,a,u=new Array(i),c=new Array(i),h=1/0,p=1/0,g=-1/0,d=-1/0;for(r=0;r<i;++r)isNaN(s=+this._x.call(null,n=e[r]))||isNaN(a=+this._y.call(null,n))||(u[r]=s,c[r]=a,s<h&&(h=s),s>g&&(g=s),a<p&&(p=a),a>d&&(d=a));if(h>g||p>d)return this;for(this.cover(h,p).cover(g,d),r=0;r<i;++r)cy(this,u[r],c[r],e[r]);return this}function _3(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,s=this._x1,a=this._y1;if(isNaN(r))s=(r=Math.floor(e))+1,a=(i=Math.floor(n))+1;else{for(var u=s-r||1,c=this._root,h,p;r>e||e>=s||i>n||n>=a;)switch(p=(n<i)<<1|e<r,h=new Array(4),h[p]=c,c=h,u*=2,p){case 0:s=r+u,a=i+u;break;case 1:r=s-u,a=i+u;break;case 2:s=r+u,i=a-u;break;case 3:r=s-u,i=a-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=i,this._x1=s,this._y1=a,this}function y3(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function x3(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function lt(e,n,r,i,s){this.node=e,this.x0=n,this.y0=r,this.x1=i,this.y1=s}function w3(e,n,r){var i,s=this._x0,a=this._y0,u,c,h,p,g=this._x1,d=this._y1,_=[],y=this._root,w,S;for(y&&_.push(new lt(y,s,a,g,d)),r==null?r=1/0:(s=e-r,a=n-r,g=e+r,d=n+r,r*=r);w=_.pop();)if(!(!(y=w.node)||(u=w.x0)>g||(c=w.y0)>d||(h=w.x1)<s||(p=w.y1)<a))if(y.length){var P=(u+h)/2,x=(c+p)/2;_.push(new lt(y[3],P,x,h,p),new lt(y[2],u,x,P,p),new lt(y[1],P,c,h,x),new lt(y[0],u,c,P,x)),(S=(n>=x)<<1|e>=P)&&(w=_[_.length-1],_[_.length-1]=_[_.length-1-S],_[_.length-1-S]=w)}else{var k=e-+this._x.call(null,y.data),N=n-+this._y.call(null,y.data),j=k*k+N*N;if(j<r){var E=Math.sqrt(r=j);s=e-E,a=n-E,g=e+E,d=n+E,i=y.data}}return i}function b3(e){if(isNaN(g=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var n,r=this._root,i,s,a,u=this._x0,c=this._y0,h=this._x1,p=this._y1,g,d,_,y,w,S,P,x;if(!r)return this;if(r.length)for(;;){if((w=g>=(_=(u+h)/2))?u=_:h=_,(S=d>=(y=(c+p)/2))?c=y:p=y,n=r,!(r=r[P=S<<1|w]))return this;if(!r.length)break;(n[P+1&3]||n[P+2&3]||n[P+3&3])&&(i=n,x=P)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,s?(a?s.next=a:delete s.next,this):n?(a?n[P]=a:delete n[P],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[x]=r:this._root=r),this):(this._root=a,this)}function k3(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function S3(){return this._root}function N3(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function C3(e){var n=[],r,i=this._root,s,a,u,c,h;for(i&&n.push(new lt(i,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(i=r.node,a=r.x0,u=r.y0,c=r.x1,h=r.y1)&&i.length){var p=(a+c)/2,g=(u+h)/2;(s=i[3])&&n.push(new lt(s,p,g,c,h)),(s=i[2])&&n.push(new lt(s,a,g,p,h)),(s=i[1])&&n.push(new lt(s,p,u,c,g)),(s=i[0])&&n.push(new lt(s,a,u,p,g))}return this}function P3(e){var n=[],r=[],i;for(this._root&&n.push(new lt(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var s=i.node;if(s.length){var a,u=i.x0,c=i.y0,h=i.x1,p=i.y1,g=(u+h)/2,d=(c+p)/2;(a=s[0])&&n.push(new lt(a,u,c,g,d)),(a=s[1])&&n.push(new lt(a,g,c,h,d)),(a=s[2])&&n.push(new lt(a,u,d,g,p)),(a=s[3])&&n.push(new lt(a,g,d,h,p))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function j3(e){return e[0]}function E3(e){return arguments.length?(this._x=e,this):this._x}function T3(e){return e[1]}function L3(e){return arguments.length?(this._y=e,this):this._y}function fy(e,n,r){var i=new Zh(n??j3,r??T3,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Zh(e,n,r,i,s,a){this._x=e,this._y=n,this._x0=r,this._y0=i,this._x1=s,this._y1=a,this._root=void 0}function mg(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var ht=fy.prototype=Zh.prototype;ht.copy=function(){var e=new Zh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=mg(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var s=0;s<4;++s)(i=n.source[s])&&(i.length?r.push({source:i,target:n.target[s]=new Array(4)}):n.target[s]=mg(i));return e};ht.add=g3;ht.addAll=v3;ht.cover=_3;ht.data=y3;ht.extent=x3;ht.find=w3;ht.remove=b3;ht.removeAll=k3;ht.root=S3;ht.size=N3;ht.visit=C3;ht.visitAfter=P3;ht.x=E3;ht.y=L3;function M3(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),i=+this._z.call(null,e);return hy(this.cover(n,r,i),n,r,i,e)}function hy(e,n,r,i,s){if(isNaN(n)||isNaN(r)||isNaN(i))return e;var a,u=e._root,c={data:s},h=e._x0,p=e._y0,g=e._z0,d=e._x1,_=e._y1,y=e._z1,w,S,P,x,k,N,j,E,T,z,O;if(!u)return e._root=c,e;for(;u.length;)if((j=n>=(w=(h+d)/2))?h=w:d=w,(E=r>=(S=(p+_)/2))?p=S:_=S,(T=i>=(P=(g+y)/2))?g=P:y=P,a=u,!(u=u[z=T<<2|E<<1|j]))return a[z]=c,e;if(x=+e._x.call(null,u.data),k=+e._y.call(null,u.data),N=+e._z.call(null,u.data),n===x&&r===k&&i===N)return c.next=u,a?a[z]=c:e._root=c,e;do a=a?a[z]=new Array(8):e._root=new Array(8),(j=n>=(w=(h+d)/2))?h=w:d=w,(E=r>=(S=(p+_)/2))?p=S:_=S,(T=i>=(P=(g+y)/2))?g=P:y=P;while((z=T<<2|E<<1|j)===(O=(N>=P)<<2|(k>=S)<<1|x>=w));return a[O]=u,a[z]=c,e}function z3(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),i=new Float64Array(n),s=new Float64Array(n);let a=1/0,u=1/0,c=1/0,h=-1/0,p=-1/0,g=-1/0;for(let d=0,_,y,w,S;d<n;++d)isNaN(y=+this._x.call(null,_=e[d]))||isNaN(w=+this._y.call(null,_))||isNaN(S=+this._z.call(null,_))||(r[d]=y,i[d]=w,s[d]=S,y<a&&(a=y),y>h&&(h=y),w<u&&(u=w),w>p&&(p=w),S<c&&(c=S),S>g&&(g=S));if(a>h||u>p||c>g)return this;this.cover(a,u,c).cover(h,p,g);for(let d=0;d<n;++d)hy(this,r[d],i[d],s[d],e[d]);return this}function O3(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var i=this._x0,s=this._y0,a=this._z0,u=this._x1,c=this._y1,h=this._z1;if(isNaN(i))u=(i=Math.floor(e))+1,c=(s=Math.floor(n))+1,h=(a=Math.floor(r))+1;else{for(var p=u-i||1,g=this._root,d,_;i>e||e>=u||s>n||n>=c||a>r||r>=h;)switch(_=(r<a)<<2|(n<s)<<1|e<i,d=new Array(8),d[_]=g,g=d,p*=2,_){case 0:u=i+p,c=s+p,h=a+p;break;case 1:i=u-p,c=s+p,h=a+p;break;case 2:u=i+p,s=c-p,h=a+p;break;case 3:i=u-p,s=c-p,h=a+p;break;case 4:u=i+p,c=s+p,a=h-p;break;case 5:i=u-p,c=s+p,a=h-p;break;case 6:u=i+p,s=c-p,a=h-p;break;case 7:i=u-p,s=c-p,a=h-p;break}this._root&&this._root.length&&(this._root=g)}return this._x0=i,this._y0=s,this._z0=a,this._x1=u,this._y1=c,this._z1=h,this}function A3(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function R3(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Se(e,n,r,i,s,a,u){this.node=e,this.x0=n,this.y0=r,this.z0=i,this.x1=s,this.y1=a,this.z1=u}function I3(e,n,r,i){var s,a=this._x0,u=this._y0,c=this._z0,h,p,g,d,_,y,w=this._x1,S=this._y1,P=this._z1,x=[],k=this._root,N,j;for(k&&x.push(new Se(k,a,u,c,w,S,P)),i==null?i=1/0:(a=e-i,u=n-i,c=r-i,w=e+i,S=n+i,P=r+i,i*=i);N=x.pop();)if(!(!(k=N.node)||(h=N.x0)>w||(p=N.y0)>S||(g=N.z0)>P||(d=N.x1)<a||(_=N.y1)<u||(y=N.z1)<c))if(k.length){var E=(h+d)/2,T=(p+_)/2,z=(g+y)/2;x.push(new Se(k[7],E,T,z,d,_,y),new Se(k[6],h,T,z,E,_,y),new Se(k[5],E,p,z,d,T,y),new Se(k[4],h,p,z,E,T,y),new Se(k[3],E,T,g,d,_,z),new Se(k[2],h,T,g,E,_,z),new Se(k[1],E,p,g,d,T,z),new Se(k[0],h,p,g,E,T,z)),(j=(r>=z)<<2|(n>=T)<<1|e>=E)&&(N=x[x.length-1],x[x.length-1]=x[x.length-1-j],x[x.length-1-j]=N)}else{var O=e-+this._x.call(null,k.data),B=n-+this._y.call(null,k.data),D=r-+this._z.call(null,k.data),V=O*O+B*B+D*D;if(V<i){var H=Math.sqrt(i=V);a=e-H,u=n-H,c=r-H,w=e+H,S=n+H,P=r+H,s=k.data}}return s}const D3=(e,n,r,i,s,a)=>Math.sqrt((e-i)**2+(n-s)**2+(r-a)**2);function B3(e,n,r,i){const s=[],a=e-i,u=n-i,c=r-i,h=e+i,p=n+i,g=r+i;return this.visit((d,_,y,w,S,P,x)=>{if(!d.length)do{const k=d.data;D3(e,n,r,this._x(k),this._y(k),this._z(k))<=i&&s.push(k)}while(d=d.next);return _>h||y>p||w>g||S<a||P<u||x<c}),s}function F3(e){if(isNaN(_=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e))||isNaN(w=+this._z.call(null,e)))return this;var n,r=this._root,i,s,a,u=this._x0,c=this._y0,h=this._z0,p=this._x1,g=this._y1,d=this._z1,_,y,w,S,P,x,k,N,j,E,T;if(!r)return this;if(r.length)for(;;){if((k=_>=(S=(u+p)/2))?u=S:p=S,(N=y>=(P=(c+g)/2))?c=P:g=P,(j=w>=(x=(h+d)/2))?h=x:d=x,n=r,!(r=r[E=j<<2|N<<1|k]))return this;if(!r.length)break;(n[E+1&7]||n[E+2&7]||n[E+3&7]||n[E+4&7]||n[E+5&7]||n[E+6&7]||n[E+7&7])&&(i=n,T=E)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,s?(a?s.next=a:delete s.next,this):n?(a?n[E]=a:delete n[E],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[T]=r:this._root=r),this):(this._root=a,this)}function U3(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function $3(){return this._root}function H3(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Z3(e){var n=[],r,i=this._root,s,a,u,c,h,p,g;for(i&&n.push(new Se(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(i=r.node,a=r.x0,u=r.y0,c=r.z0,h=r.x1,p=r.y1,g=r.z1)&&i.length){var d=(a+h)/2,_=(u+p)/2,y=(c+g)/2;(s=i[7])&&n.push(new Se(s,d,_,y,h,p,g)),(s=i[6])&&n.push(new Se(s,a,_,y,d,p,g)),(s=i[5])&&n.push(new Se(s,d,u,y,h,_,g)),(s=i[4])&&n.push(new Se(s,a,u,y,d,_,g)),(s=i[3])&&n.push(new Se(s,d,_,c,h,p,y)),(s=i[2])&&n.push(new Se(s,a,_,c,d,p,y)),(s=i[1])&&n.push(new Se(s,d,u,c,h,_,y)),(s=i[0])&&n.push(new Se(s,a,u,c,d,_,y))}return this}function W3(e){var n=[],r=[],i;for(this._root&&n.push(new Se(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=n.pop();){var s=i.node;if(s.length){var a,u=i.x0,c=i.y0,h=i.z0,p=i.x1,g=i.y1,d=i.z1,_=(u+p)/2,y=(c+g)/2,w=(h+d)/2;(a=s[0])&&n.push(new Se(a,u,c,h,_,y,w)),(a=s[1])&&n.push(new Se(a,_,c,h,p,y,w)),(a=s[2])&&n.push(new Se(a,u,y,h,_,g,w)),(a=s[3])&&n.push(new Se(a,_,y,h,p,g,w)),(a=s[4])&&n.push(new Se(a,u,c,w,_,y,d)),(a=s[5])&&n.push(new Se(a,_,c,w,p,y,d)),(a=s[6])&&n.push(new Se(a,u,y,w,_,g,d)),(a=s[7])&&n.push(new Se(a,_,y,w,p,g,d))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function V3(e){return e[0]}function G3(e){return arguments.length?(this._x=e,this):this._x}function q3(e){return e[1]}function X3(e){return arguments.length?(this._y=e,this):this._y}function K3(e){return e[2]}function Y3(e){return arguments.length?(this._z=e,this):this._z}function dy(e,n,r,i){var s=new Wh(n??V3,r??q3,i??K3,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function Wh(e,n,r,i,s,a,u,c,h){this._x=e,this._y=n,this._z=r,this._x0=i,this._y0=s,this._z0=a,this._x1=u,this._y1=c,this._z1=h,this._root=void 0}function gg(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Je=dy.prototype=Wh.prototype;Je.copy=function(){var e=new Wh(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=gg(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var s=0;s<8;++s)(i=n.source[s])&&(i.length?r.push({source:i,target:n.target[s]=new Array(8)}):n.target[s]=gg(i));return e};Je.add=M3;Je.addAll=z3;Je.cover=O3;Je.data=A3;Je.extent=R3;Je.find=I3;Je.findAllWithinRadius=B3;Je.remove=F3;Je.removeAll=U3;Je.root=$3;Je.size=H3;Je.visit=Z3;Je.visitAfter=W3;Je.x=G3;Je.y=X3;Je.z=Y3;function zn(e){return function(){return e}}function En(e){return(e()-.5)*1e-6}function Q3(e){return e.index}function vg(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function J3(e){var n=Q3,r=_,i,s=zn(30),a,u,c,h,p,g,d=1;e==null&&(e=[]);function _(x){return 1/Math.min(h[x.source.index],h[x.target.index])}function y(x){for(var k=0,N=e.length;k<d;++k)for(var j=0,E,T,z,O=0,B=0,D=0,V,H;j<N;++j)E=e[j],T=E.source,z=E.target,O=z.x+z.vx-T.x-T.vx||En(g),c>1&&(B=z.y+z.vy-T.y-T.vy||En(g)),c>2&&(D=z.z+z.vz-T.z-T.vz||En(g)),V=Math.sqrt(O*O+B*B+D*D),V=(V-a[j])/V*x*i[j],O*=V,B*=V,D*=V,z.vx-=O*(H=p[j]),c>1&&(z.vy-=B*H),c>2&&(z.vz-=D*H),T.vx+=O*(H=1-H),c>1&&(T.vy+=B*H),c>2&&(T.vz+=D*H)}function w(){if(u){var x,k=u.length,N=e.length,j=new Map(u.map((T,z)=>[n(T,z,u),T])),E;for(x=0,h=new Array(k);x<N;++x)E=e[x],E.index=x,typeof E.source!="object"&&(E.source=vg(j,E.source)),typeof E.target!="object"&&(E.target=vg(j,E.target)),h[E.source.index]=(h[E.source.index]||0)+1,h[E.target.index]=(h[E.target.index]||0)+1;for(x=0,p=new Array(N);x<N;++x)E=e[x],p[x]=h[E.source.index]/(h[E.source.index]+h[E.target.index]);i=new Array(N),S(),a=new Array(N),P()}}function S(){if(u)for(var x=0,k=e.length;x<k;++x)i[x]=+r(e[x],x,e)}function P(){if(u)for(var x=0,k=e.length;x<k;++x)a[x]=+s(e[x],x,e)}return y.initialize=function(x,...k){u=x,g=k.find(N=>typeof N=="function")||Math.random,c=k.find(N=>[1,2,3].includes(N))||2,w()},y.links=function(x){return arguments.length?(e=x,w(),y):e},y.id=function(x){return arguments.length?(n=x,y):n},y.iterations=function(x){return arguments.length?(d=+x,y):d},y.strength=function(x){return arguments.length?(r=typeof x=="function"?x:zn(+x),S(),y):r},y.distance=function(x){return arguments.length?(s=typeof x=="function"?x:zn(+x),P(),y):s},y}const eE=1664525,tE=1013904223,_g=4294967296;function nE(){let e=1;return()=>(e=(eE*e+tE)%_g)/_g}var yg=3;function nc(e){return e.x}function xg(e){return e.y}function rE(e){return e.z}var iE=10,oE=Math.PI*(3-Math.sqrt(5)),sE=Math.PI*20/(9+Math.sqrt(221));function aE(e,n){n=n||2;var r=Math.min(yg,Math.max(1,Math.round(n))),i,s=1,a=.001,u=1-Math.pow(a,1/300),c=0,h=.6,p=new Map,g=Oh(y),d=ys("tick","end"),_=nE();e==null&&(e=[]);function y(){w(),d.call("tick",i),s<a&&(g.stop(),d.call("end",i))}function w(x){var k,N=e.length,j;x===void 0&&(x=1);for(var E=0;E<x;++E)for(s+=(c-s)*u,p.forEach(function(T){T(s)}),k=0;k<N;++k)j=e[k],j.fx==null?j.x+=j.vx*=h:(j.x=j.fx,j.vx=0),r>1&&(j.fy==null?j.y+=j.vy*=h:(j.y=j.fy,j.vy=0)),r>2&&(j.fz==null?j.z+=j.vz*=h:(j.z=j.fz,j.vz=0));return i}function S(){for(var x=0,k=e.length,N;x<k;++x){if(N=e[x],N.index=x,N.fx!=null&&(N.x=N.fx),N.fy!=null&&(N.y=N.fy),N.fz!=null&&(N.z=N.fz),isNaN(N.x)||r>1&&isNaN(N.y)||r>2&&isNaN(N.z)){var j=iE*(r>2?Math.cbrt(.5+x):r>1?Math.sqrt(.5+x):x),E=x*oE,T=x*sE;r===1?N.x=j:r===2?(N.x=j*Math.cos(E),N.y=j*Math.sin(E)):(N.x=j*Math.sin(E)*Math.cos(T),N.y=j*Math.cos(E),N.z=j*Math.sin(E)*Math.sin(T))}(isNaN(N.vx)||r>1&&isNaN(N.vy)||r>2&&isNaN(N.vz))&&(N.vx=0,r>1&&(N.vy=0),r>2&&(N.vz=0))}}function P(x){return x.initialize&&x.initialize(e,_,r),x}return S(),i={tick:w,restart:function(){return g.restart(y),i},stop:function(){return g.stop(),i},numDimensions:function(x){return arguments.length?(r=Math.min(yg,Math.max(1,Math.round(x))),p.forEach(P),i):r},nodes:function(x){return arguments.length?(e=x,S(),p.forEach(P),i):e},alpha:function(x){return arguments.length?(s=+x,i):s},alphaMin:function(x){return arguments.length?(a=+x,i):a},alphaDecay:function(x){return arguments.length?(u=+x,i):+u},alphaTarget:function(x){return arguments.length?(c=+x,i):c},velocityDecay:function(x){return arguments.length?(h=1-x,i):1-h},randomSource:function(x){return arguments.length?(_=x,p.forEach(P),i):_},force:function(x,k){return arguments.length>1?(k==null?p.delete(x):p.set(x,P(k)),i):p.get(x)},find:function(){var x=Array.prototype.slice.call(arguments),k=x.shift()||0,N=(r>1?x.shift():null)||0,j=(r>2?x.shift():null)||0,E=x.shift()||1/0,T=0,z=e.length,O,B,D,V,H,Q;for(E*=E,T=0;T<z;++T)H=e[T],O=k-H.x,B=N-(H.y||0),D=j-(H.z||0),V=O*O+B*B+D*D,V<E&&(Q=H,E=V);return Q},on:function(x,k){return arguments.length>1?(d.on(x,k),i):d.on(x)}}}function lE(){var e,n,r,i,s,a=zn(-30),u,c=1,h=1/0,p=.81;function g(w){var S,P=e.length,x=(n===1?uy(e,nc):n===2?fy(e,nc,xg):n===3?dy(e,nc,xg,rE):null).visitAfter(_);for(s=w,S=0;S<P;++S)r=e[S],x.visit(y)}function d(){if(e){var w,S=e.length,P;for(u=new Array(S),w=0;w<S;++w)P=e[w],u[P.index]=+a(P,w,e)}}function _(w){var S=0,P,x,k=0,N,j,E,T,z=w.length;if(z){for(N=j=E=T=0;T<z;++T)(P=w[T])&&(x=Math.abs(P.value))&&(S+=P.value,k+=x,N+=x*(P.x||0),j+=x*(P.y||0),E+=x*(P.z||0));S*=Math.sqrt(4/z),w.x=N/k,n>1&&(w.y=j/k),n>2&&(w.z=E/k)}else{P=w,P.x=P.data.x,n>1&&(P.y=P.data.y),n>2&&(P.z=P.data.z);do S+=u[P.data.index];while(P=P.next)}w.value=S}function y(w,S,P,x,k){if(!w.value)return!0;var N=[P,x,k][n-1],j=w.x-r.x,E=n>1?w.y-r.y:0,T=n>2?w.z-r.z:0,z=N-S,O=j*j+E*E+T*T;if(z*z/p<O)return O<h&&(j===0&&(j=En(i),O+=j*j),n>1&&E===0&&(E=En(i),O+=E*E),n>2&&T===0&&(T=En(i),O+=T*T),O<c&&(O=Math.sqrt(c*O)),r.vx+=j*w.value*s/O,n>1&&(r.vy+=E*w.value*s/O),n>2&&(r.vz+=T*w.value*s/O)),!0;if(w.length||O>=h)return;(w.data!==r||w.next)&&(j===0&&(j=En(i),O+=j*j),n>1&&E===0&&(E=En(i),O+=E*E),n>2&&T===0&&(T=En(i),O+=T*T),O<c&&(O=Math.sqrt(c*O)));do w.data!==r&&(z=u[w.data.index]*s/O,r.vx+=j*z,n>1&&(r.vy+=E*z),n>2&&(r.vz+=T*z));while(w=w.next)}return g.initialize=function(w,...S){e=w,i=S.find(P=>typeof P=="function")||Math.random,n=S.find(P=>[1,2,3].includes(P))||2,d()},g.strength=function(w){return arguments.length?(a=typeof w=="function"?w:zn(+w),d(),g):a},g.distanceMin=function(w){return arguments.length?(c=w*w,g):Math.sqrt(c)},g.distanceMax=function(w){return arguments.length?(h=w*w,g):Math.sqrt(h)},g.theta=function(w){return arguments.length?(p=w*w,g):Math.sqrt(p)},g}function uE(e,n,r,i){var s,a,u=zn(.1),c,h;typeof e!="function"&&(e=zn(+e)),n==null&&(n=0),r==null&&(r=0),i==null&&(i=0);function p(d){for(var _=0,y=s.length;_<y;++_){var w=s[_],S=w.x-n||1e-6,P=(w.y||0)-r||1e-6,x=(w.z||0)-i||1e-6,k=Math.sqrt(S*S+P*P+x*x),N=(h[_]-k)*c[_]*d/k;w.vx+=S*N,a>1&&(w.vy+=P*N),a>2&&(w.vz+=x*N)}}function g(){if(s){var d,_=s.length;for(c=new Array(_),h=new Array(_),d=0;d<_;++d)h[d]=+e(s[d],d,s),c[d]=isNaN(h[d])?0:+u(s[d],d,s)}}return p.initialize=function(d,..._){s=d,a=_.find(y=>[1,2,3].includes(y))||2,g()},p.strength=function(d){return arguments.length?(u=typeof d=="function"?d:zn(+d),g(),p):u},p.radius=function(d){return arguments.length?(e=typeof d=="function"?d:zn(+d),g(),p):e},p.x=function(d){return arguments.length?(n=+d,p):n},p.y=function(d){return arguments.length?(r=+d,p):r},p.z=function(d){return arguments.length?(i=+d,p):i},p}const{abs:ho,cos:Cn,sin:ii,acos:cE,atan2:po,sqrt:Gn,pow:At}=Math;function mo(e){return e<0?-At(-e,1/3):At(e,1/3)}const py=Math.PI,pa=2*py,qn=py/2,fE=1e-6,rc=Number.MAX_SAFE_INTEGER||9007199254740991,ic=Number.MIN_SAFE_INTEGER||-9007199254740991,hE={x:0,y:0,z:0},Y={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),Gn(i)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const i=n.length-1;if(e===1)return n[i].t=1,n[i];const s=1-e;let a=n;if(i===0)return n[0].t=e,n[0];if(i===1){const c={x:s*a[0].x+e*a[1].x,y:s*a[0].y+e*a[1].y,t:e};return r&&(c.z=s*a[0].z+e*a[1].z),c}if(i<4){let c=s*s,h=e*e,p,g,d,_=0;i===2?(a=[a[0],a[1],a[2],hE],p=c,g=s*e*2,d=h):i===3&&(p=c*s,g=c*e*3,d=s*h*3,_=e*h);const y={x:p*a[0].x+g*a[1].x+d*a[2].x+_*a[3].x,y:p*a[0].y+g*a[1].y+d*a[2].y+_*a[3].y,t:e};return r&&(y.z=p*a[0].z+g*a[1].z+d*a[2].z+_*a[3].z),y}const u=JSON.parse(JSON.stringify(n));for(;u.length>1;){for(let c=0;c<u.length-1;c++)u[c]={x:u[c].x+(u[c+1].x-u[c].x)*e,y:u[c].y+(u[c+1].y-u[c].y)*e},typeof u[c].z<"u"&&(u[c].z=u[c].z+(u[c+1].z-u[c].z)*e);u.splice(u.length-1,1)}return u[0].t=e,u[0]},computeWithRatios:function(e,n,r,i){const s=1-e,a=r,u=n;let c=a[0],h=a[1],p=a[2],g=a[3],d;if(c*=s,h*=e,u.length===2)return d=c+h,{x:(c*u[0].x+h*u[1].x)/d,y:(c*u[0].y+h*u[1].y)/d,z:i?(c*u[0].z+h*u[1].z)/d:!1,t:e};if(c*=s,h*=2*s,p*=e*e,u.length===3)return d=c+h+p,{x:(c*u[0].x+h*u[1].x+p*u[2].x)/d,y:(c*u[0].y+h*u[1].y+p*u[2].y)/d,z:i?(c*u[0].z+h*u[1].z+p*u[2].z)/d:!1,t:e};if(c*=s,h*=1.5*s,p*=3*s,g*=e*e*e,u.length===4)return d=c+h+p+g,{x:(c*u[0].x+h*u[1].x+p*u[2].x+g*u[3].x)/d,y:(c*u[0].y+h*u[1].y+p*u[2].y+g*u[3].y)/d,z:i?(c*u[0].z+h*u[1].z+p*u[2].z+g*u[3].z)/d:!1,t:e}},derive:function(e,n){const r=[];for(let i=e,s=i.length,a=s-1;s>1;s--,a--){const u=[];for(let c=0,h;c<a;c++)h={x:a*(i[c+1].x-i[c].x),y:a*(i[c+1].y-i[c].y)},n&&(h.z=a*(i[c+1].z-i[c].z)),u.push(h);r.push(u),i=u}return r},between:function(e,n,r){return n<=e&&e<=r||Y.approximately(e,n)||Y.approximately(e,r)},approximately:function(e,n,r){return ho(e-n)<=(r||fE)},length:function(e){const r=Y.Tvalues.length;let i=0;for(let s=0,a;s<r;s++)a=.5*Y.Tvalues[s]+.5,i+=Y.Cvalues[s]*Y.arcfn(a,e);return .5*i},map:function(e,n,r,i,s){const a=r-n,u=s-i,c=e-n,h=c/a;return i+u*h},lerp:function(e,n,r){const i={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(i.z=n.z+e*(r.z-n.z)),i},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(Y.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const i=n.x-e.x,s=n.y-e.y,a=r.x-e.x,u=r.y-e.y,c=i*u-s*a,h=i*a+s*u;return po(c,h)},round:function(e,n){const r=""+e,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+n))},dist:function(e,n){const r=e.x-n.x,i=e.y-n.y;return Gn(r*r+i*i)},closest:function(e,n){let r=At(2,63),i,s;return e.forEach(function(a,u){s=Y.dist(n,a),s<r&&(r=s,i=u)}),{mdist:r,mpos:i}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=At(e,n)+At(1-e,n),i=r-1;return ho(i/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=At(1-e,n),i=At(e,n)+r;return r/i},lli8:function(e,n,r,i,s,a,u,c){const h=(e*i-n*r)*(s-u)-(e-r)*(s*c-a*u),p=(e*i-n*r)*(a-c)-(n-i)*(s*c-a*u),g=(e-r)*(a-c)-(n-i)*(s-u);return g==0?!1:{x:h/g,y:p/g}},lli4:function(e,n,r,i){const s=e.x,a=e.y,u=n.x,c=n.y,h=r.x,p=r.y,g=i.x,d=i.y;return Y.lli8(s,a,u,c,h,p,g,d)},lli:function(e,n){return Y.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new je(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=rc,r=rc,i=ic,s=ic;return e.forEach(function(a){const u=a.bbox();n>u.x.min&&(n=u.x.min),r>u.y.min&&(r=u.y.min),i<u.x.max&&(i=u.x.max),s<u.y.max&&(s=u.y.max)}),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:r,mid:(r+s)/2,max:s,size:s-r}}},shapeintersections:function(e,n,r,i,s){if(!Y.bboxoverlap(n,i))return[];const a=[],u=[e.startcap,e.forward,e.back,e.endcap],c=[r.startcap,r.forward,r.back,r.endcap];return u.forEach(function(h){h.virtual||c.forEach(function(p){if(p.virtual)return;const g=h.intersects(p,s);g.length>0&&(g.c1=h,g.c2=p,g.s1=e,g.s2=r,a.push(g))})}),a},makeshape:function(e,n,r){const i=n.points.length,s=e.points.length,a=Y.makeline(n.points[i-1],e.points[0]),u=Y.makeline(e.points[s-1],n.points[0]),c={startcap:a,forward:e,back:n,endcap:u,bbox:Y.findbbox([a,e,n,u])};return c.intersections=function(h){return Y.shapeintersections(c,c.bbox,h,h.bbox,r)},c},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let i=rc,s=ic,a,u;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let c=0,h=r.length;c<h;c++)a=r[c],u=e.get(a),u[n]<i&&(i=u[n]),u[n]>s&&(s=u[n]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(e,n){const r=n.p1.x,i=n.p1.y,s=-po(n.p2.y-i,n.p2.x-r),a=function(u){return{x:(u.x-r)*Cn(s)-(u.y-i)*ii(s),y:(u.x-r)*ii(s)+(u.y-i)*Cn(s)}};return e.map(a)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,i=Y.align(e,n),s=function(z){return 0<=z&&z<=1};if(r===2){const z=i[0].y,O=i[1].y,B=i[2].y,D=z-2*O+B;if(D!==0){const V=-Gn(O*O-z*B),H=-z+O,Q=-(V+H)/D,R=-(-V+H)/D;return[Q,R].filter(s)}else if(O!==B&&D===0)return[(2*O-B)/(2*O-2*B)].filter(s);return[]}const a=i[0].y,u=i[1].y,c=i[2].y,h=i[3].y;let p=-a+3*u-3*c+h,g=3*a-6*u+3*c,d=-3*a+3*u,_=a;if(Y.approximately(p,0)){if(Y.approximately(g,0))return Y.approximately(d,0)?[]:[-_/d].filter(s);const z=Gn(d*d-4*g*_),O=2*g;return[(z-d)/O,(-d-z)/O].filter(s)}g/=p,d/=p,_/=p;const y=(3*d-g*g)/3,w=y/3,S=(2*g*g*g-9*g*d+27*_)/27,P=S/2,x=P*P+w*w*w;let k,N,j,E,T;if(x<0){const z=-y/3,O=z*z*z,B=Gn(O),D=-S/(2*B),V=D<-1?-1:D>1?1:D,H=cE(V),Q=mo(B),R=2*Q;return j=R*Cn(H/3)-g/3,E=R*Cn((H+pa)/3)-g/3,T=R*Cn((H+2*pa)/3)-g/3,[j,E,T].filter(s)}else{if(x===0)return k=P<0?mo(-P):-mo(P),j=2*k-g/3,E=-k-g/3,[j,E].filter(s);{const z=Gn(x);return k=mo(-P+z),N=mo(P+z),[k-N-g/3].filter(s)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],i=e[2],s=n-2*r+i;if(s!==0){const a=-Gn(r*r-n*i),u=-n+r,c=-(a+u)/s,h=-(-a+u)/s;return[c,h]}else if(r!==i&&s===0)return[(2*r-i)/(2*(r-i))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,i,s){let a,u,c,h,p=0,g=0;const d=Y.compute(e,n),_=Y.compute(e,r),y=d.x*d.x+d.y*d.y;if(i?(a=Gn(At(d.y*_.z-_.y*d.z,2)+At(d.z*_.x-_.z*d.x,2)+At(d.x*_.y-_.x*d.y,2)),u=At(y+d.z*d.z,3/2)):(a=d.x*_.y-d.y*_.x,u=At(y,3/2)),a===0||u===0)return{k:0,r:0};if(p=a/u,g=u/a,!s){const w=Y.curvature(e-.001,n,r,i,!0).k,S=Y.curvature(e+.001,n,r,i,!0).k;h=(S-p+(p-w))/2,c=(ho(S-p)+ho(p-w))/2}return{k:p,r:g,dk:h,adk:c}},inflections:function(e){if(e.length<4)return[];const n=Y.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,i=n[3].x*n[1].y,s=n[1].x*n[2].y,a=n[3].x*n[2].y,u=18*(-3*r+2*i+3*s-a),c=18*(3*r-i-3*s),h=18*(s-r);if(Y.approximately(u,0)){if(!Y.approximately(c,0)){let _=-h/c;if(0<=_&&_<=1)return[_]}return[]}const p=2*u;if(Y.approximately(p,0))return[];const g=c*c-4*u*h;if(g<0)return[];const d=Math.sqrt(g);return[(d-c)/p,-(c+d)/p].filter(function(_){return 0<=_&&_<=1})},bboxoverlap:function(e,n){const r=["x","y"],i=r.length;for(let s=0,a,u,c,h;s<i;s++)if(a=r[s],u=e[a].mid,c=n[a].mid,h=(e[a].size+n[a].size)/2,ho(u-c)>=h)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const i=e.bbox(),s=n.bbox(),a=1e5,u=r||.5;if(i.x.size+i.y.size<u&&s.x.size+s.y.size<u)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(n._t1+n._t2)/2|0)/a];let c=e.split(.5),h=n.split(.5),p=[{left:c.left,right:h.left},{left:c.left,right:h.right},{left:c.right,right:h.right},{left:c.right,right:h.left}];p=p.filter(function(d){return Y.bboxoverlap(d.left.bbox(),d.right.bbox())});let g=[];return p.length===0||(p.forEach(function(d){g=g.concat(Y.pairiteration(d.left,d.right,u))}),g=g.filter(function(d,_){return g.indexOf(d)===_})),g},getccenter:function(e,n,r){const i=n.x-e.x,s=n.y-e.y,a=r.x-n.x,u=r.y-n.y,c=i*Cn(qn)-s*ii(qn),h=i*ii(qn)+s*Cn(qn),p=a*Cn(qn)-u*ii(qn),g=a*ii(qn)+u*Cn(qn),d=(e.x+n.x)/2,_=(e.y+n.y)/2,y=(n.x+r.x)/2,w=(n.y+r.y)/2,S=d+c,P=_+h,x=y+p,k=w+g,N=Y.lli8(d,_,S,P,y,w,x,k),j=Y.dist(N,e);let E=po(e.y-N.y,e.x-N.x),T=po(n.y-N.y,n.x-N.x),z=po(r.y-N.y,r.x-N.x),O;return E<z?((E>T||T>z)&&(E+=pa),E>z&&(O=z,z=E,E=O)):z<T&&T<E?(O=z,z=E,E=O):z+=pa,N.s=E,N.e=z,N.r=j,N},numberSort:function(e,n){return e-n}};class Io{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return Y.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),i=1;i<n.length;i++)Y.expandbox(r,n[i].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(n))}),new Io(r)}}const{abs:go,min:wg,max:bg,cos:dE,sin:pE,acos:mE,sqrt:vo}=Math,gE=Math.PI;class je{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const y=[];r.forEach(function(w){["x","y","z"].forEach(function(S){typeof w[S]<"u"&&y.push(w[S])})}),r=y}let s=!1;const a=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const u=this._3d=!s&&(a===9||a===12)||n&&n[0]&&typeof n[0].z<"u",c=this.points=[];for(let y=0,w=u?3:2;y<a;y+=w){var h={x:r[y],y:r[y+1]};u&&(h.z=r[y+2]),c.push(h)}const p=this.order=c.length-1,g=this.dims=["x","y"];u&&g.push("z"),this.dimlen=g.length;const d=Y.align(c,{p1:c[0],p2:c[p]}),_=Y.dist(c[0],c[p]);this._linear=d.reduce((y,w)=>y+go(w.y),0)<_/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,i,s){if(typeof s>"u"&&(s=.5),s===0)return new je(r,r,i);if(s===1)return new je(n,r,r);const a=je.getABC(2,n,r,i,s);return new je(n,a.A,i)}static cubicFromPoints(n,r,i,s,a){typeof s>"u"&&(s=.5);const u=je.getABC(3,n,r,i,s);typeof a>"u"&&(a=Y.dist(r,u.C));const c=a*(1-s)/s,h=Y.dist(n,i),p=(i.x-n.x)/h,g=(i.y-n.y)/h,d=a*p,_=a*g,y=c*p,w=c*g,S={x:r.x-d,y:r.y-_},P={x:r.x+y,y:r.y+w},x=u.A,k={x:x.x+(S.x-x.x)/(1-s),y:x.y+(S.y-x.y)/(1-s)},N={x:x.x+(P.x-x.x)/s,y:x.y+(P.y-x.y)/s},j={x:n.x+(k.x-n.x)/s,y:n.y+(k.y-n.y)/s},E={x:i.x+(N.x-i.x)/(1-s),y:i.y+(N.y-i.y)/(1-s)};return new je(n,j,E,i)}static getUtils(){return Y}getUtils(){return je.getUtils()}static get PolyBezier(){return Io}valueOf(){return this.toString()}toString(){return Y.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,i=n[0].y,s=["M",r,i,this.order===2?"Q":"C"];for(let a=1,u=n.length;a<u;a++)s.push(n[a].x),s.push(n[a].y);return s.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=Y.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=Y.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return Y.length(this.derivative.bind(this))}static getABC(n=2,r,i,s,a=.5){const u=Y.projectionratio(a,n),c=1-u,h={x:u*r.x+c*s.x,y:u*r.y+c*s.y},p=Y.abcratio(a,n);return{A:{x:i.x+(i.x-h.x)/p,y:i.y+(i.y-h.y)/p},B:i,C:h,S:r,E:s}}getABC(n,r){r=r||this.get(n);let i=this.points[0],s=this.points[this.order];return je.getABC(this.order,i,r,s,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,i,s;r<n;r++)s=r/(n-1),i=this.compute(s),i.t=s,this._lut.push(i);return this._lut}on(n,r){r=r||5;const i=this.getLUT(),s=[];for(let a=0,u,c=0;a<i.length;a++)u=i[a],Y.dist(u,n)<r&&(s.push(u),c+=a/i.length);return s.length?t/=s.length:!1}project(n){const r=this.getLUT(),i=r.length-1,s=Y.closest(r,n),a=s.mpos,u=(a-1)/i,c=(a+1)/i,h=.1/i;let p=s.mdist,g=u,d=g,_;p+=1;for(let y;g<c+h;g+=h)_=this.compute(g),y=Y.dist(n,_),y<p&&(p=y,d=g);return d=d<0?0:d>1?1:d,_=this.compute(d),_.t=d,_.d=p,_}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?Y.computeWithRatios(n,this.points,this.ratios,this._3d):Y.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],i=n.length;for(let s=1,a,u;s<i;s++)a=n[s],u=n[s-1],r[s]={x:(i-s)/i*a.x+s/i*u.x,y:(i-s)/i*a.y+s/i*u.y};return r[i]=n[i-1],new je(r)}derivative(n){return Y.compute(n,this.dpoints[0],this._3d)}dderivative(n){return Y.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new je(Y.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return Y.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return Y.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),i=vo(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/i,y:r.x/i}}__normal3(n){const r=this.derivative(n),i=this.derivative(n+.01),s=vo(r.x*r.x+r.y*r.y+r.z*r.z),a=vo(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=s,r.y/=s,r.z/=s,i.x/=a,i.y/=a,i.z/=a;const u={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},c=vo(u.x*u.x+u.y*u.y+u.z*u.z);u.x/=c,u.y/=c,u.z/=c;const h=[u.x*u.x,u.x*u.y-u.z,u.x*u.z+u.y,u.x*u.y+u.z,u.y*u.y,u.y*u.z-u.x,u.x*u.z-u.y,u.y*u.z+u.x,u.z*u.z];return{t:n,x:h[0]*r.x+h[1]*r.y+h[2]*r.z,y:h[3]*r.x+h[4]*r.y+h[5]*r.z,z:h[6]*r.x+h[7]*r.y+h[8]*r.z}}hull(n){let r=this.points,i=[],s=[],a=0;for(s[a++]=r[0],s[a++]=r[1],s[a++]=r[2],this.order===3&&(s[a++]=r[3]);r.length>1;){i=[];for(let u=0,c,h=r.length-1;u<h;u++)c=Y.lerp(n,r[u],r[u+1]),s[a++]=c,i.push(c);r=i}return s}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const i=this.hull(n),s={left:this.order===2?new je([i[0],i[3],i[5]]):new je([i[0],i[4],i[7],i[9]]),right:this.order===2?new je([i[5],i[4],i[2]]):new je([i[9],i[8],i[6],i[3]]),span:i};return s.left._t1=Y.map(0,0,1,this._t1,this._t2),s.left._t2=Y.map(n,0,1,this._t1,this._t2),s.right._t1=Y.map(n,0,1,this._t1,this._t2),s.right._t2=Y.map(1,0,1,this._t1,this._t2),r?(r=Y.map(r,n,1,0,1),s.right.split(r).left):s}extrema(){const n={};let r=[];return this.dims.forEach((function(i){let s=function(u){return u[i]},a=this.dpoints[0].map(s);n[i]=Y.droots(a),this.order===3&&(a=this.dpoints[1].map(s),n[i]=n[i].concat(Y.droots(a))),n[i]=n[i].filter(function(u){return u>=0&&u<=1}),r=r.concat(n[i].sort(Y.numberSort))}).bind(this)),n.values=r.sort(Y.numberSort).filter(function(i,s){return r.indexOf(i)===s}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=Y.getminmax(this,i,n[i])}).bind(this)),r}overlaps(n){const r=this.bbox(),i=n.bbox();return Y.bboxoverlap(r,i)}offset(n,r){if(typeof r<"u"){const i=this.get(n),s=this.normal(n),a={c:i,n:s,x:i.x+s.x*r,y:i.y+s.y*r};return this._3d&&(a.z=i.z+s.z*r),a}if(this._linear){const i=this.normal(0),s=this.points.map(function(a){const u={x:a.x+n*i.x,y:a.y+n*i.y};return a.z&&i.z&&(u.z=a.z+n*i.z),u});return[new je(s)]}return this.reduce().map(function(i){return i._linear?i.offset(n)[0]:i.scale(n)})}simple(){if(this.order===3){const s=Y.angle(this.points[0],this.points[3],this.points[1]),a=Y.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&a<0||s<0&&a>0)return!1}const n=this.normal(0),r=this.normal(1);let i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),go(mE(i))<gE/3}reduce(){let n,r=0,i=0,s=.01,a,u=[],c=[],h=this.extrema().values;for(h.indexOf(0)===-1&&(h=[0].concat(h)),h.indexOf(1)===-1&&h.push(1),r=h[0],n=1;n<h.length;n++)i=h[n],a=this.split(r,i),a._t1=r,a._t2=i,u.push(a),r=i;return u.forEach(function(p){for(r=0,i=0;i<=1;)for(i=r+s;i<=1+s;i+=s)if(a=p.split(r,i),!a.simple()){if(i-=s,go(r-i)<s)return[];a=p.split(r,i),a._t1=Y.map(r,0,1,p._t1,p._t2),a._t2=Y.map(i,0,1,p._t1,p._t2),c.push(a),r=i;break}r<1&&(a=p.split(r,1),a._t1=Y.map(r,0,1,p._t1,p._t2),a._t2=p._t2,c.push(a))}),c}translate(n,r,i){i=typeof i=="number"?i:r;const s=this.order;let a=this.points.map((u,c)=>(1-c/s)*r+c/s*i);return new je(this.points.map((u,c)=>({x:u.x+n.x*a[c],y:u.y+n.y*a[c]})))}scale(n){const r=this.order;let i=!1;if(typeof n=="function"&&(i=n),i&&r===2)return this.raise().scale(i);const s=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):n,i?i(1):n);const u=i?i(0):n,c=i?i(1):n,h=[this.offset(0,10),this.offset(1,10)],p=[],g=Y.lli4(h[0],h[0].c,h[1],h[1].c);if(!g)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(d){const _=p[d*r]=Y.copy(a[d*r]);_.x+=(d?c:u)*h[d].n.x,_.y+=(d?c:u)*h[d].n.y}),i?([0,1].forEach(function(d){if(!(r===2&&d)){var _=a[d+1],y={x:_.x-g.x,y:_.y-g.y},w=i?i((d+1)/r):n;i&&!s&&(w=-w);var S=vo(y.x*y.x+y.y*y.y);y.x/=S,y.y/=S,p[d+1]={x:_.x+w*y.x,y:_.y+w*y.y}}}),new je(p)):([0,1].forEach(d=>{if(r===2&&d)return;const _=p[d*r],y=this.derivative(d),w={x:_.x+y.x,y:_.y+y.y};p[d+1]=Y.lli4(_,w,g,a[d+1])}),new je(p))}outline(n,r,i,s){if(r=r===void 0?n:r,this._linear){const E=this.normal(0),T=this.points[0],z=this.points[this.points.length-1];let O,B,D;i===void 0&&(i=n,s=r),O={x:T.x+E.x*n,y:T.y+E.y*n},D={x:z.x+E.x*i,y:z.y+E.y*i},B={x:(O.x+D.x)/2,y:(O.y+D.y)/2};const V=[O,B,D];O={x:T.x-E.x*r,y:T.y-E.y*r},D={x:z.x-E.x*s,y:z.y-E.y*s},B={x:(O.x+D.x)/2,y:(O.y+D.y)/2};const H=[D,B,O],Q=Y.makeline(H[2],V[0]),R=Y.makeline(V[2],H[0]),q=[Q,new je(V),R,new je(H)];return new Io(q)}const a=this.reduce(),u=a.length,c=[];let h=[],p,g=0,d=this.length();const _=typeof i<"u"&&typeof s<"u";function y(E,T,z,O,B){return function(D){const V=O/z,H=(O+B)/z,Q=T-E;return Y.map(D,0,1,E+V*Q,E+H*Q)}}a.forEach(function(E){const T=E.length();_?(c.push(E.scale(y(n,i,d,g,T))),h.push(E.scale(y(-r,-s,d,g,T)))):(c.push(E.scale(n)),h.push(E.scale(-r))),g+=T}),h=h.map(function(E){return p=E.points,p[3]?E.points=[p[3],p[2],p[1],p[0]]:E.points=[p[2],p[1],p[0]],E}).reverse();const w=c[0].points[0],S=c[u-1].points[c[u-1].points.length-1],P=h[u-1].points[h[u-1].points.length-1],x=h[0].points[0],k=Y.makeline(P,w),N=Y.makeline(S,x),j=[k].concat(c).concat([N]).concat(h);return new Io(j)}outlineshapes(n,r,i){r=r||n;const s=this.outline(n,r).curves,a=[];for(let u=1,c=s.length;u<c/2;u++){const h=Y.makeshape(s[u],s[c-u],i);h.startcap.virtual=u>1,h.endcap.virtual=u<c/2-1,a.push(h)}return a}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof je&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=wg(n.p1.x,n.p2.x),i=wg(n.p1.y,n.p2.y),s=bg(n.p1.x,n.p2.x),a=bg(n.p1.y,n.p2.y);return Y.roots(this.points,n).filter(u=>{var c=this.get(u);return Y.between(c.x,r,s)&&Y.between(c.y,i,a)})}selfintersects(n){const r=this.reduce(),i=r.length-2,s=[];for(let a=0,u,c,h;a<i;a++)c=r.slice(a,a+1),h=r.slice(a+2),u=this.curveintersects(c,h,n),s.push(...u);return s}curveintersects(n,r,i){const s=[];n.forEach(function(u){r.forEach(function(c){u.overlaps(c)&&s.push({left:u,right:c})})});let a=[];return s.forEach(function(u){const c=Y.pairiteration(u.left,u.right,i);c.length>0&&(a=a.concat(c))}),a}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,i,s){const a=(s-i)/4,u=this.get(i+a),c=this.get(s-a),h=Y.dist(n,r),p=Y.dist(n,u),g=Y.dist(n,c);return go(p-h)+go(g-h)}_iterate(n,r){let i=0,s=1,a;do{a=0,s=1;let u=this.get(i),c,h,p,g,d=!1,_=!1,y,w=s,S=1;do if(_=d,g=p,w=(i+s)/2,c=this.get(w),h=this.get(s),p=Y.getccenter(u,c,h),p.interval={start:i,end:s},d=this._error(p,u,i,s)<=n,y=_&&!d,y||(S=s),d){if(s>=1){if(p.interval.end=S=1,g=p,s>1){let x={x:p.x+p.r*dE(p.e),y:p.y+p.r*pE(p.e)};p.e+=Y.angle({x:p.x,y:p.y},x,this.get(1))}break}s=s+(s-i)/2}else s=w;while(!y&&a++<100);if(a>=100)break;g=g||p,r.push(g),i=S}while(s<1);return r}}function Cf(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function vE(e){if(Array.isArray(e))return e}function _E(e){if(Array.isArray(e))return Cf(e)}function yE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xE(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,s,a,u,c=[],h=!0,p=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(h=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);h=!0);}catch(g){p=!0,s=g}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(p)throw s}}return c}}function wE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kE(e,n){if(e==null)return{};var r,i,s=SE(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SE(e,n){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.includes(i))continue;r[i]=e[i]}return r}function NE(e,n){return vE(e)||xE(e,n)||my(e,n)||wE()}function CE(e){return _E(e)||yE(e)||my(e)||bE()}function PE(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jE(e){var n=PE(e,"string");return typeof n=="symbol"?n:n+""}function my(e,n){if(e){if(typeof e=="string")return Cf(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cf(e,n):void 0}}var EE=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(c){return{keyAccessor:c,isProp:!(c instanceof Function)}}),a=e.reduce(function(c,h){var p=c,g=h;return s.forEach(function(d,_){var y=d.keyAccessor,w=d.isProp,S;if(w){var P=g,x=P[y],k=kE(P,[y].map(jE));S=x,g=k}else S=y(g,_);_+1<s.length?(p.hasOwnProperty(S)||(p[S]={}),p=p[S]):r?(p.hasOwnProperty(S)||(p[S]=[]),p[S].push(g)):p[S]=g}),c},{});r instanceof Function&&function c(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;p===s.length?Object.keys(h).forEach(function(g){return h[g]=r(h[g])}):Object.values(h).forEach(function(g){return c(g,p+1)})}(a);var u=a;return i&&(u=[],function c(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];p.length===s.length?u.push({keys:p,vals:h}):Object.entries(h).forEach(function(g){var d=NE(g,2),_=d[0],y=d[1];return c(y,[].concat(CE(p),[_]))})}(a),n instanceof Array&&n.length===0&&u.length===1&&(u[0].keys=[])),u};function TE(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const kg=Symbol("implicit");function gy(){var e=new Zm,n=[],r=[],i=kg;function s(a){let u=e.get(a);if(u===void 0){if(i!==kg)return i;e.set(a,u=n.push(a)-1)}return r[u%r.length]}return s.domain=function(a){if(!arguments.length)return n.slice();n=[],e=new Zm;for(const u of a)e.has(u)||e.set(u,n.push(u)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return gy(n,r).unknown(i)},TE.apply(s,arguments),s}function LE(e){for(var n=e.length/6|0,r=new Array(n),i=0;i<n;)r[i]="#"+e.slice(i*6,++i*6);return r}const ME=LE("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function zE(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var OE=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;zE(OE);function Pf(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function AE(e){if(Array.isArray(e))return e}function RE(e){if(Array.isArray(e))return Pf(e)}function Sg(e,n,r){if(vy())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var s=new(e.bind.apply(e,i));return s}function cs(e,n,r){return(n=$E(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function vy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vy=function(){return!!e})()}function IE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DE(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,s,a,u,c=[],h=!0,p=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(h=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);h=!0);}catch(g){p=!0,s=g}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(p)throw s}}return c}}function BE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ng(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function oi(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ng(Object(r),!0).forEach(function(i){cs(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ng(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Do(e,n){return AE(e)||DE(e,n)||_y(e,n)||BE()}function Bt(e){return RE(e)||IE(e)||_y(e)||FE()}function UE(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function $E(e){var n=UE(e,"string");return typeof n=="symbol"?n:n+""}function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jf(e)}function _y(e,n){if(e){if(typeof e=="string")return Pf(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pf(e,n):void 0}}var HE=gy(ME);function Cg(e,n,r){!n||typeof r!="string"||e.filter(function(i){return!i[r]}).forEach(function(i){i[r]=HE(n(i))})}function ZE(e,n){var r=e.nodes,i=e.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=s.nodeFilter,u=a===void 0?function(){return!0}:a,c=s.onLoopError,h=c===void 0?function(y){throw"Invalid DAG structure! Found cycle in node path: ".concat(y.join(" -> "),".")}:c,p={};r.forEach(function(y){return p[n(y)]={data:y,out:[],depth:-1,skip:!u(y)}}),i.forEach(function(y){var w=y.source,S=y.target,P=j(w),x=j(S);if(!p.hasOwnProperty(P))throw"Missing source node with id: ".concat(P);if(!p.hasOwnProperty(x))throw"Missing target node with id: ".concat(x);var k=p[P],N=p[x];k.out.push(N);function j(E){return jf(E)==="object"?n(E):E}});var g=[];_(Object.values(p));var d=Object.assign.apply(Object,[{}].concat(Bt(Object.entries(p).filter(function(y){var w=Do(y,2),S=w[1];return!S.skip}).map(function(y){var w=Do(y,2),S=w[0],P=w[1];return cs({},S,P.depth)}))));return d;function _(y){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,P=function(){var j=y[x];if(w.indexOf(j)!==-1){var E=[].concat(Bt(w.slice(w.indexOf(j))),[j]).map(function(T){return n(T.data)});return g.some(function(T){return T.length===E.length&&T.every(function(z,O){return z===E[O]})})||(g.push(E),h(E)),1}S>j.depth&&(j.depth=S,_(j.out,[].concat(Bt(w),[j]),S+(j.skip?0:1)))},x=0,k=y.length;x<k;x++)P()}}var WE=2,nt=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Pg=function(n,r){if(!r.isShadow){var i=we(r.linkDirectionalParticles);r.graphData.links.forEach(function(s){var a=Math.round(Math.abs(i(s)));a?s.__photons=Bt(Array(a)).map(function(){return{}}):delete s.__photons})}},pl=Dh({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,Pg(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:nt},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:nt},nodeColor:{default:"color",triggerUpdate:!1,onChange:nt},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:nt},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:nt},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:nt},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:nt},linkColor:{default:"color",triggerUpdate:!1,onChange:nt},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:nt},linkWidth:{default:1,triggerUpdate:!1,onChange:nt},linkCurvature:{default:0,triggerUpdate:!1,onChange:nt},linkCanvasObject:{triggerUpdate:!1,onChange:nt},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:nt},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:nt},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:nt},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:nt},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Pg},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,i){return i===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,i),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),s(),!n.isShadow&&a(),!n.isShadow&&u(),i(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function i(){var c=we(n.nodeVisibility),h=we(n.nodeVal),p=we(n.nodeColor),g=we(n.nodeCanvasObjectMode),d=n.ctx,_=n.isShadow/n.globalScale,y=n.graphData.nodes.filter(c);d.save(),y.forEach(function(w){var S=g(w);if(n.nodeCanvasObject&&(S==="before"||S==="replace")&&(n.nodeCanvasObject(w,d,n.globalScale),S==="replace")){d.restore();return}var P=Math.sqrt(Math.max(0,h(w)||1))*n.nodeRelSize+_;d.beginPath(),d.arc(w.x,w.y,P,0,2*Math.PI,!1),d.fillStyle=p(w)||"rgba(31, 120, 180, 0.92)",d.fill(),n.nodeCanvasObject&&S==="after"&&n.nodeCanvasObject(w,n.ctx,n.globalScale)}),d.restore()}function s(){var c=we(n.linkVisibility),h=we(n.linkColor),p=we(n.linkWidth),g=we(n.linkLineDash),d=we(n.linkCurvature),_=we(n.linkCanvasObjectMode),y=n.ctx,w=n.isShadow*2,S=n.graphData.links.filter(c);S.forEach(T);var P=[],x=[],k=S;if(n.linkCanvasObject){var N=[],j=[];S.forEach(function(z){return({before:P,after:x,replace:N}[_(z)]||j).push(z)}),k=[].concat(Bt(P),x,j),P=P.concat(N)}y.save(),P.forEach(function(z){return n.linkCanvasObject(z,y,n.globalScale)}),y.restore();var E=EE(k,[h,p,g]);y.save(),Object.entries(E).forEach(function(z){var O=Do(z,2),B=O[0],D=O[1],V=!B||B==="undefined"?"rgba(0,0,0,0.15)":B;Object.entries(D).forEach(function(H){var Q=Do(H,2),R=Q[0],q=Q[1],W=(R||1)/n.globalScale+w;Object.entries(q).forEach(function(ee){var U=Do(ee,2);U[0];var X=U[1],Z=g(X[0]);y.beginPath(),X.forEach(function(J){var re=J.source,he=J.target;if(!(!re||!he||!re.hasOwnProperty("x")||!he.hasOwnProperty("x"))){y.moveTo(re.x,re.y);var ue=J.__controlPoints;ue?y[ue.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(y,Bt(ue).concat([he.x,he.y])):y.lineTo(he.x,he.y)}}),y.strokeStyle=V,y.lineWidth=W,y.setLineDash(Z||[]),y.stroke()})})}),y.restore(),y.save(),x.forEach(function(z){return n.linkCanvasObject(z,y,n.globalScale)}),y.restore();function T(z){var O=d(z);if(!O){z.__controlPoints=null;return}var B=z.source,D=z.target;if(!(!B||!D||!B.hasOwnProperty("x")||!D.hasOwnProperty("x"))){var V=Math.sqrt(Math.pow(D.x-B.x,2)+Math.pow(D.y-B.y,2));if(V>0){var H=Math.atan2(D.y-B.y,D.x-B.x),Q=V*O,R={x:(B.x+D.x)/2+Q*Math.cos(H-Math.PI/2),y:(B.y+D.y)/2+Q*Math.sin(H-Math.PI/2)};z.__controlPoints=[R.x,R.y]}else{var q=O*70;z.__controlPoints=[D.x,D.y-q,D.x+q,D.y]}}}}function a(){var c=1.6,h=.2,p=we(n.linkDirectionalArrowLength),g=we(n.linkDirectionalArrowRelPos),d=we(n.linkVisibility),_=we(n.linkDirectionalArrowColor||n.linkColor),y=we(n.nodeVal),w=n.ctx;w.save(),n.graphData.links.filter(d).forEach(function(S){var P=p(S);if(!(!P||P<0)){var x=S.source,k=S.target;if(!(!x||!k||!x.hasOwnProperty("x")||!k.hasOwnProperty("x"))){var N=Math.sqrt(Math.max(0,y(x)||1))*n.nodeRelSize,j=Math.sqrt(Math.max(0,y(k)||1))*n.nodeRelSize,E=Math.min(1,Math.max(0,g(S))),T=_(S)||"rgba(0,0,0,0.28)",z=P/c/2,O=S.__controlPoints&&Sg(je,[x.x,x.y].concat(Bt(S.__controlPoints),[k.x,k.y])),B=O?function(W){return O.get(W)}:function(W){return{x:x.x+(k.x-x.x)*W||0,y:x.y+(k.y-x.y)*W||0}},D=O?O.length():Math.sqrt(Math.pow(k.x-x.x,2)+Math.pow(k.y-x.y,2)),V=N+P+(D-N-j-P)*E,H=B(V/D),Q=B((V-P)/D),R=B((V-P*(1-h))/D),q=Math.atan2(H.y-Q.y,H.x-Q.x)-Math.PI/2;w.beginPath(),w.moveTo(H.x,H.y),w.lineTo(Q.x+z*Math.cos(q),Q.y+z*Math.sin(q)),w.lineTo(R.x,R.y),w.lineTo(Q.x-z*Math.cos(q),Q.y-z*Math.sin(q)),w.fillStyle=T,w.fill()}}}),w.restore()}function u(){var c=we(n.linkDirectionalParticles),h=we(n.linkDirectionalParticleSpeed),p=we(n.linkDirectionalParticleOffset),g=we(n.linkDirectionalParticleWidth),d=we(n.linkVisibility),_=we(n.linkDirectionalParticleColor||n.linkColor),y=n.ctx;y.save(),n.graphData.links.filter(d).forEach(function(w){var S=c(w);if(!(!w.hasOwnProperty("__photons")||!w.__photons.length)){var P=w.source,x=w.target;if(!(!P||!x||!P.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var k=h(w),N=Math.abs(p(w)),j=w.__photons||[],E=Math.max(0,g(w)/2)/Math.sqrt(n.globalScale),T=_(w)||"rgba(0,0,0,0.28)";y.fillStyle=T;var z=w.__controlPoints?Sg(je,[P.x,P.y].concat(Bt(w.__controlPoints),[x.x,x.y])):null,O=0,B=!1;j.forEach(function(D){var V=!!D.__singleHop;if(D.hasOwnProperty("__progressRatio")||(D.__progressRatio=V?0:(O+N)/S),!V&&O++,D.__progressRatio+=k,D.__progressRatio>=1)if(!V)D.__progressRatio=D.__progressRatio%1;else{B=!0;return}var H=D.__progressRatio,Q=z?z.get(H):{x:P.x+(x.x-P.x)*H||0,y:P.y+(x.y-P.y)*H||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(Q.x,Q.y,w,y,n.globalScale):(y.beginPath(),y.arc(Q.x,Q.y,E,0,2*Math.PI,!1),y.fill())}),B&&(w.__photons=w.__photons.filter(function(D){return!D.__singleHop||D.__progressRatio<=1}))}}}),y.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:aE().force("link",J3()).force("charge",lE()).force("center",t3()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&Cg(n.graphData.nodes,we(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&Cg(n.graphData.links,we(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(_){_.source=_[n.linkSource],_.target=_[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var i=n.forceLayout.force("link");i&&i.id(function(_){return _[n.nodeId]}).links(n.graphData.links);var s=n.dagMode&&ZE(n.graphData,function(_){return _[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),a=Math.max.apply(Math,Bt(Object.values(s||[]))),u=n.dagLevelDistance||n.graphData.nodes.length/(a||1)*WE*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var c=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(_){return delete _[c]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var h=["rl","bu"].includes(n.dagMode),p=function(y){return(s[y[n.nodeId]]-a/2)*u*(h?-1:1)},g=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(_){return _[g]=p(_)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?uE(function(_){var y=s[_[n.nodeId]]||-1;return(n.dagMode==="radialin"?a-y:y)*u}).strength(function(_){return n.dagNodeFilter(_)?1:0}):null);for(var d=0;d<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);d++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function yy(e,n){var r=e instanceof Array?e:[e],i=new n;return i._destructor&&i._destructor(),{linkProp:function(a){return{default:i[a](),onChange:function(c,h){r.forEach(function(p){return h[p][a](c)})},triggerUpdate:!1}},linkMethod:function(a){return function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),p=1;p<c;p++)h[p-1]=arguments[p];var g=[];return r.forEach(function(d){var _=u[d],y=_[a].apply(_,h);y!==_&&g.push(y)}),g.length?g[0]:this}}}}var VE=800,GE=4,qE=5,xy=yy("forceGraph",pl),XE=yy(["forceGraph","shadowGraph"],pl),KE=Object.assign.apply(Object,Bt(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return cs({},e,xy.linkProp(e))})).concat(Bt(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return cs({},e,XE.linkProp(e))})))),YE=Object.assign.apply(Object,Bt(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return cs({},e,xy.linkMethod(e))})));function oc(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var i=window.devicePixelRatio;n/=i,r/=i,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*i,a.height=e.height*i,!n&&!r&&a.getContext("2d").scale(i,i)});var s=cn(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/s,(e.height-r)/2/s),e.needsRedraw=!0}}function wy(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function jg(e,n,r){e.save(),wy(e),e.clearRect(0,0,n,r),e.restore()}var QE=Dh({props:oi({width:{default:window.innerWidth,onChange:function(n,r){return oc(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return oc(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(s){return(s||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(i),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function i(s){var a=s.type,u=s.objs;u.filter(function(c){if(!c.hasOwnProperty("__indexColor"))return!0;var h=r.colorTracker.lookup(c.__indexColor);return!h||!h.hasOwnProperty("d")||h.d!==c}).forEach(function(c){c.__indexColor=r.colorTracker.register({type:a,d:c})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(i,s,a){return n(i,i.__indexColor,s,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(i,s,a){return n(i,i.__indexColor,s,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},KE),aliases:{stopAnimation:"pauseAnimation"},methods:oi({graph2ScreenCoords:function(n,r,i){var s=cn(n.canvas);return{x:r*s.k+s.x,y:i*s.k+s.y}},screen2GraphCoords:function(n,r,i){var s=cn(n.canvas);return{x:(r-s.x)/s.k,y:(i-s.y)/s.k}},centerAt:function(n,r,i,s){if(!n.canvas)return null;if(r!==void 0||i!==void 0){var a=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return s?n.tweenGroup.add(new Ym(u()).to(a,s).easing(Ar.Quadratic.Out).onUpdate(c).start()):c(a),this}return u();function u(){var h=cn(n.canvas);return{x:(n.width/2-h.x)/h.k,y:(n.height/2-h.y)/h.k}}function c(h){var p=h.x,g=h.y;n.zoom.translateTo(n.zoom.__baseElem,p===void 0?u().x:p,g===void 0?u().y:g),n.needsRedraw=!0}},zoom:function(n,r,i){if(!n.canvas)return null;if(r!==void 0)return i?n.tweenGroup.add(new Ym({k:s()}).to({k:r},i).easing(Ar.Quadratic.Out).onUpdate(function(u){var c=u.k;return a(c)}).start()):a(r),this;return s();function s(){return cn(n.canvas).k}function a(u){n.zoom.scaleTo(n.zoom.__baseElem,u),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,a=new Array(s>3?s-3:0),u=3;u<s;u++)a[u-3]=arguments[u];var c=this.getGraphBbox.apply(this,a);if(c){var h={x:(c.x[0]+c.x[1])/2,y:(c.y[0]+c.y[1])/2},p=Math.max(1e-12,Math.min(1e12,(n.width-i*2)/(c.x[1]-c.x[0]),(n.height-i*2)/(c.y[1]-c.y[0])));this.centerAt(h.x,h.y,r),this.zoom(p,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=we(n.nodeVal),s=function(c){return Math.sqrt(Math.max(0,i(c)||1))*n.nodeRelSize},a=n.graphData.nodes.filter(r).map(function(u){return{x:u.x,y:u.y,r:s(u)}});return a.length?{x:[Gm(a,function(u){return u.x-u.r}),Vm(a,function(u){return u.x+u.r})],y:[Gm(a,function(u){return u.y-u.r}),Vm(a,function(u){return u.y+u.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},YE),stateInit:function(){return{lastSetZoom:1,zoom:uP(),forceGraph:new pl,shadowGraph:new pl().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new zj,tweenGroup:new H_}},init:function(n,r){var i=this;n.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",n.appendChild(s),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),s.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var a=r.canvas.getContext("2d"),u=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),c={x:-1e12,y:-1e12},h=function(){var d=null,_=window.devicePixelRatio,y=c.x>0&&c.y>0?u.getImageData(c.x*_,c.y*_,1,1):null;return y&&(d=r.colorTracker.lookup(y.data)),d};Dt(r.canvas).call(yN().subject(function(){if(!r.enableNodeDrag)return null;var g=h();return g&&g.type==="Node"?g.d:null}).on("start",function(g){var d=g.subject;d.__initialDragPos={x:d.x,y:d.y,fx:d.fx,fy:d.fy},g.active||(d.fx=d.x,d.fy=d.y),r.canvas.classList.add("grabbable")}).on("drag",function(g){var d=g.subject,_=d.__initialDragPos,y=g,w=cn(r.canvas).k,S={x:_.x+(y.x-_.x)/w-d.x,y:_.y+(y.y-_.y)/w-d.y};["x","y"].forEach(function(P){return d["f".concat(P)]=d[P]=_[P]+(y[P]-_[P])/w}),!(!d.__dragged&&qE>=Math.sqrt(dP(["x","y"].map(function(P){return Math.pow(g[P]-_[P],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,d.__dragged=!0,r.onNodeDrag(d,S))}).on("end",function(g){var d=g.subject,_=d.__initialDragPos,y={x:d.x-_.x,y:d.y-_.y};_.fx===void 0&&(d.fx=void 0),_.fy===void 0&&(d.fy=void 0),delete d.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,d.__dragged&&(delete d.__dragged,r.onNodeDragEnd(d,y))})),r.zoom(r.zoom.__baseElem=Dt(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(g){return!g.button&&r.enableZoomPanInteraction&&(g.type!=="wheel"||we(r.enableZoomInteraction)(g))&&(g.type==="wheel"||we(r.enablePanInteraction)(g))}).on("zoom",function(g){var d=g.transform;[a,u].forEach(function(_){wy(_),_.translate(d.x,d.y),_.scale(d.k,d.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(oi(oi({},d),i.centerAt())),r.needsRedraw=!0}).on("end",function(g){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(oi(oi({},g.transform),i.centerAt()))}),oc(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){cn(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=GE/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new e3(s),["pointermove","pointerdown"].forEach(function(g){return s.addEventListener(g,function(d){g==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=d),!r.isPointerDragging&&d.type==="pointermove"&&r.onBackgroundClick&&(d.pressure>0||r.isPointerPressed)&&(d.pointerType==="mouse"||d.movementX===void 0||[d.movementX,d.movementY].some(function(w){return Math.abs(w)>1}))&&(r.isPointerDragging=!0);var _=y(s);c.x=d.pageX-_.left,c.y=d.pageY-_.top;function y(w){var S=w.getBoundingClientRect(),P=window.pageXOffset||document.documentElement.scrollLeft,x=window.pageYOffset||document.documentElement.scrollTop;return{top:S.top+x,left:S.left+P}}},{passive:!0})}),s.addEventListener("pointerup",function(g){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var d=[g,r.pointerDownEvent];requestAnimationFrame(function(){if(g.button===0)if(r.hoverObj){var _=r["on".concat(r.hoverObj.type,"Click")];_&&_.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,d);if(g.button===2)if(r.hoverObj){var y=r["on".concat(r.hoverObj.type,"RightClick")];y&&y.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,d)})}},{passive:!0}),s.addEventListener("contextmenu",function(g){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(g.preventDefault(),!1)}),r.forceGraph(a),r.shadowGraph(u);var p=FP(function(){jg(u,r.width,r.height),r.shadowGraph.linkWidth(function(d){return we(r.linkWidth)(d)+r.linkHoverPrecision});var g=cn(r.canvas);r.shadowGraph.globalScale(g.k).tickFrame()},VE);r.flushShadowCanvas=p.flush,(this._animationCycle=function g(){var d=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(N){return N.__photons&&N.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var _=r.isPointerDragging?null:h();if(_!==r.hoverObj){var y=r.hoverObj,w=y?y.type:null,S=_?_.type:null;if(w&&w!==S){var P=r["on".concat(w,"Hover")];P&&P(null,y.d)}if(S){var x=r["on".concat(S,"Hover")];x&&x(_.d,w===S?y.d:null)}r.tooltip.content(_&&we(r["".concat(_.type.toLowerCase(),"Label")])(_.d)||null),r.canvas.classList[(_&&r["on".concat(S,"Click")]||!_&&r.onBackgroundClick)&&we(r.showPointerCursor)(_==null?void 0:_.d)?"add":"remove"]("clickable"),r.hoverObj=_}d&&p()}if(d){jg(a,r.width,r.height);var k=cn(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(a,k),r.forceGraph.globalScale(k).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(a,k)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(g)})()},update:function(n){}}),by={exports:{}},JE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eT=JE,tT=eT;function ky(){}function Sy(){}Sy.resetWarningCache=ky;var nT=function(){function e(i,s,a,u,c,h){if(h!==tT){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function n(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Sy,resetWarningCache:ky};return r.PropTypes=r,r};by.exports=nT();var rT=by.exports;const I=Ef(rT),$l={width:I.number,height:I.number,graphData:I.shape({nodes:I.arrayOf(I.object).isRequired,links:I.arrayOf(I.object).isRequired}),backgroundColor:I.string,nodeRelSize:I.number,nodeId:I.string,nodeLabel:I.oneOfType([I.string,I.func]),nodeVal:I.oneOfType([I.number,I.string,I.func]),nodeVisibility:I.oneOfType([I.bool,I.string,I.func]),nodeColor:I.oneOfType([I.string,I.func]),nodeAutoColorBy:I.oneOfType([I.string,I.func]),onNodeHover:I.func,onNodeClick:I.func,linkSource:I.string,linkTarget:I.string,linkLabel:I.oneOfType([I.string,I.func]),linkVisibility:I.oneOfType([I.bool,I.string,I.func]),linkColor:I.oneOfType([I.string,I.func]),linkAutoColorBy:I.oneOfType([I.string,I.func]),linkWidth:I.oneOfType([I.number,I.string,I.func]),linkCurvature:I.oneOfType([I.number,I.string,I.func]),linkDirectionalArrowLength:I.oneOfType([I.number,I.string,I.func]),linkDirectionalArrowColor:I.oneOfType([I.string,I.func]),linkDirectionalArrowRelPos:I.oneOfType([I.number,I.string,I.func]),linkDirectionalParticles:I.oneOfType([I.number,I.string,I.func]),linkDirectionalParticleSpeed:I.oneOfType([I.number,I.string,I.func]),linkDirectionalParticleOffset:I.oneOfType([I.number,I.string,I.func]),linkDirectionalParticleWidth:I.oneOfType([I.number,I.string,I.func]),linkDirectionalParticleColor:I.oneOfType([I.string,I.func]),onLinkHover:I.func,onLinkClick:I.func,dagMode:I.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:I.number,dagNodeFilter:I.func,onDagError:I.func,d3AlphaMin:I.number,d3AlphaDecay:I.number,d3VelocityDecay:I.number,warmupTicks:I.number,cooldownTicks:I.number,cooldownTime:I.number,onEngineTick:I.func,onEngineStop:I.func,getGraphBbox:I.func},Ny={zoomToFit:I.func,onNodeRightClick:I.func,onNodeDrag:I.func,onNodeDragEnd:I.func,onLinkRightClick:I.func,linkHoverPrecision:I.number,onBackgroundClick:I.func,onBackgroundRightClick:I.func,showPointerCursor:I.oneOfType([I.bool,I.func]),enablePointerInteraction:I.bool,enableNodeDrag:I.bool},Vh={showNavInfo:I.bool,nodeOpacity:I.number,nodeResolution:I.number,nodeThreeObject:I.oneOfType([I.object,I.string,I.func]),nodeThreeObjectExtend:I.oneOfType([I.bool,I.string,I.func]),nodePositionUpdate:I.func,linkOpacity:I.number,linkResolution:I.number,linkCurveRotation:I.oneOfType([I.number,I.string,I.func]),linkMaterial:I.oneOfType([I.object,I.string,I.func]),linkThreeObject:I.oneOfType([I.object,I.string,I.func]),linkThreeObjectExtend:I.oneOfType([I.bool,I.string,I.func]),linkPositionUpdate:I.func,linkDirectionalArrowResolution:I.number,linkDirectionalParticleResolution:I.number,linkDirectionalParticleThreeObject:I.oneOfType([I.object,I.string,I.func]),forceEngine:I.oneOf(["d3","ngraph"]),ngraphPhysics:I.object,numDimensions:I.oneOf([1,2,3])},iT=Object.assign({},$l,Ny,{linkLineDash:I.oneOfType([I.arrayOf(I.number),I.string,I.func]),nodeCanvasObjectMode:I.oneOfType([I.string,I.func]),nodeCanvasObject:I.func,nodePointerAreaPaint:I.func,linkCanvasObjectMode:I.oneOfType([I.string,I.func]),linkCanvasObject:I.func,linkPointerAreaPaint:I.func,linkDirectionalParticleCanvasObject:I.func,autoPauseRedraw:I.bool,minZoom:I.number,maxZoom:I.number,enableZoomInteraction:I.oneOfType([I.bool,I.func]),enablePanInteraction:I.oneOfType([I.bool,I.func]),onZoom:I.func,onZoomEnd:I.func,onRenderFramePre:I.func,onRenderFramePost:I.func});Object.assign({},$l,Ny,Vh,{enableNavigationControls:I.bool,controlType:I.oneOf(["trackball","orbit","fly"]),rendererConfig:I.object,extraRenderers:I.arrayOf(I.shape({render:I.func.isRequired}))});Object.assign({},$l,Vh,{nodeDesc:I.oneOfType([I.string,I.func]),linkDesc:I.oneOfType([I.string,I.func])});Object.assign({},$l,Vh,{markerAttrs:I.object,yOffset:I.number,glScale:I.number});const Gh=Lk(QE,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});Gh.displayName="ForceGraph2D";Gh.propTypes=iT;const oT=()=>{const[e,n]=M.useState({nodes:[],links:[]}),[r,i]=M.useState(!0),s=Hn(),a=M.useRef(),u=M.useRef(null),[c,h]=M.useState({width:800,height:600});M.useEffect(()=>{const y=()=>{u.current&&h({width:u.current.offsetWidth,height:u.current.offsetHeight})};return window.addEventListener("resize",y),y(),()=>window.removeEventListener("resize",y)},[]),M.useEffect(()=>{(async()=>{try{const P=(await(await fetch("/api/coherence/feed?limit=30")).json()).events||[];if(P.length===0){i(!1);return}const x=P.slice(0,15).map(B=>fetch(`/api/events/${B.event_id||B.id}`).then(D=>D.json()).catch(D=>(console.error(`Failed to fetch event ${B.event_id}:`,D),null))),N=(await Promise.all(x)).filter(B=>B&&B.event),j=new Map,E=new Map;N.forEach(B=>{const D=B.event,V=D.event_id||D.id;E.set(V,D),(B.entities||[]).forEach(Q=>{const R=Q.id,q=Q.canonical_name;R&&q&&(j.has(R)||j.set(R,{entity:Q,eventIds:[]}),j.get(R).eventIds.push(V))})});const T=[],z=[],O=new Set;j.forEach(({entity:B,eventIds:D},V)=>{const H=B.entity_type==="PERSON";if(D.length>=2||H){const R=H?25:18,q=Math.min(D.length*5,25);let W="#a78bfa";B.entity_type==="ORGANIZATION"&&(W="#f59e0b"),B.entity_type==="LOCATION"&&(W="#10b981"),T.push({id:V,name:B.canonical_name,type:"entity",val:R+q,color:W,imgUrl:B.image_url,data:B,eventIds:D}),O.add(V)}}),E.forEach((B,D)=>{T.push({id:D,name:B.title||"Untitled Event",type:"event",val:1,color:"#3b82f6",data:B}),O.add(D)}),j.forEach(({eventIds:B},D)=>{O.has(D)&&B.forEach(V=>{O.has(V)&&z.push({source:D,target:V,color:"rgba(167, 139, 250, 0.3)",width:1})})}),T.forEach(B=>{if(B.imgUrl){const D=new Image;D.src=B.imgUrl,D.onload=()=>{B.img=D}}}),n({nodes:T,links:z}),console.log(`GraphPage: Loaded ${T.length} nodes and ${z.length} links`)}catch(w){console.error("Error fetching graph data:",w)}finally{i(!1)}})()},[]);const p=M.useCallback(y=>{var w;if(y.type==="event"){const S=((w=y.data)==null?void 0:w.event_id)||y.id;s(`/event/${S}`)}},[s]);M.useEffect(()=>{if(a.current&&e.nodes.length>0){const y=a.current;y.d3Force("charge").strength(w=>w.type==="entity"?-600:-200),y.d3Force("link").distance(()=>100).strength(.6)}},[e.nodes]);const g=M.useCallback((y,w,S)=>{if(typeof y.x!="number"||typeof y.y!="number"||!isFinite(y.x)||!isFinite(y.y))return;const P=y.name,x=12/S;if(y.type==="entity"){const k=y.val;if(y.img){w.save(),w.beginPath(),w.arc(y.x,y.y,k,0,2*Math.PI,!1),w.fillStyle=y.color||"#a78bfa",w.fill(),w.clip();try{const N=y.img.width,j=y.img.height,E=k*2,T=Math.max(E/N,E/j),z=N*T,O=j*T,B=(E-z)/2,D=(E-O)/2;w.drawImage(y.img,y.x-k+B,y.y-k+D,z,O)}catch{w.fillStyle=y.color,w.fill()}w.restore()}else w.beginPath(),w.arc(y.x,y.y,k,0,2*Math.PI,!1),w.fillStyle=y.color||"#a78bfa",w.fill();w.beginPath(),w.arc(y.x,y.y,k,0,2*Math.PI,!1),w.lineWidth=1.5/S,w.strokeStyle=y.color||"#8b5cf6",w.stroke(),w.font=`${x}px Sans-Serif`,w.textAlign="center",w.textBaseline="middle",w.fillStyle="rgba(255, 255, 255, 0.9)",w.fillText(P,y.x,y.y+k+x+2)}else if(y.type==="event"){w.font=`${x*.8}px Sans-Serif`,w.textAlign="center",w.textBaseline="middle";const k=150/S,N=x*.8*1.2,j=P.split(" "),E=[];let T="";for(const Q of j){const R=T+(T?" ":"")+Q;w.measureText(R).width>k&&T?(E.push(T),T=Q):T=R}T&&E.push(T);const z=E.slice(0,2);E.length>2&&(z[1]=z[1].substring(0,z[1].length-3)+"...");const O=6/S;let B=0;for(const Q of z){const R=w.measureText(Q);B=Math.max(B,R.width)}const D=B+O*2,V=z.length*N+O*2;w.fillStyle="rgba(30, 58, 138, 0.4)",w.fillRect(y.x-D/2,y.y-V/2,D,V),w.strokeStyle="rgba(59, 130, 246, 0.5)",w.lineWidth=1/S,w.strokeRect(y.x-D/2,y.y-V/2,D,V),w.fillStyle="rgba(255, 255, 255, 0.85)";let H=y.y-(z.length-1)*N/2;for(const Q of z)w.fillText(Q,y.x,H),H+=N}},[e.nodes]),d=M.useCallback(y=>y.color||"rgba(167, 139, 250, 0.2)",[]),_=M.useCallback(y=>y.width||1,[]);return m.jsxs("div",{className:"h-screen flex flex-col bg-gray-900 text-white",children:[m.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center z-10 bg-gray-900",children:[m.jsx("h1",{className:"text-xl font-bold",children:"Knowledge Graph: Entities & Events"}),m.jsxs("div",{className:"text-sm text-gray-400",children:[m.jsxs("span",{className:"mr-4",children:[m.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-purple-400 mr-1"})," People"]}),m.jsxs("span",{className:"mr-4",children:[m.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-orange-400 mr-1"})," Organizations"]}),m.jsxs("span",{className:"mr-4",children:[m.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-green-400 mr-1"})," Locations"]}),m.jsxs("span",{children:[m.jsx("span",{className:"inline-block w-3 h-3 bg-blue-500 mr-1"})," Events (click to view)"]})]})]}),m.jsx("div",{ref:u,className:"flex-1 relative overflow-hidden",style:{minHeight:"500px"},children:r?m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):e.nodes.length===0?m.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:"No data found to visualize."}):m.jsx(Gh,{ref:a,width:c.width,height:c.height,graphData:e,nodeCanvasObject:g,nodePointerAreaPaint:(y,w,S)=>{S.fillStyle=w,y.type==="entity"?(S.beginPath(),S.arc(y.x,y.y,y.val,0,2*Math.PI,!1),S.fill()):S.fillRect(y.x-120/2,y.y-40/2,120,40)},onNodeClick:p,backgroundColor:"#111827",linkColor:d,linkWidth:_,d3AlphaDecay:.02,d3VelocityDecay:.3,cooldownTicks:100,nodeRelSize:1})})]})};function sT({locations:e}){const n=u_();return M.useEffect(()=>{if(e.length>0){const r=e.map(i=>[i.latitude,i.longitude]);n.fitBounds(r,{padding:[50,50]})}},[e,n]),null}const aT=()=>{const[e,n]=M.useState({locations:[],connections:[],total_locations:0,total_connections:0}),[r,i]=M.useState(!1),[s,a]=M.useState(null),u=Hn();M.useEffect(()=>{i(!0),(async()=>{try{const y=await(await fetch("/api/map/locations?limit=100")).json();y.status==="success"&&(n(y),console.log(`MapPage: Loaded ${y.total_locations} locations and ${y.total_connections} connections`))}catch(_){console.error("Error fetching map data:",_)}finally{i(!1)}})()},[]);const c=new Map;e.locations.forEach(d=>c.set(d.id,d));const h=d=>d>=5?"#ef4444":d>=3?"#f59e0b":d>=2?"#eab308":"#3b82f6",p=d=>Math.min(8+d*3,25),g=M.useMemo(()=>{const d=new Map;return e.locations.forEach(_=>{const y=h(_.event_count),w=p(_.event_count)*2;_.thumbnail?d.set(_.id,Ur.divIcon({className:"custom-location-marker",html:`
                        <div style="
                            width: ${w}px;
                            height: ${w}px;
                            border-radius: 50%;
                            border: 3px solid ${y};
                            overflow: hidden;
                            background: white;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
                        ">
                            <img
                                src="${_.thumbnail}"
                                style="
                                    width: 100%;
                                    height: 100%;
                                    object-fit: cover;
                                "
                                onerror="this.style.display='none'"
                            />
                        </div>
                    `,iconSize:[w,w],iconAnchor:[w/2,w/2]})):d.set(_.id,Ur.divIcon({className:"custom-location-marker",html:`
                        <div style="
                            width: ${w}px;
                            height: ${w}px;
                            border-radius: 50%;
                            background: ${y};
                            border: 3px solid white;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
                        "></div>
                    `,iconSize:[w,w],iconAnchor:[w/2,w/2]}))}),d},[e.locations]);return m.jsxs("div",{className:"h-screen flex flex-col bg-gray-900 text-white",children:[m.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center z-10 bg-gray-900",children:[m.jsx("h1",{className:"text-xl font-bold",children:"News Map: Global Story Locations"}),m.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-4",children:[e.total_locations>0&&m.jsxs("span",{children:[e.total_locations," locations  ",e.total_connections," connections"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),m.jsx("span",{className:"text-xs",children:"1-2 events"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),m.jsx("span",{className:"text-xs",children:"3-4 events"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),m.jsx("span",{className:"text-xs",children:"5+ events"})]})]})]})]}),m.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[r&&m.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000] bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),m.jsx("span",{className:"text-sm",children:"Loading locations..."})]}),m.jsxs(c_,{center:[20,0],zoom:2,className:"h-full w-full",style:{background:"#111827"},children:[m.jsx(f_,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'}),e.locations.length>0&&m.jsx(sT,{locations:e.locations}),e.locations.length>0&&e.connections.map((d,_)=>{const y=c.get(d.source),w=c.get(d.target);return!y||!w?null:m.jsx(ik,{positions:[[y.latitude,y.longitude],[w.latitude,w.longitude]],pathOptions:{color:"#a78bfa",weight:Math.min(d.shared_event_count,4),opacity:.3+d.shared_event_count*.1}},_)}),e.locations.length>0&&e.locations.map(d=>{const _=g.get(d.id);return _?m.jsx(sf,{position:[d.latitude,d.longitude],icon:_,eventHandlers:{mouseover:()=>a(d.id),mouseout:()=>a(null)},children:m.jsx(af,{children:m.jsxs("div",{className:"text-gray-900 max-w-xs",children:[m.jsx("h3",{className:"font-bold text-lg mb-1",children:d.name}),d.description&&m.jsx("p",{className:"text-sm text-gray-600 mb-2",children:d.description}),m.jsxs("div",{className:"text-sm font-semibold mb-2",children:[d.event_count," ",d.event_count===1?"event":"events"]}),m.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:d.events.map(y=>m.jsxs("div",{className:"p-2 bg-gray-100 rounded hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>u(`/event/${y.id.replace("ev_","")}`),children:[m.jsx("div",{className:"text-sm font-medium line-clamp-2",children:y.title}),y.status&&m.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Status: ",y.status]})]},y.id))})]})})},d.id):null})]})]})]})};function lT(){return m.jsx(bb,{basename:"/app",children:m.jsx(jb,{children:m.jsxs(pb,{children:[m.jsx(Xn,{path:"/",element:m.jsx(Mb,{})}),m.jsx(Xn,{path:"/archive",element:m.jsx(hk,{})}),m.jsx(Xn,{path:"/graph",element:m.jsx(oT,{})}),m.jsx(Xn,{path:"/map",element:m.jsx(aT,{})}),m.jsx(Xn,{path:"/story/:storyId",element:m.jsx(wm,{})}),m.jsx(Xn,{path:"/story/:storyId/:slug",element:m.jsx(wm,{})}),m.jsx(Xn,{path:"/event/:eventSlug",element:m.jsx(fk,{})})]})})})}sc.createRoot(document.getElementById("root")).render(m.jsx(Rn.StrictMode,{children:m.jsx(lT,{})}));
