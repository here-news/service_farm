function Vb(e,n){for(var r=0;r<n.length;r++){const i=n[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var As=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function la(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ky={exports:{}},wu={},Qy={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),qb=Symbol.for("react.portal"),Gb=Symbol.for("react.fragment"),Xb=Symbol.for("react.strict_mode"),Yb=Symbol.for("react.profiler"),Kb=Symbol.for("react.provider"),Qb=Symbol.for("react.context"),Jb=Symbol.for("react.forward_ref"),e2=Symbol.for("react.suspense"),t2=Symbol.for("react.memo"),n2=Symbol.for("react.lazy"),Am=Symbol.iterator;function r2(e){return e===null||typeof e!="object"?null:(e=Am&&e[Am]||e["@@iterator"],typeof e=="function"?e:null)}var Jy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ev=Object.assign,tv={};function Co(e,n,r){this.props=e,this.context=n,this.refs=tv,this.updater=r||Jy}Co.prototype.isReactComponent={};Co.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nv(){}nv.prototype=Co.prototype;function rd(e,n,r){this.props=e,this.context=n,this.refs=tv,this.updater=r||Jy}var id=rd.prototype=new nv;id.constructor=rd;ev(id,Co.prototype);id.isPureReactComponent=!0;var Om=Array.isArray,rv=Object.prototype.hasOwnProperty,od={current:null},iv={key:!0,ref:!0,__self:!0,__source:!0};function ov(e,n,r){var i,o={},a=null,l=null;if(n!=null)for(i in n.ref!==void 0&&(l=n.ref),n.key!==void 0&&(a=""+n.key),n)rv.call(n,i)&&!iv.hasOwnProperty(i)&&(o[i]=n[i]);var c=arguments.length-2;if(c===1)o.children=r;else if(1<c){for(var f=Array(c),h=0;h<c;h++)f[h]=arguments[h+2];o.children=f}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)o[i]===void 0&&(o[i]=c[i]);return{$$typeof:ua,type:e,key:a,ref:l,props:o,_owner:od.current}}function i2(e,n){return{$$typeof:ua,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function sd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ua}function o2(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return n[r]})}var Im=/\/+/g;function Nc(e,n){return typeof e=="object"&&e!==null&&e.key!=null?o2(""+e.key):n.toString(36)}function yl(e,n,r,i,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ua:case qb:l=!0}}if(l)return l=e,o=o(l),e=i===""?"."+Nc(l,0):i,Om(o)?(r="",e!=null&&(r=e.replace(Im,"$&/")+"/"),yl(o,n,r,"",function(h){return h})):o!=null&&(sd(o)&&(o=i2(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Im,"$&/")+"/")+e)),n.push(o)),1;if(l=0,i=i===""?".":i+":",Om(e))for(var c=0;c<e.length;c++){a=e[c];var f=i+Nc(a,c);l+=yl(a,n,r,f,o)}else if(f=r2(e),typeof f=="function")for(e=f.call(e),c=0;!(a=e.next()).done;)a=a.value,f=i+Nc(a,c++),l+=yl(a,n,r,f,o);else if(a==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function Ha(e,n,r){if(e==null)return e;var i=[],o=0;return yl(e,i,"","",function(a){return n.call(r,a,o++)}),i}function s2(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Pt={current:null},vl={transition:null},a2={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:vl,ReactCurrentOwner:od};function sv(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Ha,forEach:function(e,n,r){Ha(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return Ha(e,function(){n++}),n},toArray:function(e){return Ha(e,function(n){return n})||[]},only:function(e){if(!sd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Co;Se.Fragment=Gb;Se.Profiler=Yb;Se.PureComponent=rd;Se.StrictMode=Xb;Se.Suspense=e2;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a2;Se.act=sv;Se.cloneElement=function(e,n,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=ev({},e.props),o=e.key,a=e.ref,l=e._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,l=od.current),n.key!==void 0&&(o=""+n.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in n)rv.call(n,f)&&!iv.hasOwnProperty(f)&&(i[f]=n[f]===void 0&&c!==void 0?c[f]:n[f])}var f=arguments.length-2;if(f===1)i.children=r;else if(1<f){c=Array(f);for(var h=0;h<f;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:ua,type:e.type,key:o,ref:a,props:i,_owner:l}};Se.createContext=function(e){return e={$$typeof:Qb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kb,_context:e},e.Consumer=e};Se.createElement=ov;Se.createFactory=function(e){var n=ov.bind(null,e);return n.type=e,n};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:Jb,render:e}};Se.isValidElement=sd;Se.lazy=function(e){return{$$typeof:n2,_payload:{_status:-1,_result:e},_init:s2}};Se.memo=function(e,n){return{$$typeof:t2,type:e,compare:n===void 0?null:n}};Se.startTransition=function(e){var n=vl.transition;vl.transition={};try{e()}finally{vl.transition=n}};Se.unstable_act=sv;Se.useCallback=function(e,n){return Pt.current.useCallback(e,n)};Se.useContext=function(e){return Pt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Pt.current.useDeferredValue(e)};Se.useEffect=function(e,n){return Pt.current.useEffect(e,n)};Se.useId=function(){return Pt.current.useId()};Se.useImperativeHandle=function(e,n,r){return Pt.current.useImperativeHandle(e,n,r)};Se.useInsertionEffect=function(e,n){return Pt.current.useInsertionEffect(e,n)};Se.useLayoutEffect=function(e,n){return Pt.current.useLayoutEffect(e,n)};Se.useMemo=function(e,n){return Pt.current.useMemo(e,n)};Se.useReducer=function(e,n,r){return Pt.current.useReducer(e,n,r)};Se.useRef=function(e){return Pt.current.useRef(e)};Se.useState=function(e){return Pt.current.useState(e)};Se.useSyncExternalStore=function(e,n,r){return Pt.current.useSyncExternalStore(e,n,r)};Se.useTransition=function(){return Pt.current.useTransition()};Se.version="18.3.1";Qy.exports=Se;var I=Qy.exports;const vi=la(I),l2=Vb({__proto__:null,default:vi},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=I,c2=Symbol.for("react.element"),f2=Symbol.for("react.fragment"),h2=Object.prototype.hasOwnProperty,d2=u2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p2={key:!0,ref:!0,__self:!0,__source:!0};function av(e,n,r){var i,o={},a=null,l=null;r!==void 0&&(a=""+r),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(l=n.ref);for(i in n)h2.call(n,i)&&!p2.hasOwnProperty(i)&&(o[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps,n)o[i]===void 0&&(o[i]=n[i]);return{$$typeof:c2,type:e,key:a,ref:l,props:o,_owner:d2.current}}wu.Fragment=f2;wu.jsx=av;wu.jsxs=av;Ky.exports=wu;var v=Ky.exports,Sf={},lv={exports:{}},Xt={},uv={exports:{}},cv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(Z,Q){var j=Z.length;Z.push(Q);e:for(;0<j;){var ee=j-1>>>1,oe=Z[ee];if(0<o(oe,Q))Z[ee]=Q,Z[j]=oe,j=ee;else break e}}function r(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var Q=Z[0],j=Z.pop();if(j!==Q){Z[0]=j;e:for(var ee=0,oe=Z.length,O=oe>>>1;ee<O;){var fe=2*(ee+1)-1,pe=Z[fe],ae=fe+1,se=Z[ae];if(0>o(pe,j))ae<oe&&0>o(se,pe)?(Z[ee]=se,Z[ae]=j,ee=ae):(Z[ee]=pe,Z[fe]=j,ee=fe);else if(ae<oe&&0>o(se,j))Z[ee]=se,Z[ae]=j,ee=ae;else break e}}return Q}function o(Z,Q){var j=Z.sortIndex-Q.sortIndex;return j!==0?j:Z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,d=null,g=3,y=!1,w=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Z){for(var Q=r(h);Q!==null;){if(Q.callback===null)i(h);else if(Q.startTime<=Z)i(h),Q.sortIndex=Q.expirationTime,n(f,Q);else break;Q=r(h)}}function N(Z){if(S=!1,C(Z),!w)if(r(f)!==null)w=!0,q(M);else{var Q=r(h);Q!==null&&J(N,Q.startTime-Z)}}function M(Z,Q){w=!1,S&&(S=!1,x(A),A=-1),y=!0;var j=g;try{for(C(Q),d=r(f);d!==null&&(!(d.expirationTime>Q)||Z&&!H());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,g=d.priorityLevel;var oe=ee(d.expirationTime<=Q);Q=e.unstable_now(),typeof oe=="function"?d.callback=oe:d===r(f)&&i(f),C(Q)}else i(f);d=r(f)}if(d!==null)var O=!0;else{var fe=r(h);fe!==null&&J(N,fe.startTime-Q),O=!1}return O}finally{d=null,g=j,y=!1}}var T=!1,z=null,A=-1,$=5,F=-1;function H(){return!(e.unstable_now()-F<$)}function U(){if(z!==null){var Z=e.unstable_now();F=Z;var Q=!0;try{Q=z(!0,Z)}finally{Q?Y():(T=!1,z=null)}}else T=!1}var Y;if(typeof k=="function")Y=function(){k(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=U,Y=function(){G.postMessage(null)}}else Y=function(){P(U,0)};function q(Z){z=Z,T||(T=!0,Y())}function J(Z,Q){A=P(function(){Z(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,q(M))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var j=g;g=Q;try{return Z()}finally{g=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,Q){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var j=g;g=Z;try{return Q()}finally{g=j}},e.unstable_scheduleCallback=function(Z,Q,j){var ee=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ee+j:ee):j=ee,Z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=j+oe,Z={id:m++,callback:Q,priorityLevel:Z,startTime:j,expirationTime:oe,sortIndex:-1},j>ee?(Z.sortIndex=j,n(h,Z),r(f)===null&&Z===r(h)&&(S?(x(A),A=-1):S=!0,J(N,j-ee))):(Z.sortIndex=oe,n(f,Z),w||y||(w=!0,q(M))),Z},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(Z){var Q=g;return function(){var j=g;g=Q;try{return Z.apply(this,arguments)}finally{g=j}}}})(cv);uv.exports=cv;var m2=uv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=I,qt=m2;function te(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fv=new Set,Os={};function Pi(e,n){po(e,n),po(e+"Capture",n)}function po(e,n){for(Os[e]=n,e=0;e<n.length;e++)fv.add(n[e])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,y2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rm={},Dm={};function v2(e){return Cf.call(Dm,e)?!0:Cf.call(Rm,e)?!1:y2.test(e)?Dm[e]=!0:(Rm[e]=!0,!1)}function _2(e,n,r,i){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x2(e,n,r,i){if(n===null||typeof n>"u"||_2(e,n,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Et(e,n,r,i,o,a,l){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=l}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];ht[n]=new Et(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var ad=/[\-:]([a-z])/g;function ld(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ad,ld);ht[n]=new Et(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ad,ld);ht[n]=new Et(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ad,ld);ht[n]=new Et(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function ud(e,n,r,i){var o=ht.hasOwnProperty(n)?ht[n]:null;(o!==null?o.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(x2(n,r,o,i)&&(r=null),i||o===null?v2(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(n=o.attributeName,i=o.attributeNamespace,r===null?e.removeAttribute(n):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?e.setAttributeNS(i,n,r):e.setAttribute(n,r))))}var yr=g2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),cd=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),hv=Symbol.for("react.provider"),dv=Symbol.for("react.context"),fd=Symbol.for("react.forward_ref"),Ef=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),hd=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),pv=Symbol.for("react.offscreen"),Fm=Symbol.iterator;function Vo(e){return e===null||typeof e!="object"?null:(e=Fm&&e[Fm]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,Tc;function cs(e){if(Tc===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Tc=n&&n[1]||""}return`
`+Tc+e}var Lc=!1;function jc(e,n){if(!e||Lc)return"";Lc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(h){var i=h}Reflect.construct(e,[],n)}else{try{n.call()}catch(h){i=h}e.call(n.prototype)}else{try{throw Error()}catch(h){i=h}e()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var o=h.stack.split(`
`),a=i.stack.split(`
`),l=o.length-1,c=a.length-1;1<=l&&0<=c&&o[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(o[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||o[l]!==a[c]){var f=`
`+o[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=l&&0<=c);break}}}finally{Lc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cs(e):""}function w2(e){switch(e.tag){case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return e=jc(e.type,!1),e;case 11:return e=jc(e.type.render,!1),e;case 1:return e=jc(e.type,!0),e;default:return""}}function Tf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wi:return"Fragment";case Zi:return"Portal";case Pf:return"Profiler";case cd:return"StrictMode";case Ef:return"Suspense";case Nf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dv:return(e.displayName||"Context")+".Consumer";case hv:return(e._context.displayName||"Context")+".Provider";case fd:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hd:return n=e.displayName||null,n!==null?n:Tf(e.type)||"Memo";case Nr:n=e._payload,e=e._init;try{return Tf(e(n))}catch{}}return null}function b2(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tf(n);case 8:return n===cd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mv(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function k2(e){var n=mv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(l){i=""+l,a.call(this,l)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wa(e){e._valueTracker||(e._valueTracker=k2(e))}function gv(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return e&&(i=mv(e)?e.checked?"true":"false":e.value),e=i,e!==r?(n.setValue(e),!0):!1}function Il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lf(e,n){var r=n.checked;return qe({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Bm(e,n){var r=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;r=Wr(n.value!=null?n.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function yv(e,n){n=n.checked,n!=null&&ud(e,"checked",n,!1)}function jf(e,n){yv(e,n);var r=Wr(n.value),i=n.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Mf(e,n.type,r):n.hasOwnProperty("defaultValue")&&Mf(e,n.type,Wr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Um(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mf(e,n,r){(n!=="number"||Il(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fs=Array.isArray;function ro(e,n,r,i){if(e=e.options,n){n={};for(var o=0;o<r.length;o++)n["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=n.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Wr(r),n=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}n!==null||e[o].disabled||(n=e[o])}n!==null&&(n.selected=!0)}}function zf(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(te(91));return qe({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $m(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(te(92));if(fs(r)){if(1<r.length)throw Error(te(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:Wr(r)}}function vv(e,n){var r=Wr(n.value),i=Wr(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Hm(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function _v(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Af(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?_v(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Va,xv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,i,o){MSApp.execUnsafeLocalFunction(function(){return e(n,r,i,o)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Va=Va||document.createElement("div"),Va.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Va.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Is(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S2=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(e){S2.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),vs[n]=vs[e]})});function wv(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||vs.hasOwnProperty(e)&&vs[e]?(""+n).trim():n+"px"}function bv(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=wv(r,n[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,o):e[r]=o}}var C2=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Of(e,n){if(n){if(C2[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(te(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(te(61))}if(n.style!=null&&typeof n.style!="object")throw Error(te(62))}}function If(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=null;function dd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Df=null,io=null,oo=null;function Zm(e){if(e=ha(e)){if(typeof Df!="function")throw Error(te(280));var n=e.stateNode;n&&(n=Pu(n),Df(e.stateNode,e.type,n))}}function kv(e){io?oo?oo.push(e):oo=[e]:io=e}function Sv(){if(io){var e=io,n=oo;if(oo=io=null,Zm(e),n)for(e=0;e<n.length;e++)Zm(n[e])}}function Cv(e,n){return e(n)}function Pv(){}var Mc=!1;function Ev(e,n,r){if(Mc)return e(n,r);Mc=!0;try{return Cv(e,n,r)}finally{Mc=!1,(io!==null||oo!==null)&&(Pv(),Sv())}}function Rs(e,n){var r=e.stateNode;if(r===null)return null;var i=Pu(r);if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(te(231,n,typeof r));return r}var Ff=!1;if(hr)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){Ff=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{Ff=!1}function P2(e,n,r,i,o,a,l,c,f){var h=Array.prototype.slice.call(arguments,3);try{n.apply(r,h)}catch(m){this.onError(m)}}var _s=!1,Rl=null,Dl=!1,Bf=null,E2={onError:function(e){_s=!0,Rl=e}};function N2(e,n,r,i,o,a,l,c,f){_s=!1,Rl=null,P2.apply(E2,arguments)}function T2(e,n,r,i,o,a,l,c,f){if(N2.apply(this,arguments),_s){if(_s){var h=Rl;_s=!1,Rl=null}else throw Error(te(198));Dl||(Dl=!0,Bf=h)}}function Ei(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function Nv(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Wm(e){if(Ei(e)!==e)throw Error(te(188))}function L2(e){var n=e.alternate;if(!n){if(n=Ei(e),n===null)throw Error(te(188));return n!==e?null:e}for(var r=e,i=n;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Wm(o),e;if(a===i)return Wm(o),n;a=a.sibling}throw Error(te(188))}if(r.return!==i.return)r=o,i=a;else{for(var l=!1,c=o.child;c;){if(c===r){l=!0,r=o,i=a;break}if(c===i){l=!0,i=o,r=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===r){l=!0,r=a,i=o;break}if(c===i){l=!0,i=a,r=o;break}c=c.sibling}if(!l)throw Error(te(189))}}if(r.alternate!==i)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?e:n}function Tv(e){return e=L2(e),e!==null?Lv(e):null}function Lv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Lv(e);if(n!==null)return n;e=e.sibling}return null}var jv=qt.unstable_scheduleCallback,Vm=qt.unstable_cancelCallback,j2=qt.unstable_shouldYield,M2=qt.unstable_requestPaint,Ye=qt.unstable_now,z2=qt.unstable_getCurrentPriorityLevel,pd=qt.unstable_ImmediatePriority,Mv=qt.unstable_UserBlockingPriority,Fl=qt.unstable_NormalPriority,A2=qt.unstable_LowPriority,zv=qt.unstable_IdlePriority,bu=null,Bn=null;function O2(e){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(bu,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:D2,I2=Math.log,R2=Math.LN2;function D2(e){return e>>>=0,e===0?32:31-(I2(e)/R2|0)|0}var qa=64,Ga=4194304;function hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bl(e,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~o;c!==0?i=hs(c):(a&=l,a!==0&&(i=hs(a)))}else l=r&~o,l!==0?i=hs(l):a!==0&&(i=hs(a));if(i===0)return 0;if(n!==0&&n!==i&&!(n&o)&&(o=i&-i,a=n&-n,o>=a||o===16&&(a&4194240)!==0))return n;if(i&4&&(i|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)r=31-Sn(n),o=1<<r,i|=e[r],n&=~o;return i}function F2(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B2(e,n){for(var r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Sn(a),c=1<<l,f=o[l];f===-1?(!(c&r)||c&i)&&(o[l]=F2(c,n)):f<=n&&(e.expiredLanes|=c),a&=~c}}function Uf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Av(){var e=qa;return qa<<=1,!(qa&4194240)&&(qa=64),e}function zc(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ca(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Sn(n),e[n]=r}function U2(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Sn(r),a=1<<o;n[o]=0,i[o]=-1,e[o]=-1,r&=~a}}function md(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var i=31-Sn(r),o=1<<i;o&n|e[i]&n&&(e[i]|=n),r&=~o}}var Me=0;function Ov(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Iv,gd,Rv,Dv,Fv,$f=!1,Xa=[],Ir=null,Rr=null,Dr=null,Ds=new Map,Fs=new Map,jr=[],$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qm(e,n){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Ds.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(n.pointerId)}}function Go(e,n,r,i,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},n!==null&&(n=ha(n),n!==null&&gd(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),e)}function H2(e,n,r,i,o){switch(n){case"focusin":return Ir=Go(Ir,e,n,r,i,o),!0;case"dragenter":return Rr=Go(Rr,e,n,r,i,o),!0;case"mouseover":return Dr=Go(Dr,e,n,r,i,o),!0;case"pointerover":var a=o.pointerId;return Ds.set(a,Go(Ds.get(a)||null,e,n,r,i,o)),!0;case"gotpointercapture":return a=o.pointerId,Fs.set(a,Go(Fs.get(a)||null,e,n,r,i,o)),!0}return!1}function Bv(e){var n=ci(e.target);if(n!==null){var r=Ei(n);if(r!==null){if(n=r.tag,n===13){if(n=Nv(r),n!==null){e.blockedOn=n,Fv(e.priority,function(){Rv(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Hf(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Rf=i,r.target.dispatchEvent(i),Rf=null}else return n=ha(r),n!==null&&gd(n),e.blockedOn=r,!1;n.shift()}return!0}function Gm(e,n,r){_l(e)&&r.delete(n)}function Z2(){$f=!1,Ir!==null&&_l(Ir)&&(Ir=null),Rr!==null&&_l(Rr)&&(Rr=null),Dr!==null&&_l(Dr)&&(Dr=null),Ds.forEach(Gm),Fs.forEach(Gm)}function Xo(e,n){e.blockedOn===n&&(e.blockedOn=null,$f||($f=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,Z2)))}function Bs(e){function n(o){return Xo(o,e)}if(0<Xa.length){Xo(Xa[0],e);for(var r=1;r<Xa.length;r++){var i=Xa[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Ir!==null&&Xo(Ir,e),Rr!==null&&Xo(Rr,e),Dr!==null&&Xo(Dr,e),Ds.forEach(n),Fs.forEach(n),r=0;r<jr.length;r++)i=jr[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<jr.length&&(r=jr[0],r.blockedOn===null);)Bv(r),r.blockedOn===null&&jr.shift()}var so=yr.ReactCurrentBatchConfig,Ul=!0;function W2(e,n,r,i){var o=Me,a=so.transition;so.transition=null;try{Me=1,yd(e,n,r,i)}finally{Me=o,so.transition=a}}function V2(e,n,r,i){var o=Me,a=so.transition;so.transition=null;try{Me=4,yd(e,n,r,i)}finally{Me=o,so.transition=a}}function yd(e,n,r,i){if(Ul){var o=Hf(e,n,r,i);if(o===null)Hc(e,n,i,$l,r),qm(e,i);else if(H2(o,e,n,r,i))i.stopPropagation();else if(qm(e,i),n&4&&-1<$2.indexOf(e)){for(;o!==null;){var a=ha(o);if(a!==null&&Iv(a),a=Hf(e,n,r,i),a===null&&Hc(e,n,i,$l,r),a===o)break;o=a}o!==null&&i.stopPropagation()}else Hc(e,n,i,null,r)}}var $l=null;function Hf(e,n,r,i){if($l=null,e=dd(i),e=ci(e),e!==null)if(n=Ei(e),n===null)e=null;else if(r=n.tag,r===13){if(e=Nv(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return $l=e,null}function Uv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z2()){case pd:return 1;case Mv:return 4;case Fl:case A2:return 16;case zv:return 536870912;default:return 16}default:return 16}}var zr=null,vd=null,xl=null;function $v(){if(xl)return xl;var e,n=vd,r=n.length,i,o="value"in zr?zr.value:zr.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(i=1;i<=l&&n[r-i]===o[a-i];i++);return xl=o.slice(e,1<i?1-i:void 0)}function wl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ya(){return!0}function Xm(){return!1}function Yt(e){function n(r,i,o,a,l){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ya:Xm,this.isPropagationStopped=Xm,this}return qe(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),n}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_d=Yt(Po),fa=qe({},Po,{view:0,detail:0}),q2=Yt(fa),Ac,Oc,Yo,ku=qe({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(Ac=e.screenX-Yo.screenX,Oc=e.screenY-Yo.screenY):Oc=Ac=0,Yo=e),Ac)},movementY:function(e){return"movementY"in e?e.movementY:Oc}}),Ym=Yt(ku),G2=qe({},ku,{dataTransfer:0}),X2=Yt(G2),Y2=qe({},fa,{relatedTarget:0}),Ic=Yt(Y2),K2=qe({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),Q2=Yt(K2),J2=qe({},Po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ek=Yt(J2),tk=qe({},Po,{data:0}),Km=Yt(tk),nk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ok(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ik[e])?!!n[e]:!1}function xd(){return ok}var sk=qe({},fa,{key:function(e){if(e.key){var n=nk[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xd,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ak=Yt(sk),lk=qe({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=Yt(lk),uk=qe({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xd}),ck=Yt(uk),fk=qe({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),hk=Yt(fk),dk=qe({},ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pk=Yt(dk),mk=[9,13,27,32],wd=hr&&"CompositionEvent"in window,xs=null;hr&&"documentMode"in document&&(xs=document.documentMode);var gk=hr&&"TextEvent"in window&&!xs,Hv=hr&&(!wd||xs&&8<xs&&11>=xs),Jm=" ",eg=!1;function Zv(e,n){switch(e){case"keyup":return mk.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function yk(e,n){switch(e){case"compositionend":return Wv(n);case"keypress":return n.which!==32?null:(eg=!0,Jm);case"textInput":return e=n.data,e===Jm&&eg?null:e;default:return null}}function vk(e,n){if(Vi)return e==="compositionend"||!wd&&Zv(e,n)?(e=$v(),xl=vd=zr=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hv&&n.locale!=="ko"?null:n.data;default:return null}}var _k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_k[e.type]:n==="textarea"}function Vv(e,n,r,i){kv(i),n=Hl(n,"onChange"),0<n.length&&(r=new _d("onChange","change",null,r,i),e.push({event:r,listeners:n}))}var ws=null,Us=null;function xk(e){r_(e,0)}function Su(e){var n=Xi(e);if(gv(n))return e}function wk(e,n){if(e==="change")return n}var qv=!1;if(hr){var Rc;if(hr){var Dc="oninput"in document;if(!Dc){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Dc=typeof ng.oninput=="function"}Rc=Dc}else Rc=!1;qv=Rc&&(!document.documentMode||9<document.documentMode)}function rg(){ws&&(ws.detachEvent("onpropertychange",Gv),Us=ws=null)}function Gv(e){if(e.propertyName==="value"&&Su(Us)){var n=[];Vv(n,Us,e,dd(e)),Ev(xk,n)}}function bk(e,n,r){e==="focusin"?(rg(),ws=n,Us=r,ws.attachEvent("onpropertychange",Gv)):e==="focusout"&&rg()}function kk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Us)}function Sk(e,n){if(e==="click")return Su(n)}function Ck(e,n){if(e==="input"||e==="change")return Su(n)}function Pk(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pn=typeof Object.is=="function"?Object.is:Pk;function $s(e,n){if(Pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!Cf.call(n,o)||!Pn(e[o],n[o]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function og(e,n){var r=ig(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=n&&i>=n)return{node:r,offset:n-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ig(r)}}function Xv(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xv(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yv(){for(var e=window,n=Il();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Il(e.document)}return n}function bd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ek(e){var n=Yv(),r=e.focusedElem,i=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&Xv(r.ownerDocument.documentElement,r)){if(i!==null&&bd(r)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!e.extend&&a>i&&(o=i,i=a,a=o),o=og(r,a);var l=og(r,i);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(n=n.createRange(),n.setStart(o.node,o.offset),e.removeAllRanges(),a>i?(e.addRange(n),e.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nk=hr&&"documentMode"in document&&11>=document.documentMode,qi=null,Zf=null,bs=null,Wf=!1;function sg(e,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wf||qi==null||qi!==Il(i)||(i=qi,"selectionStart"in i&&bd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bs&&$s(bs,i)||(bs=i,i=Hl(Zf,"onSelect"),0<i.length&&(n=new _d("onSelect","select",null,n,r),e.push({event:n,listeners:i}),n.target=qi)))}function Ka(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Gi={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},Fc={},Kv={};hr&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Cu(e){if(Fc[e])return Fc[e];if(!Gi[e])return e;var n=Gi[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Kv)return Fc[e]=n[r];return e}var Qv=Cu("animationend"),Jv=Cu("animationiteration"),e_=Cu("animationstart"),t_=Cu("transitionend"),n_=new Map,ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,n){n_.set(e,n),Pi(n,[e])}for(var Bc=0;Bc<ag.length;Bc++){var Uc=ag[Bc],Tk=Uc.toLowerCase(),Lk=Uc[0].toUpperCase()+Uc.slice(1);qr(Tk,"on"+Lk)}qr(Qv,"onAnimationEnd");qr(Jv,"onAnimationIteration");qr(e_,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(t_,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function lg(e,n,r){var i=e.type||"unknown-event";e.currentTarget=r,T2(i,n,void 0,e),e.currentTarget=null}function r_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],o=i.event;i=i.listeners;e:{var a=void 0;if(n)for(var l=i.length-1;0<=l;l--){var c=i[l],f=c.instance,h=c.currentTarget;if(c=c.listener,f!==a&&o.isPropagationStopped())break e;lg(o,c,h),a=f}else for(l=0;l<i.length;l++){if(c=i[l],f=c.instance,h=c.currentTarget,c=c.listener,f!==a&&o.isPropagationStopped())break e;lg(o,c,h),a=f}}}if(Dl)throw e=Bf,Dl=!1,Bf=null,e}function De(e,n){var r=n[Yf];r===void 0&&(r=n[Yf]=new Set);var i=e+"__bubble";r.has(i)||(i_(n,e,2,!1),r.add(i))}function $c(e,n,r){var i=0;n&&(i|=4),i_(r,e,i,n)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function Hs(e){if(!e[Qa]){e[Qa]=!0,fv.forEach(function(r){r!=="selectionchange"&&(jk.has(r)||$c(r,!1,e),$c(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Qa]||(n[Qa]=!0,$c("selectionchange",!1,n))}}function i_(e,n,r,i){switch(Uv(n)){case 1:var o=W2;break;case 4:o=V2;break;default:o=yd}r=o.bind(null,n,r,e),o=void 0,!Ff||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(n,r,{capture:!0,passive:o}):e.addEventListener(n,r,!0):o!==void 0?e.addEventListener(n,r,{passive:o}):e.addEventListener(n,r,!1)}function Hc(e,n,r,i,o){var a=i;if(!(n&1)&&!(n&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(l===4)for(l=i.return;l!==null;){var f=l.tag;if((f===3||f===4)&&(f=l.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;l=l.return}for(;c!==null;){if(l=ci(c),l===null)return;if(f=l.tag,f===5||f===6){i=a=l;continue e}c=c.parentNode}}i=i.return}Ev(function(){var h=a,m=dd(r),d=[];e:{var g=n_.get(e);if(g!==void 0){var y=_d,w=e;switch(e){case"keypress":if(wl(r)===0)break e;case"keydown":case"keyup":y=ak;break;case"focusin":w="focus",y=Ic;break;case"focusout":w="blur",y=Ic;break;case"beforeblur":case"afterblur":y=Ic;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=X2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ck;break;case Qv:case Jv:case e_:y=Q2;break;case t_:y=hk;break;case"scroll":y=q2;break;case"wheel":y=pk;break;case"copy":case"cut":case"paste":y=ek;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Qm}var S=(n&4)!==0,P=!S&&e==="scroll",x=S?g!==null?g+"Capture":null:g;S=[];for(var k=h,C;k!==null;){C=k;var N=C.stateNode;if(C.tag===5&&N!==null&&(C=N,x!==null&&(N=Rs(k,x),N!=null&&S.push(Zs(k,N,C)))),P)break;k=k.return}0<S.length&&(g=new y(g,w,null,r,m),d.push({event:g,listeners:S}))}}if(!(n&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&r!==Rf&&(w=r.relatedTarget||r.fromElement)&&(ci(w)||w[dr]))break e;if((y||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=h,w=w?ci(w):null,w!==null&&(P=Ei(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(S=Ym,N="onMouseLeave",x="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(S=Qm,N="onPointerLeave",x="onPointerEnter",k="pointer"),P=y==null?g:Xi(y),C=w==null?g:Xi(w),g=new S(N,k+"leave",y,r,m),g.target=P,g.relatedTarget=C,N=null,ci(m)===h&&(S=new S(x,k+"enter",w,r,m),S.target=C,S.relatedTarget=P,N=S),P=N,y&&w)t:{for(S=y,x=w,k=0,C=S;C;C=Bi(C))k++;for(C=0,N=x;N;N=Bi(N))C++;for(;0<k-C;)S=Bi(S),k--;for(;0<C-k;)x=Bi(x),C--;for(;k--;){if(S===x||x!==null&&S===x.alternate)break t;S=Bi(S),x=Bi(x)}S=null}else S=null;y!==null&&ug(d,g,y,S,!1),w!==null&&P!==null&&ug(d,P,w,S,!0)}}e:{if(g=h?Xi(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var M=wk;else if(tg(g))if(qv)M=Ck;else{M=kk;var T=bk}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=Sk);if(M&&(M=M(e,h))){Vv(d,M,r,m);break e}T&&T(e,g,h),e==="focusout"&&(T=g._wrapperState)&&T.controlled&&g.type==="number"&&Mf(g,"number",g.value)}switch(T=h?Xi(h):window,e){case"focusin":(tg(T)||T.contentEditable==="true")&&(qi=T,Zf=h,bs=null);break;case"focusout":bs=Zf=qi=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,sg(d,r,m);break;case"selectionchange":if(Nk)break;case"keydown":case"keyup":sg(d,r,m)}var z;if(wd)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Vi?Zv(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Hv&&r.locale!=="ko"&&(Vi||A!=="onCompositionStart"?A==="onCompositionEnd"&&Vi&&(z=$v()):(zr=m,vd="value"in zr?zr.value:zr.textContent,Vi=!0)),T=Hl(h,A),0<T.length&&(A=new Km(A,e,null,r,m),d.push({event:A,listeners:T}),z?A.data=z:(z=Wv(r),z!==null&&(A.data=z)))),(z=gk?yk(e,r):vk(e,r))&&(h=Hl(h,"onBeforeInput"),0<h.length&&(m=new Km("onBeforeInput","beforeinput",null,r,m),d.push({event:m,listeners:h}),m.data=z))}r_(d,n)})}function Zs(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Hl(e,n){for(var r=n+"Capture",i=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Rs(e,r),a!=null&&i.unshift(Zs(e,a,o)),a=Rs(e,n),a!=null&&i.push(Zs(e,a,o))),e=e.return}return i}function Bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ug(e,n,r,i,o){for(var a=n._reactName,l=[];r!==null&&r!==i;){var c=r,f=c.alternate,h=c.stateNode;if(f!==null&&f===i)break;c.tag===5&&h!==null&&(c=h,o?(f=Rs(r,a),f!=null&&l.unshift(Zs(r,f,c))):o||(f=Rs(r,a),f!=null&&l.push(Zs(r,f,c)))),r=r.return}l.length!==0&&e.push({event:n,listeners:l})}var Mk=/\r\n?/g,zk=/\u0000|\uFFFD/g;function cg(e){return(typeof e=="string"?e:""+e).replace(Mk,`
`).replace(zk,"")}function Ja(e,n,r){if(n=cg(n),cg(e)!==n&&r)throw Error(te(425))}function Zl(){}var Vf=null,qf=null;function Gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,Ak=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,Ok=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(e){return fg.resolve(null).then(e).catch(Ik)}:Xf;function Ik(e){setTimeout(function(){throw e})}function Zc(e,n){var r=n,i=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){e.removeChild(o),Bs(n);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);Bs(n)}function Fr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function hg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Eo,Ws="__reactProps$"+Eo,dr="__reactContainer$"+Eo,Yf="__reactEvents$"+Eo,Rk="__reactListeners$"+Eo,Dk="__reactHandles$"+Eo;function ci(e){var n=e[Rn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[dr]||r[Rn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=hg(e);e!==null;){if(r=e[Rn])return r;e=hg(e)}return n}e=r,r=e.parentNode}return null}function ha(e){return e=e[Rn]||e[dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function Pu(e){return e[Ws]||null}var Kf=[],Yi=-1;function Gr(e){return{current:e}}function Be(e){0>Yi||(e.current=Kf[Yi],Kf[Yi]=null,Yi--)}function Ie(e,n){Yi++,Kf[Yi]=e.current,e.current=n}var Vr={},vt=Gr(Vr),Ot=Gr(!1),_i=Vr;function mo(e,n){var r=e.type.contextTypes;if(!r)return Vr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=n[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function It(e){return e=e.childContextTypes,e!=null}function Wl(){Be(Ot),Be(vt)}function dg(e,n,r){if(vt.current!==Vr)throw Error(te(168));Ie(vt,n),Ie(Ot,r)}function o_(e,n,r){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in n))throw Error(te(108,b2(e)||"Unknown",o));return qe({},r,i)}function Vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,_i=vt.current,Ie(vt,e),Ie(Ot,Ot.current),!0}function pg(e,n,r){var i=e.stateNode;if(!i)throw Error(te(169));r?(e=o_(e,n,_i),i.__reactInternalMemoizedMergedChildContext=e,Be(Ot),Be(vt),Ie(vt,e)):Be(Ot),Ie(Ot,r)}var ir=null,Eu=!1,Wc=!1;function s_(e){ir===null?ir=[e]:ir.push(e)}function Fk(e){Eu=!0,s_(e)}function Xr(){if(!Wc&&ir!==null){Wc=!0;var e=0,n=Me;try{var r=ir;for(Me=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}ir=null,Eu=!1}catch(o){throw ir!==null&&(ir=ir.slice(e+1)),jv(pd,Xr),o}finally{Me=n,Wc=!1}}return null}var Ki=[],Qi=0,ql=null,Gl=0,on=[],sn=0,xi=null,sr=1,ar="";function si(e,n){Ki[Qi++]=Gl,Ki[Qi++]=ql,ql=e,Gl=n}function a_(e,n,r){on[sn++]=sr,on[sn++]=ar,on[sn++]=xi,xi=e;var i=sr;e=ar;var o=32-Sn(i)-1;i&=~(1<<o),r+=1;var a=32-Sn(n)+o;if(30<a){var l=o-o%5;a=(i&(1<<l)-1).toString(32),i>>=l,o-=l,sr=1<<32-Sn(n)+o|r<<o|i,ar=a+e}else sr=1<<a|r<<o|i,ar=e}function kd(e){e.return!==null&&(si(e,1),a_(e,1,0))}function Sd(e){for(;e===ql;)ql=Ki[--Qi],Ki[Qi]=null,Gl=Ki[--Qi],Ki[Qi]=null;for(;e===xi;)xi=on[--sn],on[sn]=null,ar=on[--sn],on[sn]=null,sr=on[--sn],on[sn]=null}var Vt=null,Zt=null,$e=!1,wn=null;function l_(e,n){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function mg(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Vt=e,Zt=Fr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Vt=e,Zt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=xi!==null?{id:sr,overflow:ar}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,Vt=e,Zt=null,!0):!1;default:return!1}}function Qf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jf(e){if($e){var n=Zt;if(n){var r=n;if(!mg(e,n)){if(Qf(e))throw Error(te(418));n=Fr(r.nextSibling);var i=Vt;n&&mg(e,n)?l_(i,r):(e.flags=e.flags&-4097|2,$e=!1,Vt=e)}}else{if(Qf(e))throw Error(te(418));e.flags=e.flags&-4097|2,$e=!1,Vt=e}}}function gg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function el(e){if(e!==Vt)return!1;if(!$e)return gg(e),$e=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Gf(e.type,e.memoizedProps)),n&&(n=Zt)){if(Qf(e))throw u_(),Error(te(418));for(;n;)l_(e,n),n=Fr(n.nextSibling)}if(gg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Zt=Fr(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Zt=null}}else Zt=Vt?Fr(e.stateNode.nextSibling):null;return!0}function u_(){for(var e=Zt;e;)e=Fr(e.nextSibling)}function go(){Zt=Vt=null,$e=!1}function Cd(e){wn===null?wn=[e]:wn.push(e)}var Bk=yr.ReactCurrentBatchConfig;function Ko(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var i=r.stateNode}if(!i)throw Error(te(147,e));var o=i,a=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===a?n.ref:(n=function(l){var c=o.refs;l===null?delete c[a]:c[a]=l},n._stringRef=a,n)}if(typeof e!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,e))}return e}function tl(e,n){throw e=Object.prototype.toString.call(n),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function yg(e){var n=e._init;return n(e._payload)}function c_(e){function n(x,k){if(e){var C=x.deletions;C===null?(x.deletions=[k],x.flags|=16):C.push(k)}}function r(x,k){if(!e)return null;for(;k!==null;)n(x,k),k=k.sibling;return null}function i(x,k){for(x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function o(x,k){return x=Hr(x,k),x.index=0,x.sibling=null,x}function a(x,k,C){return x.index=C,e?(C=x.alternate,C!==null?(C=C.index,C<k?(x.flags|=2,k):C):(x.flags|=2,k)):(x.flags|=1048576,k)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,k,C,N){return k===null||k.tag!==6?(k=Qc(C,x.mode,N),k.return=x,k):(k=o(k,C),k.return=x,k)}function f(x,k,C,N){var M=C.type;return M===Wi?m(x,k,C.props.children,N,C.key):k!==null&&(k.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Nr&&yg(M)===k.type)?(N=o(k,C.props),N.ref=Ko(x,k,C),N.return=x,N):(N=Nl(C.type,C.key,C.props,null,x.mode,N),N.ref=Ko(x,k,C),N.return=x,N)}function h(x,k,C,N){return k===null||k.tag!==4||k.stateNode.containerInfo!==C.containerInfo||k.stateNode.implementation!==C.implementation?(k=Jc(C,x.mode,N),k.return=x,k):(k=o(k,C.children||[]),k.return=x,k)}function m(x,k,C,N,M){return k===null||k.tag!==7?(k=mi(C,x.mode,N,M),k.return=x,k):(k=o(k,C),k.return=x,k)}function d(x,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Qc(""+k,x.mode,C),k.return=x,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Za:return C=Nl(k.type,k.key,k.props,null,x.mode,C),C.ref=Ko(x,null,k),C.return=x,C;case Zi:return k=Jc(k,x.mode,C),k.return=x,k;case Nr:var N=k._init;return d(x,N(k._payload),C)}if(fs(k)||Vo(k))return k=mi(k,x.mode,C,null),k.return=x,k;tl(x,k)}return null}function g(x,k,C,N){var M=k!==null?k.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:c(x,k,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Za:return C.key===M?f(x,k,C,N):null;case Zi:return C.key===M?h(x,k,C,N):null;case Nr:return M=C._init,g(x,k,M(C._payload),N)}if(fs(C)||Vo(C))return M!==null?null:m(x,k,C,N,null);tl(x,C)}return null}function y(x,k,C,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(C)||null,c(k,x,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Za:return x=x.get(N.key===null?C:N.key)||null,f(k,x,N,M);case Zi:return x=x.get(N.key===null?C:N.key)||null,h(k,x,N,M);case Nr:var T=N._init;return y(x,k,C,T(N._payload),M)}if(fs(N)||Vo(N))return x=x.get(C)||null,m(k,x,N,M,null);tl(k,N)}return null}function w(x,k,C,N){for(var M=null,T=null,z=k,A=k=0,$=null;z!==null&&A<C.length;A++){z.index>A?($=z,z=null):$=z.sibling;var F=g(x,z,C[A],N);if(F===null){z===null&&(z=$);break}e&&z&&F.alternate===null&&n(x,z),k=a(F,k,A),T===null?M=F:T.sibling=F,T=F,z=$}if(A===C.length)return r(x,z),$e&&si(x,A),M;if(z===null){for(;A<C.length;A++)z=d(x,C[A],N),z!==null&&(k=a(z,k,A),T===null?M=z:T.sibling=z,T=z);return $e&&si(x,A),M}for(z=i(x,z);A<C.length;A++)$=y(z,x,A,C[A],N),$!==null&&(e&&$.alternate!==null&&z.delete($.key===null?A:$.key),k=a($,k,A),T===null?M=$:T.sibling=$,T=$);return e&&z.forEach(function(H){return n(x,H)}),$e&&si(x,A),M}function S(x,k,C,N){var M=Vo(C);if(typeof M!="function")throw Error(te(150));if(C=M.call(C),C==null)throw Error(te(151));for(var T=M=null,z=k,A=k=0,$=null,F=C.next();z!==null&&!F.done;A++,F=C.next()){z.index>A?($=z,z=null):$=z.sibling;var H=g(x,z,F.value,N);if(H===null){z===null&&(z=$);break}e&&z&&H.alternate===null&&n(x,z),k=a(H,k,A),T===null?M=H:T.sibling=H,T=H,z=$}if(F.done)return r(x,z),$e&&si(x,A),M;if(z===null){for(;!F.done;A++,F=C.next())F=d(x,F.value,N),F!==null&&(k=a(F,k,A),T===null?M=F:T.sibling=F,T=F);return $e&&si(x,A),M}for(z=i(x,z);!F.done;A++,F=C.next())F=y(z,x,A,F.value,N),F!==null&&(e&&F.alternate!==null&&z.delete(F.key===null?A:F.key),k=a(F,k,A),T===null?M=F:T.sibling=F,T=F);return e&&z.forEach(function(U){return n(x,U)}),$e&&si(x,A),M}function P(x,k,C,N){if(typeof C=="object"&&C!==null&&C.type===Wi&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Za:e:{for(var M=C.key,T=k;T!==null;){if(T.key===M){if(M=C.type,M===Wi){if(T.tag===7){r(x,T.sibling),k=o(T,C.props.children),k.return=x,x=k;break e}}else if(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Nr&&yg(M)===T.type){r(x,T.sibling),k=o(T,C.props),k.ref=Ko(x,T,C),k.return=x,x=k;break e}r(x,T);break}else n(x,T);T=T.sibling}C.type===Wi?(k=mi(C.props.children,x.mode,N,C.key),k.return=x,x=k):(N=Nl(C.type,C.key,C.props,null,x.mode,N),N.ref=Ko(x,k,C),N.return=x,x=N)}return l(x);case Zi:e:{for(T=C.key;k!==null;){if(k.key===T)if(k.tag===4&&k.stateNode.containerInfo===C.containerInfo&&k.stateNode.implementation===C.implementation){r(x,k.sibling),k=o(k,C.children||[]),k.return=x,x=k;break e}else{r(x,k);break}else n(x,k);k=k.sibling}k=Jc(C,x.mode,N),k.return=x,x=k}return l(x);case Nr:return T=C._init,P(x,k,T(C._payload),N)}if(fs(C))return w(x,k,C,N);if(Vo(C))return S(x,k,C,N);tl(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,k!==null&&k.tag===6?(r(x,k.sibling),k=o(k,C),k.return=x,x=k):(r(x,k),k=Qc(C,x.mode,N),k.return=x,x=k),l(x)):r(x,k)}return P}var yo=c_(!0),f_=c_(!1),Xl=Gr(null),Yl=null,Ji=null,Pd=null;function Ed(){Pd=Ji=Yl=null}function Nd(e){var n=Xl.current;Be(Xl),e._currentValue=n}function eh(e,n,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===r)break;e=e.return}}function ao(e,n){Yl=e,Pd=Ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(zt=!0),e.firstContext=null)}function hn(e){var n=e._currentValue;if(Pd!==e)if(e={context:e,memoizedValue:n,next:null},Ji===null){if(Yl===null)throw Error(te(308));Ji=e,Yl.dependencies={lanes:0,firstContext:e}}else Ji=Ji.next=e;return n}var fi=null;function Td(e){fi===null?fi=[e]:fi.push(e)}function h_(e,n,r,i){var o=n.interleaved;return o===null?(r.next=r,Td(n)):(r.next=o.next,o.next=r),n.interleaved=r,pr(e,i)}function pr(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tr=!1;function Ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d_(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Br(e,n,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Pe&2){var o=i.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n,pr(e,r)}return o=i.interleaved,o===null?(n.next=n,Td(i)):(n.next=o.next,o.next=n),i.interleaved=n,pr(e,r)}function bl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,md(e,r)}}function vg(e,n){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?o=a=n:a=a.next=n}else o=a=n;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Kl(e,n,r,i){var o=e.updateQueue;Tr=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var f=c,h=f.next;f.next=null,l===null?a=h:l.next=h,l=f;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=f))}if(a!==null){var d=o.baseState;l=0,m=h=f=null,c=a;do{var g=c.lane,y=c.eventTime;if((i&g)===g){m!==null&&(m=m.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,S=c;switch(g=n,y=r,S.tag){case 1:if(w=S.payload,typeof w=="function"){d=w.call(y,d,g);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,g=typeof w=="function"?w.call(y,d,g):w,g==null)break e;d=qe({},d,g);break e;case 2:Tr=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[c]:g.push(c))}else y={eventTime:y,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(h=m=y,f=d):m=m.next=y,l|=g;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;g=c,c=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(m===null&&(f=d),o.baseState=f,o.firstBaseUpdate=h,o.lastBaseUpdate=m,n=o.shared.interleaved,n!==null){o=n;do l|=o.lane,o=o.next;while(o!==n)}else a===null&&(o.shared.lanes=0);bi|=l,e.lanes=l,e.memoizedState=d}}function _g(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(te(191,o));o.call(i)}}}var da={},Un=Gr(da),Vs=Gr(da),qs=Gr(da);function hi(e){if(e===da)throw Error(te(174));return e}function jd(e,n){switch(Ie(qs,n),Ie(Vs,e),Ie(Un,da),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Af(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Af(n,e)}Be(Un),Ie(Un,n)}function vo(){Be(Un),Be(Vs),Be(qs)}function p_(e){hi(qs.current);var n=hi(Un.current),r=Af(n,e.type);n!==r&&(Ie(Vs,e),Ie(Un,r))}function Md(e){Vs.current===e&&(Be(Un),Be(Vs))}var We=Gr(0);function Ql(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vc=[];function zd(){for(var e=0;e<Vc.length;e++)Vc[e]._workInProgressVersionPrimary=null;Vc.length=0}var kl=yr.ReactCurrentDispatcher,qc=yr.ReactCurrentBatchConfig,wi=0,Ve=null,rt=null,st=null,Jl=!1,ks=!1,Gs=0,Uk=0;function pt(){throw Error(te(321))}function Ad(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Pn(e[r],n[r]))return!1;return!0}function Od(e,n,r,i,o,a){if(wi=a,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,kl.current=e===null||e.memoizedState===null?Wk:Vk,e=r(i,o),ks){a=0;do{if(ks=!1,Gs=0,25<=a)throw Error(te(301));a+=1,st=rt=null,n.updateQueue=null,kl.current=qk,e=r(i,o)}while(ks)}if(kl.current=eu,n=rt!==null&&rt.next!==null,wi=0,st=rt=Ve=null,Jl=!1,n)throw Error(te(300));return e}function Id(){var e=Gs!==0;return Gs=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ve.memoizedState=st=e:st=st.next=e,st}function dn(){if(rt===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var n=st===null?Ve.memoizedState:st.next;if(n!==null)st=n,rt=e;else{if(e===null)throw Error(te(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},st===null?Ve.memoizedState=st=e:st=st.next=e}return st}function Xs(e,n){return typeof n=="function"?n(e):n}function Gc(e){var n=dn(),r=n.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var i=rt,o=i.baseQueue,a=r.pending;if(a!==null){if(o!==null){var l=o.next;o.next=a.next,a.next=l}i.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,i=i.baseState;var c=l=null,f=null,h=a;do{var m=h.lane;if((wi&m)===m)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:e(i,h.action);else{var d={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(c=f=d,l=i):f=f.next=d,Ve.lanes|=m,bi|=m}h=h.next}while(h!==null&&h!==a);f===null?l=i:f.next=c,Pn(i,n.memoizedState)||(zt=!0),n.memoizedState=i,n.baseState=l,n.baseQueue=f,r.lastRenderedState=i}if(e=r.interleaved,e!==null){o=e;do a=o.lane,Ve.lanes|=a,bi|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Xc(e){var n=dn(),r=n.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,a=n.memoizedState;if(o!==null){r.pending=null;var l=o=o.next;do a=e(a,l.action),l=l.next;while(l!==o);Pn(a,n.memoizedState)||(zt=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),r.lastRenderedState=a}return[a,i]}function m_(){}function g_(e,n){var r=Ve,i=dn(),o=n(),a=!Pn(i.memoizedState,o);if(a&&(i.memoizedState=o,zt=!0),i=i.queue,Rd(__.bind(null,r,i,e),[e]),i.getSnapshot!==n||a||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,Ys(9,v_.bind(null,r,i,o,n),void 0,null),at===null)throw Error(te(349));wi&30||y_(r,n,o)}return o}function y_(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ve.updateQueue,n===null?(n={lastEffect:null,stores:null},Ve.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function v_(e,n,r,i){n.value=r,n.getSnapshot=i,x_(n)&&w_(e)}function __(e,n,r){return r(function(){x_(n)&&w_(e)})}function x_(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Pn(e,r)}catch{return!0}}function w_(e){var n=pr(e,1);n!==null&&Cn(n,e,1,-1)}function xg(e){var n=zn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:e},n.queue=e,e=e.dispatch=Zk.bind(null,Ve,e),[n.memoizedState,e]}function Ys(e,n,r,i){return e={tag:e,create:n,destroy:r,deps:i,next:null},n=Ve.updateQueue,n===null?(n={lastEffect:null,stores:null},Ve.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,n.lastEffect=e)),e}function b_(){return dn().memoizedState}function Sl(e,n,r,i){var o=zn();Ve.flags|=e,o.memoizedState=Ys(1|n,r,void 0,i===void 0?null:i)}function Nu(e,n,r,i){var o=dn();i=i===void 0?null:i;var a=void 0;if(rt!==null){var l=rt.memoizedState;if(a=l.destroy,i!==null&&Ad(i,l.deps)){o.memoizedState=Ys(n,r,a,i);return}}Ve.flags|=e,o.memoizedState=Ys(1|n,r,a,i)}function wg(e,n){return Sl(8390656,8,e,n)}function Rd(e,n){return Nu(2048,8,e,n)}function k_(e,n){return Nu(4,2,e,n)}function S_(e,n){return Nu(4,4,e,n)}function C_(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function P_(e,n,r){return r=r!=null?r.concat([e]):null,Nu(4,4,C_.bind(null,n,e),r)}function Dd(){}function E_(e,n){var r=dn();n=n===void 0?null:n;var i=r.memoizedState;return i!==null&&n!==null&&Ad(n,i[1])?i[0]:(r.memoizedState=[e,n],e)}function N_(e,n){var r=dn();n=n===void 0?null:n;var i=r.memoizedState;return i!==null&&n!==null&&Ad(n,i[1])?i[0]:(e=e(),r.memoizedState=[e,n],e)}function T_(e,n,r){return wi&21?(Pn(r,n)||(r=Av(),Ve.lanes|=r,bi|=r,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=r)}function $k(e,n){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var i=qc.transition;qc.transition={};try{e(!1),n()}finally{Me=r,qc.transition=i}}function L_(){return dn().memoizedState}function Hk(e,n,r){var i=$r(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},j_(e))M_(n,r);else if(r=h_(e,n,r,i),r!==null){var o=Ct();Cn(r,e,i,o),z_(r,n,i)}}function Zk(e,n,r){var i=$r(e),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(j_(e))M_(n,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=n.lastRenderedReducer,a!==null))try{var l=n.lastRenderedState,c=a(l,r);if(o.hasEagerState=!0,o.eagerState=c,Pn(c,l)){var f=n.interleaved;f===null?(o.next=o,Td(n)):(o.next=f.next,f.next=o),n.interleaved=o;return}}catch{}finally{}r=h_(e,n,o,i),r!==null&&(o=Ct(),Cn(r,e,i,o),z_(r,n,i))}}function j_(e){var n=e.alternate;return e===Ve||n!==null&&n===Ve}function M_(e,n){ks=Jl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function z_(e,n,r){if(r&4194240){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,md(e,r)}}var eu={readContext:hn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},Wk={readContext:hn,useCallback:function(e,n){return zn().memoizedState=[e,n===void 0?null:n],e},useContext:hn,useEffect:wg,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,Sl(4194308,4,C_.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Sl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Sl(4,2,e,n)},useMemo:function(e,n){var r=zn();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var i=zn();return n=r!==void 0?r(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=Hk.bind(null,Ve,e),[i.memoizedState,e]},useRef:function(e){var n=zn();return e={current:e},n.memoizedState=e},useState:xg,useDebugValue:Dd,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=xg(!1),n=e[0];return e=$k.bind(null,e[1]),zn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var i=Ve,o=zn();if($e){if(r===void 0)throw Error(te(407));r=r()}else{if(r=n(),at===null)throw Error(te(349));wi&30||y_(i,n,r)}o.memoizedState=r;var a={value:r,getSnapshot:n};return o.queue=a,wg(__.bind(null,i,a,e),[e]),i.flags|=2048,Ys(9,v_.bind(null,i,a,r,n),void 0,null),r},useId:function(){var e=zn(),n=at.identifierPrefix;if($e){var r=ar,i=sr;r=(i&~(1<<32-Sn(i)-1)).toString(32)+r,n=":"+n+"R"+r,r=Gs++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Uk++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Vk={readContext:hn,useCallback:E_,useContext:hn,useEffect:Rd,useImperativeHandle:P_,useInsertionEffect:k_,useLayoutEffect:S_,useMemo:N_,useReducer:Gc,useRef:b_,useState:function(){return Gc(Xs)},useDebugValue:Dd,useDeferredValue:function(e){var n=dn();return T_(n,rt.memoizedState,e)},useTransition:function(){var e=Gc(Xs)[0],n=dn().memoizedState;return[e,n]},useMutableSource:m_,useSyncExternalStore:g_,useId:L_,unstable_isNewReconciler:!1},qk={readContext:hn,useCallback:E_,useContext:hn,useEffect:Rd,useImperativeHandle:P_,useInsertionEffect:k_,useLayoutEffect:S_,useMemo:N_,useReducer:Xc,useRef:b_,useState:function(){return Xc(Xs)},useDebugValue:Dd,useDeferredValue:function(e){var n=dn();return rt===null?n.memoizedState=e:T_(n,rt.memoizedState,e)},useTransition:function(){var e=Xc(Xs)[0],n=dn().memoizedState;return[e,n]},useMutableSource:m_,useSyncExternalStore:g_,useId:L_,unstable_isNewReconciler:!1};function _n(e,n){if(e&&e.defaultProps){n=qe({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function th(e,n,r,i){n=e.memoizedState,r=r(i,n),r=r==null?n:qe({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tu={isMounted:function(e){return(e=e._reactInternals)?Ei(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var i=Ct(),o=$r(e),a=cr(i,o);a.payload=n,r!=null&&(a.callback=r),n=Br(e,a,o),n!==null&&(Cn(n,e,o,i),bl(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var i=Ct(),o=$r(e),a=cr(i,o);a.tag=1,a.payload=n,r!=null&&(a.callback=r),n=Br(e,a,o),n!==null&&(Cn(n,e,o,i),bl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Ct(),i=$r(e),o=cr(r,i);o.tag=2,n!=null&&(o.callback=n),n=Br(e,o,i),n!==null&&(Cn(n,e,i,r),bl(n,e,i))}};function bg(e,n,r,i,o,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,l):n.prototype&&n.prototype.isPureReactComponent?!$s(r,i)||!$s(o,a):!0}function A_(e,n,r){var i=!1,o=Vr,a=n.contextType;return typeof a=="object"&&a!==null?a=hn(a):(o=It(n)?_i:vt.current,i=n.contextTypes,a=(i=i!=null)?mo(e,o):Vr),n=new n(r,a),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Tu,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),n}function kg(e,n,r,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==e&&Tu.enqueueReplaceState(n,n.state,null)}function nh(e,n,r,i){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Ld(e);var a=n.contextType;typeof a=="object"&&a!==null?o.context=hn(a):(a=It(n)?_i:vt.current,o.context=mo(e,a)),o.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(th(e,n,a,r),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(n=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),n!==o.state&&Tu.enqueueReplaceState(o,o.state,null),Kl(e,r,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function _o(e,n){try{var r="",i=n;do r+=w2(i),i=i.return;while(i);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:n,stack:o,digest:null}}function Yc(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function rh(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var Gk=typeof WeakMap=="function"?WeakMap:Map;function O_(e,n,r){r=cr(-1,r),r.tag=3,r.payload={element:null};var i=n.value;return r.callback=function(){nu||(nu=!0,dh=i),rh(e,n)},r}function I_(e,n,r){r=cr(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;r.payload=function(){return i(o)},r.callback=function(){rh(e,n)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){rh(e,n),typeof i!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})}),r}function Sg(e,n,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Gk;var o=new Set;i.set(n,o)}else o=i.get(n),o===void 0&&(o=new Set,i.set(n,o));o.has(r)||(o.add(r),e=lS.bind(null,e,n,r),n.then(e,e))}function Cg(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Pg(e,n,r,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=cr(-1,1),n.tag=2,Br(r,n,1))),r.lanes|=1),e)}var Xk=yr.ReactCurrentOwner,zt=!1;function kt(e,n,r,i){n.child=e===null?f_(n,null,r,i):yo(n,e.child,r,i)}function Eg(e,n,r,i,o){r=r.render;var a=n.ref;return ao(n,o),i=Od(e,n,r,i,a,o),r=Id(),e!==null&&!zt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,mr(e,n,o)):($e&&r&&kd(n),n.flags|=1,kt(e,n,i,o),n.child)}function Ng(e,n,r,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!Vd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=a,R_(e,n,a,i,o)):(e=Nl(r.type,null,i,n,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}if(a=e.child,!(e.lanes&o)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(l,i)&&e.ref===n.ref)return mr(e,n,o)}return n.flags|=1,e=Hr(a,i),e.ref=n.ref,e.return=n,n.child=e}function R_(e,n,r,i,o){if(e!==null){var a=e.memoizedProps;if($s(a,i)&&e.ref===n.ref)if(zt=!1,n.pendingProps=i=a,(e.lanes&o)!==0)e.flags&131072&&(zt=!0);else return n.lanes=e.lanes,mr(e,n,o)}return ih(e,n,r,i,o)}function D_(e,n,r){var i=n.pendingProps,o=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(to,Ht),Ht|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ie(to,Ht),Ht|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:r,Ie(to,Ht),Ht|=i}else a!==null?(i=a.baseLanes|r,n.memoizedState=null):i=r,Ie(to,Ht),Ht|=i;return kt(e,n,o,r),n.child}function F_(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function ih(e,n,r,i,o){var a=It(r)?_i:vt.current;return a=mo(n,a),ao(n,o),r=Od(e,n,r,i,a,o),i=Id(),e!==null&&!zt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,mr(e,n,o)):($e&&i&&kd(n),n.flags|=1,kt(e,n,r,o),n.child)}function Tg(e,n,r,i,o){if(It(r)){var a=!0;Vl(n)}else a=!1;if(ao(n,o),n.stateNode===null)Cl(e,n),A_(n,r,i),nh(n,r,i,o),i=!0;else if(e===null){var l=n.stateNode,c=n.memoizedProps;l.props=c;var f=l.context,h=r.contextType;typeof h=="object"&&h!==null?h=hn(h):(h=It(r)?_i:vt.current,h=mo(n,h));var m=r.getDerivedStateFromProps,d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==i||f!==h)&&kg(n,l,i,h),Tr=!1;var g=n.memoizedState;l.state=g,Kl(n,i,l,o),f=n.memoizedState,c!==i||g!==f||Ot.current||Tr?(typeof m=="function"&&(th(n,r,m,i),f=n.memoizedState),(c=Tr||bg(n,r,c,i,g,f,h))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(n.flags|=4194308)):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=f),l.props=i,l.state=f,l.context=h,i=c):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{l=n.stateNode,d_(e,n),c=n.memoizedProps,h=n.type===n.elementType?c:_n(n.type,c),l.props=h,d=n.pendingProps,g=l.context,f=r.contextType,typeof f=="object"&&f!==null?f=hn(f):(f=It(r)?_i:vt.current,f=mo(n,f));var y=r.getDerivedStateFromProps;(m=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==d||g!==f)&&kg(n,l,i,f),Tr=!1,g=n.memoizedState,l.state=g,Kl(n,i,l,o);var w=n.memoizedState;c!==d||g!==w||Ot.current||Tr?(typeof y=="function"&&(th(n,r,y,i),w=n.memoizedState),(h=Tr||bg(n,r,h,i,g,w,f)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,w,f),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,w,f)),typeof l.componentDidUpdate=="function"&&(n.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=w),l.props=i,l.state=w,l.context=f,i=h):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(n.flags|=1024),i=!1)}return oh(e,n,r,i,a,o)}function oh(e,n,r,i,o,a){F_(e,n);var l=(n.flags&128)!==0;if(!i&&!l)return o&&pg(n,r,!1),mr(e,n,a);i=n.stateNode,Xk.current=n;var c=l&&typeof r.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&l?(n.child=yo(n,e.child,null,a),n.child=yo(n,null,c,a)):kt(e,n,c,a),n.memoizedState=i.state,o&&pg(n,r,!0),n.child}function B_(e){var n=e.stateNode;n.pendingContext?dg(e,n.pendingContext,n.pendingContext!==n.context):n.context&&dg(e,n.context,!1),jd(e,n.containerInfo)}function Lg(e,n,r,i,o){return go(),Cd(o),n.flags|=256,kt(e,n,r,i),n.child}var sh={dehydrated:null,treeContext:null,retryLane:0};function ah(e){return{baseLanes:e,cachePool:null,transitions:null}}function U_(e,n,r){var i=n.pendingProps,o=We.current,a=!1,l=(n.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(a=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ie(We,o&1),e===null)return Jf(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=i.children,e=i.fallback,a?(i=n.mode,a=n.child,l={mode:"hidden",children:l},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Mu(l,i,0,null),e=mi(e,i,r,null),a.return=n,e.return=n,a.sibling=e,n.child=a,n.child.memoizedState=ah(r),n.memoizedState=sh,e):Fd(n,l));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return Yk(e,n,l,i,c,o,r);if(a){a=i.fallback,l=n.mode,o=e.child,c=o.sibling;var f={mode:"hidden",children:i.children};return!(l&1)&&n.child!==o?(i=n.child,i.childLanes=0,i.pendingProps=f,n.deletions=null):(i=Hr(o,f),i.subtreeFlags=o.subtreeFlags&14680064),c!==null?a=Hr(c,a):(a=mi(a,l,r,null),a.flags|=2),a.return=n,i.return=n,i.sibling=a,n.child=i,i=a,a=n.child,l=e.child.memoizedState,l=l===null?ah(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,n.memoizedState=sh,i}return a=e.child,e=a.sibling,i=Hr(a,{mode:"visible",children:i.children}),!(n.mode&1)&&(i.lanes=r),i.return=n,i.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=i,n.memoizedState=null,i}function Fd(e,n){return n=Mu({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function nl(e,n,r,i){return i!==null&&Cd(i),yo(n,e.child,null,r),e=Fd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yk(e,n,r,i,o,a,l){if(r)return n.flags&256?(n.flags&=-257,i=Yc(Error(te(422))),nl(e,n,l,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(a=i.fallback,o=n.mode,i=Mu({mode:"visible",children:i.children},o,0,null),a=mi(a,o,l,null),a.flags|=2,i.return=n,a.return=n,i.sibling=a,n.child=i,n.mode&1&&yo(n,e.child,null,l),n.child.memoizedState=ah(l),n.memoizedState=sh,a);if(!(n.mode&1))return nl(e,n,l,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var c=i.dgst;return i=c,a=Error(te(419)),i=Yc(a,i,void 0),nl(e,n,l,i)}if(c=(l&e.childLanes)!==0,zt||c){if(i=at,i!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|l)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,pr(e,o),Cn(i,e,o,-1))}return Wd(),i=Yc(Error(te(421))),nl(e,n,l,i)}return o.data==="$?"?(n.flags|=128,n.child=e.child,n=uS.bind(null,e),o._reactRetry=n,null):(e=a.treeContext,Zt=Fr(o.nextSibling),Vt=n,$e=!0,wn=null,e!==null&&(on[sn++]=sr,on[sn++]=ar,on[sn++]=xi,sr=e.id,ar=e.overflow,xi=n),n=Fd(n,i.children),n.flags|=4096,n)}function jg(e,n,r){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),eh(e.return,n,r)}function Kc(e,n,r,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=o)}function $_(e,n,r){var i=n.pendingProps,o=i.revealOrder,a=i.tail;if(kt(e,n,i.children,r),i=We.current,i&2)i=i&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,r,n);else if(e.tag===19)jg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ie(We,i),!(n.mode&1))n.memoizedState=null;else switch(o){case"forwards":for(r=n.child,o=null;r!==null;)e=r.alternate,e!==null&&Ql(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=n.child,n.child=null):(o=r.sibling,r.sibling=null),Kc(n,!1,o,r,a);break;case"backwards":for(r=null,o=n.child,n.child=null;o!==null;){if(e=o.alternate,e!==null&&Ql(e)===null){n.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Kc(n,!0,r,null,a);break;case"together":Kc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Cl(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function mr(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),bi|=n.lanes,!(r&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(te(153));if(n.child!==null){for(e=n.child,r=Hr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Hr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Kk(e,n,r){switch(n.tag){case 3:B_(n),go();break;case 5:p_(n);break;case 1:It(n.type)&&Vl(n);break;case 4:jd(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,o=n.memoizedProps.value;Ie(Xl,i._currentValue),i._currentValue=o;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(Ie(We,We.current&1),n.flags|=128,null):r&n.child.childLanes?U_(e,n,r):(Ie(We,We.current&1),e=mr(e,n,r),e!==null?e.sibling:null);Ie(We,We.current&1);break;case 19:if(i=(r&n.childLanes)!==0,e.flags&128){if(i)return $_(e,n,r);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ie(We,We.current),i)break;return null;case 22:case 23:return n.lanes=0,D_(e,n,r)}return mr(e,n,r)}var H_,lh,Z_,W_;H_=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lh=function(){};Z_=function(e,n,r,i){var o=e.memoizedProps;if(o!==i){e=n.stateNode,hi(Un.current);var a=null;switch(r){case"input":o=Lf(e,o),i=Lf(e,i),a=[];break;case"select":o=qe({},o,{value:void 0}),i=qe({},i,{value:void 0}),a=[];break;case"textarea":o=zf(e,o),i=zf(e,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Zl)}Of(r,i);var l;r=null;for(h in o)if(!i.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var c=o[h];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Os.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in i){var f=i[h];if(c=o!=null?o[h]:void 0,i.hasOwnProperty(h)&&f!==c&&(f!=null||c!=null))if(h==="style")if(c){for(l in c)!c.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in f)f.hasOwnProperty(l)&&c[l]!==f[l]&&(r||(r={}),r[l]=f[l])}else r||(a||(a=[]),a.push(h,r)),r=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(a=a||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Os.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&De("scroll",e),a||c===f||(a=[])):(a=a||[]).push(h,f))}r&&(a=a||[]).push("style",r);var h=a;(n.updateQueue=h)&&(n.flags|=4)}};W_=function(e,n,r,i){r!==i&&(n.flags|=4)};function Qo(e,n){if(!$e)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function mt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(n)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=r,n}function Qk(e,n,r){var i=n.pendingProps;switch(Sd(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return It(n.type)&&Wl(),mt(n),null;case 3:return i=n.stateNode,vo(),Be(Ot),Be(vt),zd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(el(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,wn!==null&&(gh(wn),wn=null))),lh(e,n),mt(n),null;case 5:Md(n);var o=hi(qs.current);if(r=n.type,e!==null&&n.stateNode!=null)Z_(e,n,r,i,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(te(166));return mt(n),null}if(e=hi(Un.current),el(n)){i=n.stateNode,r=n.type;var a=n.memoizedProps;switch(i[Rn]=n,i[Ws]=a,e=(n.mode&1)!==0,r){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(o=0;o<ds.length;o++)De(ds[o],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":Bm(i,a),De("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},De("invalid",i);break;case"textarea":$m(i,a),De("invalid",i)}Of(r,a),o=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?i.textContent!==c&&(a.suppressHydrationWarning!==!0&&Ja(i.textContent,c,e),o=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Ja(i.textContent,c,e),o=["children",""+c]):Os.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&De("scroll",i)}switch(r){case"input":Wa(i),Um(i,a,!0);break;case"textarea":Wa(i),Hm(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Zl)}i=o,n.updateQueue=i,i!==null&&(n.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_v(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(r,{is:i.is}):(e=l.createElement(r),r==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,r),e[Rn]=n,e[Ws]=i,H_(e,n,!1,!1),n.stateNode=e;e:{switch(l=If(r,i),r){case"dialog":De("cancel",e),De("close",e),o=i;break;case"iframe":case"object":case"embed":De("load",e),o=i;break;case"video":case"audio":for(o=0;o<ds.length;o++)De(ds[o],e);o=i;break;case"source":De("error",e),o=i;break;case"img":case"image":case"link":De("error",e),De("load",e),o=i;break;case"details":De("toggle",e),o=i;break;case"input":Bm(e,i),o=Lf(e,i),De("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=qe({},i,{value:void 0}),De("invalid",e);break;case"textarea":$m(e,i),o=zf(e,i),De("invalid",e);break;default:o=i}Of(r,o),c=o;for(a in c)if(c.hasOwnProperty(a)){var f=c[a];a==="style"?bv(e,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&xv(e,f)):a==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&Is(e,f):typeof f=="number"&&Is(e,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Os.hasOwnProperty(a)?f!=null&&a==="onScroll"&&De("scroll",e):f!=null&&ud(e,a,f,l))}switch(r){case"input":Wa(e),Um(e,i,!1);break;case"textarea":Wa(e),Hm(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Wr(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?ro(e,!!i.multiple,a,!1):i.defaultValue!=null&&ro(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Zl)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return mt(n),null;case 6:if(e&&n.stateNode!=null)W_(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(te(166));if(r=hi(qs.current),hi(Un.current),el(n)){if(i=n.stateNode,r=n.memoizedProps,i[Rn]=n,(a=i.nodeValue!==r)&&(e=Vt,e!==null))switch(e.tag){case 3:Ja(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ja(i.nodeValue,r,(e.mode&1)!==0)}a&&(n.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Rn]=n,n.stateNode=i}return mt(n),null;case 13:if(Be(We),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Zt!==null&&n.mode&1&&!(n.flags&128))u_(),go(),n.flags|=98560,a=!1;else if(a=el(n),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(te(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[Rn]=n}else go(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;mt(n),a=!1}else wn!==null&&(gh(wn),wn=null),a=!0;if(!a)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,n.mode&1&&(e===null||We.current&1?it===0&&(it=3):Wd())),n.updateQueue!==null&&(n.flags|=4),mt(n),null);case 4:return vo(),lh(e,n),e===null&&Hs(n.stateNode.containerInfo),mt(n),null;case 10:return Nd(n.type._context),mt(n),null;case 17:return It(n.type)&&Wl(),mt(n),null;case 19:if(Be(We),a=n.memoizedState,a===null)return mt(n),null;if(i=(n.flags&128)!==0,l=a.rendering,l===null)if(i)Qo(a,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(l=Ql(e),l!==null){for(n.flags|=128,Qo(a,!1),i=l.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=r,r=n.child;r!==null;)a=r,e=i,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(We,We.current&1|2),n.child}e=e.sibling}a.tail!==null&&Ye()>xo&&(n.flags|=128,i=!0,Qo(a,!1),n.lanes=4194304)}else{if(!i)if(e=Ql(l),e!==null){if(n.flags|=128,i=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Qo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!$e)return mt(n),null}else 2*Ye()-a.renderingStartTime>xo&&r!==1073741824&&(n.flags|=128,i=!0,Qo(a,!1),n.lanes=4194304);a.isBackwards?(l.sibling=n.child,n.child=l):(r=a.last,r!==null?r.sibling=l:n.child=l,a.last=l)}return a.tail!==null?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=Ye(),n.sibling=null,r=We.current,Ie(We,i?r&1|2:r&1),n):(mt(n),null);case 22:case 23:return Zd(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&n.mode&1?Ht&1073741824&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),null;case 24:return null;case 25:return null}throw Error(te(156,n.tag))}function Jk(e,n){switch(Sd(n),n.tag){case 1:return It(n.type)&&Wl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vo(),Be(Ot),Be(vt),zd(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Md(n),null;case 13:if(Be(We),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(te(340));go()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Be(We),null;case 4:return vo(),null;case 10:return Nd(n.type._context),null;case 22:case 23:return Zd(),null;case 24:return null;default:return null}}var rl=!1,yt=!1,eS=typeof WeakSet=="function"?WeakSet:Set,ce=null;function eo(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Ge(e,n,i)}else r.current=null}function uh(e,n,r){try{r()}catch(i){Ge(e,n,i)}}var Mg=!1;function tS(e,n){if(Vf=Ul,e=Yv(),bd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,c=-1,f=-1,h=0,m=0,d=e,g=null;t:for(;;){for(var y;d!==r||o!==0&&d.nodeType!==3||(c=l+o),d!==a||i!==0&&d.nodeType!==3||(f=l+i),d.nodeType===3&&(l+=d.nodeValue.length),(y=d.firstChild)!==null;)g=d,d=y;for(;;){if(d===e)break t;if(g===r&&++h===o&&(c=l),g===a&&++m===i&&(f=l),(y=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=y}r=c===-1||f===-1?null:{start:c,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(qf={focusedElem:e,selectionRange:r},Ul=!1,ce=n;ce!==null;)if(n=ce,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ce=e;else for(;ce!==null;){n=ce;try{var w=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,P=w.memoizedState,x=n.stateNode,k=x.getSnapshotBeforeUpdate(n.elementType===n.type?S:_n(n.type,S),P);x.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var C=n.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(N){Ge(n,n.return,N)}if(e=n.sibling,e!==null){e.return=n.return,ce=e;break}ce=n.return}return w=Mg,Mg=!1,w}function Ss(e,n,r){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&uh(n,r,a)}o=o.next}while(o!==i)}}function Lu(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==n)}}function ch(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function V_(e){var n=e.alternate;n!==null&&(e.alternate=null,V_(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Rn],delete n[Ws],delete n[Yf],delete n[Rk],delete n[Dk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function q_(e){return e.tag===5||e.tag===3||e.tag===4}function zg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||q_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Zl));else if(i!==4&&(e=e.child,e!==null))for(fh(e,n,r),e=e.sibling;e!==null;)fh(e,n,r),e=e.sibling}function hh(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(hh(e,n,r),e=e.sibling;e!==null;)hh(e,n,r),e=e.sibling}var ct=null,xn=!1;function kr(e,n,r){for(r=r.child;r!==null;)G_(e,n,r),r=r.sibling}function G_(e,n,r){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(bu,r)}catch{}switch(r.tag){case 5:yt||eo(r,n);case 6:var i=ct,o=xn;ct=null,kr(e,n,r),ct=i,xn=o,ct!==null&&(xn?(e=ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ct.removeChild(r.stateNode));break;case 18:ct!==null&&(xn?(e=ct,r=r.stateNode,e.nodeType===8?Zc(e.parentNode,r):e.nodeType===1&&Zc(e,r),Bs(e)):Zc(ct,r.stateNode));break;case 4:i=ct,o=xn,ct=r.stateNode.containerInfo,xn=!0,kr(e,n,r),ct=i,xn=o;break;case 0:case 11:case 14:case 15:if(!yt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&uh(r,n,l),o=o.next}while(o!==i)}kr(e,n,r);break;case 1:if(!yt&&(eo(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(c){Ge(r,n,c)}kr(e,n,r);break;case 21:kr(e,n,r);break;case 22:r.mode&1?(yt=(i=yt)||r.memoizedState!==null,kr(e,n,r),yt=i):kr(e,n,r);break;default:kr(e,n,r)}}function Ag(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eS),n.forEach(function(i){var o=cS.bind(null,e,i);r.has(i)||(r.add(i),i.then(o,o))})}}function yn(e,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var a=e,l=n,c=l;e:for(;c!==null;){switch(c.tag){case 5:ct=c.stateNode,xn=!1;break e;case 3:ct=c.stateNode.containerInfo,xn=!0;break e;case 4:ct=c.stateNode.containerInfo,xn=!0;break e}c=c.return}if(ct===null)throw Error(te(160));G_(a,l,o),ct=null,xn=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(h){Ge(o,n,h)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)X_(n,e),n=n.sibling}function X_(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(n,e),Mn(e),i&4){try{Ss(3,e,e.return),Lu(3,e)}catch(S){Ge(e,e.return,S)}try{Ss(5,e,e.return)}catch(S){Ge(e,e.return,S)}}break;case 1:yn(n,e),Mn(e),i&512&&r!==null&&eo(r,r.return);break;case 5:if(yn(n,e),Mn(e),i&512&&r!==null&&eo(r,r.return),e.flags&32){var o=e.stateNode;try{Is(o,"")}catch(S){Ge(e,e.return,S)}}if(i&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,c=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&yv(o,a),If(c,l);var h=If(c,a);for(l=0;l<f.length;l+=2){var m=f[l],d=f[l+1];m==="style"?bv(o,d):m==="dangerouslySetInnerHTML"?xv(o,d):m==="children"?Is(o,d):ud(o,m,d,h)}switch(c){case"input":jf(o,a);break;case"textarea":vv(o,a);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?ro(o,!!a.multiple,y,!1):g!==!!a.multiple&&(a.defaultValue!=null?ro(o,!!a.multiple,a.defaultValue,!0):ro(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ws]=a}catch(S){Ge(e,e.return,S)}}break;case 6:if(yn(n,e),Mn(e),i&4){if(e.stateNode===null)throw Error(te(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(S){Ge(e,e.return,S)}}break;case 3:if(yn(n,e),Mn(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Bs(n.containerInfo)}catch(S){Ge(e,e.return,S)}break;case 4:yn(n,e),Mn(e);break;case 13:yn(n,e),Mn(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||($d=Ye())),i&4&&Ag(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(yt=(h=yt)||m,yn(n,e),yt=h):yn(n,e),Mn(e),i&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!m&&e.mode&1)for(ce=e,m=e.child;m!==null;){for(d=ce=m;ce!==null;){switch(g=ce,y=g.child,g.tag){case 0:case 11:case 14:case 15:Ss(4,g,g.return);break;case 1:eo(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){i=g,r=g.return;try{n=i,w.props=n.memoizedProps,w.state=n.memoizedState,w.componentWillUnmount()}catch(S){Ge(i,r,S)}}break;case 5:eo(g,g.return);break;case 22:if(g.memoizedState!==null){Ig(d);continue}}y!==null?(y.return=g,ce=y):Ig(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{o=d.stateNode,h?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=d.stateNode,f=d.memoizedProps.style,l=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=wv("display",l))}catch(S){Ge(e,e.return,S)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(S){Ge(e,e.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yn(n,e),Mn(e),i&4&&Ag(e);break;case 21:break;default:yn(n,e),Mn(e)}}function Mn(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(q_(r)){var i=r;break e}r=r.return}throw Error(te(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Is(o,""),i.flags&=-33);var a=zg(e);hh(e,a,o);break;case 3:case 4:var l=i.stateNode.containerInfo,c=zg(e);fh(e,c,l);break;default:throw Error(te(161))}}catch(f){Ge(e,e.return,f)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function nS(e,n,r){ce=e,Y_(e)}function Y_(e,n,r){for(var i=(e.mode&1)!==0;ce!==null;){var o=ce,a=o.child;if(o.tag===22&&i){var l=o.memoizedState!==null||rl;if(!l){var c=o.alternate,f=c!==null&&c.memoizedState!==null||yt;c=rl;var h=yt;if(rl=l,(yt=f)&&!h)for(ce=o;ce!==null;)l=ce,f=l.child,l.tag===22&&l.memoizedState!==null?Rg(o):f!==null?(f.return=l,ce=f):Rg(o);for(;a!==null;)ce=a,Y_(a),a=a.sibling;ce=o,rl=c,yt=h}Og(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,ce=a):Og(e)}}function Og(e){for(;ce!==null;){var n=ce;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:yt||Lu(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!yt)if(r===null)i.componentDidMount();else{var o=n.elementType===n.type?r.memoizedProps:_n(n.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=n.updateQueue;a!==null&&_g(n,a,i);break;case 3:var l=n.updateQueue;if(l!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}_g(n,l,r)}break;case 5:var c=n.stateNode;if(r===null&&n.flags&4){r=c;var f=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var h=n.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&Bs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}yt||n.flags&512&&ch(n)}catch(g){Ge(n,n.return,g)}}if(n===e){ce=null;break}if(r=n.sibling,r!==null){r.return=n.return,ce=r;break}ce=n.return}}function Ig(e){for(;ce!==null;){var n=ce;if(n===e){ce=null;break}var r=n.sibling;if(r!==null){r.return=n.return,ce=r;break}ce=n.return}}function Rg(e){for(;ce!==null;){var n=ce;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Lu(4,n)}catch(f){Ge(n,r,f)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var o=n.return;try{i.componentDidMount()}catch(f){Ge(n,o,f)}}var a=n.return;try{ch(n)}catch(f){Ge(n,a,f)}break;case 5:var l=n.return;try{ch(n)}catch(f){Ge(n,l,f)}}}catch(f){Ge(n,n.return,f)}if(n===e){ce=null;break}var c=n.sibling;if(c!==null){c.return=n.return,ce=c;break}ce=n.return}}var rS=Math.ceil,tu=yr.ReactCurrentDispatcher,Bd=yr.ReactCurrentOwner,fn=yr.ReactCurrentBatchConfig,Pe=0,at=null,et=null,ft=0,Ht=0,to=Gr(0),it=0,Ks=null,bi=0,ju=0,Ud=0,Cs=null,Mt=null,$d=0,xo=1/0,rr=null,nu=!1,dh=null,Ur=null,il=!1,Ar=null,ru=0,Ps=0,ph=null,Pl=-1,El=0;function Ct(){return Pe&6?Ye():Pl!==-1?Pl:Pl=Ye()}function $r(e){return e.mode&1?Pe&2&&ft!==0?ft&-ft:Bk.transition!==null?(El===0&&(El=Av()),El):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Uv(e.type)),e):1}function Cn(e,n,r,i){if(50<Ps)throw Ps=0,ph=null,Error(te(185));ca(e,r,i),(!(Pe&2)||e!==at)&&(e===at&&(!(Pe&2)&&(ju|=r),it===4&&Mr(e,ft)),Rt(e,i),r===1&&Pe===0&&!(n.mode&1)&&(xo=Ye()+500,Eu&&Xr()))}function Rt(e,n){var r=e.callbackNode;B2(e,n);var i=Bl(e,e===at?ft:0);if(i===0)r!==null&&Vm(r),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(r!=null&&Vm(r),n===1)e.tag===0?Fk(Dg.bind(null,e)):s_(Dg.bind(null,e)),Ok(function(){!(Pe&6)&&Xr()}),r=null;else{switch(Ov(i)){case 1:r=pd;break;case 4:r=Mv;break;case 16:r=Fl;break;case 536870912:r=zv;break;default:r=Fl}r=ix(r,K_.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function K_(e,n){if(Pl=-1,El=0,Pe&6)throw Error(te(327));var r=e.callbackNode;if(lo()&&e.callbackNode!==r)return null;var i=Bl(e,e===at?ft:0);if(i===0)return null;if(i&30||i&e.expiredLanes||n)n=iu(e,i);else{n=i;var o=Pe;Pe|=2;var a=J_();(at!==e||ft!==n)&&(rr=null,xo=Ye()+500,pi(e,n));do try{sS();break}catch(c){Q_(e,c)}while(!0);Ed(),tu.current=a,Pe=o,et!==null?n=0:(at=null,ft=0,n=it)}if(n!==0){if(n===2&&(o=Uf(e),o!==0&&(i=o,n=mh(e,o))),n===1)throw r=Ks,pi(e,0),Mr(e,i),Rt(e,Ye()),r;if(n===6)Mr(e,i);else{if(o=e.current.alternate,!(i&30)&&!iS(o)&&(n=iu(e,i),n===2&&(a=Uf(e),a!==0&&(i=a,n=mh(e,a))),n===1))throw r=Ks,pi(e,0),Mr(e,i),Rt(e,Ye()),r;switch(e.finishedWork=o,e.finishedLanes=i,n){case 0:case 1:throw Error(te(345));case 2:ai(e,Mt,rr);break;case 3:if(Mr(e,i),(i&130023424)===i&&(n=$d+500-Ye(),10<n)){if(Bl(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Ct(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Xf(ai.bind(null,e,Mt,rr),n);break}ai(e,Mt,rr);break;case 4:if(Mr(e,i),(i&4194240)===i)break;for(n=e.eventTimes,o=-1;0<i;){var l=31-Sn(i);a=1<<l,l=n[l],l>o&&(o=l),i&=~a}if(i=o,i=Ye()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*rS(i/1960))-i,10<i){e.timeoutHandle=Xf(ai.bind(null,e,Mt,rr),i);break}ai(e,Mt,rr);break;case 5:ai(e,Mt,rr);break;default:throw Error(te(329))}}}return Rt(e,Ye()),e.callbackNode===r?K_.bind(null,e):null}function mh(e,n){var r=Cs;return e.current.memoizedState.isDehydrated&&(pi(e,n).flags|=256),e=iu(e,n),e!==2&&(n=Mt,Mt=r,n!==null&&gh(n)),e}function gh(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function iS(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],a=o.getSnapshot;o=o.value;try{if(!Pn(a(),o))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n){for(n&=~Ud,n&=~ju,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-Sn(n),i=1<<r;e[r]=-1,n&=~i}}function Dg(e){if(Pe&6)throw Error(te(327));lo();var n=Bl(e,0);if(!(n&1))return Rt(e,Ye()),null;var r=iu(e,n);if(e.tag!==0&&r===2){var i=Uf(e);i!==0&&(n=i,r=mh(e,i))}if(r===1)throw r=Ks,pi(e,0),Mr(e,n),Rt(e,Ye()),r;if(r===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ai(e,Mt,rr),Rt(e,Ye()),null}function Hd(e,n){var r=Pe;Pe|=1;try{return e(n)}finally{Pe=r,Pe===0&&(xo=Ye()+500,Eu&&Xr())}}function ki(e){Ar!==null&&Ar.tag===0&&!(Pe&6)&&lo();var n=Pe;Pe|=1;var r=fn.transition,i=Me;try{if(fn.transition=null,Me=1,e)return e()}finally{Me=i,fn.transition=r,Pe=n,!(Pe&6)&&Xr()}}function Zd(){Ht=to.current,Be(to)}function pi(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ak(r)),et!==null)for(r=et.return;r!==null;){var i=r;switch(Sd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wl();break;case 3:vo(),Be(Ot),Be(vt),zd();break;case 5:Md(i);break;case 4:vo();break;case 13:Be(We);break;case 19:Be(We);break;case 10:Nd(i.type._context);break;case 22:case 23:Zd()}r=r.return}if(at=e,et=e=Hr(e.current,null),ft=Ht=n,it=0,Ks=null,Ud=ju=bi=0,Mt=Cs=null,fi!==null){for(n=0;n<fi.length;n++)if(r=fi[n],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,a=r.pending;if(a!==null){var l=a.next;a.next=o,i.next=l}r.pending=i}fi=null}return e}function Q_(e,n){do{var r=et;try{if(Ed(),kl.current=eu,Jl){for(var i=Ve.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Jl=!1}if(wi=0,st=rt=Ve=null,ks=!1,Gs=0,Bd.current=null,r===null||r.return===null){it=1,Ks=n,et=null;break}e:{var a=e,l=r.return,c=r,f=n;if(n=ft,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,m=c,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Cg(l);if(y!==null){y.flags&=-257,Pg(y,l,c,a,n),y.mode&1&&Sg(a,h,n),n=y,f=h;var w=n.updateQueue;if(w===null){var S=new Set;S.add(f),n.updateQueue=S}else w.add(f);break e}else{if(!(n&1)){Sg(a,h,n),Wd();break e}f=Error(te(426))}}else if($e&&c.mode&1){var P=Cg(l);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Pg(P,l,c,a,n),Cd(_o(f,c));break e}}a=f=_o(f,c),it!==4&&(it=2),Cs===null?Cs=[a]:Cs.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var x=O_(a,f,n);vg(a,x);break e;case 1:c=f;var k=a.type,C=a.stateNode;if(!(a.flags&128)&&(typeof k.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ur===null||!Ur.has(C)))){a.flags|=65536,n&=-n,a.lanes|=n;var N=I_(a,c,n);vg(a,N);break e}}a=a.return}while(a!==null)}tx(r)}catch(M){n=M,et===r&&r!==null&&(et=r=r.return);continue}break}while(!0)}function J_(){var e=tu.current;return tu.current=eu,e===null?eu:e}function Wd(){(it===0||it===3||it===2)&&(it=4),at===null||!(bi&268435455)&&!(ju&268435455)||Mr(at,ft)}function iu(e,n){var r=Pe;Pe|=2;var i=J_();(at!==e||ft!==n)&&(rr=null,pi(e,n));do try{oS();break}catch(o){Q_(e,o)}while(!0);if(Ed(),Pe=r,tu.current=i,et!==null)throw Error(te(261));return at=null,ft=0,it}function oS(){for(;et!==null;)ex(et)}function sS(){for(;et!==null&&!j2();)ex(et)}function ex(e){var n=rx(e.alternate,e,Ht);e.memoizedProps=e.pendingProps,n===null?tx(e):et=n,Bd.current=null}function tx(e){var n=e;do{var r=n.alternate;if(e=n.return,n.flags&32768){if(r=Jk(r,n),r!==null){r.flags&=32767,et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,et=null;return}}else if(r=Qk(r,n,Ht),r!==null){et=r;return}if(n=n.sibling,n!==null){et=n;return}et=n=e}while(n!==null);it===0&&(it=5)}function ai(e,n,r){var i=Me,o=fn.transition;try{fn.transition=null,Me=1,aS(e,n,r,i)}finally{fn.transition=o,Me=i}return null}function aS(e,n,r,i){do lo();while(Ar!==null);if(Pe&6)throw Error(te(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(U2(e,a),e===at&&(et=at=null,ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||il||(il=!0,ix(Fl,function(){return lo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=fn.transition,fn.transition=null;var l=Me;Me=1;var c=Pe;Pe|=4,Bd.current=null,tS(e,r),X_(r,e),Ek(qf),Ul=!!Vf,qf=Vf=null,e.current=r,nS(r),M2(),Pe=c,Me=l,fn.transition=a}else e.current=r;if(il&&(il=!1,Ar=e,ru=o),a=e.pendingLanes,a===0&&(Ur=null),O2(r.stateNode),Rt(e,Ye()),n!==null)for(i=e.onRecoverableError,r=0;r<n.length;r++)o=n[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(nu)throw nu=!1,e=dh,dh=null,e;return ru&1&&e.tag!==0&&lo(),a=e.pendingLanes,a&1?e===ph?Ps++:(Ps=0,ph=e):Ps=0,Xr(),null}function lo(){if(Ar!==null){var e=Ov(ru),n=fn.transition,r=Me;try{if(fn.transition=null,Me=16>e?16:e,Ar===null)var i=!1;else{if(e=Ar,Ar=null,ru=0,Pe&6)throw Error(te(331));var o=Pe;for(Pe|=4,ce=e.current;ce!==null;){var a=ce,l=a.child;if(ce.flags&16){var c=a.deletions;if(c!==null){for(var f=0;f<c.length;f++){var h=c[f];for(ce=h;ce!==null;){var m=ce;switch(m.tag){case 0:case 11:case 15:Ss(8,m,a)}var d=m.child;if(d!==null)d.return=m,ce=d;else for(;ce!==null;){m=ce;var g=m.sibling,y=m.return;if(V_(m),m===h){ce=null;break}if(g!==null){g.return=y,ce=g;break}ce=y}}}var w=a.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}ce=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,ce=l;else e:for(;ce!==null;){if(a=ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ss(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ce=x;break e}ce=a.return}}var k=e.current;for(ce=k;ce!==null;){l=ce;var C=l.child;if(l.subtreeFlags&2064&&C!==null)C.return=l,ce=C;else e:for(l=k;ce!==null;){if(c=ce,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Lu(9,c)}}catch(M){Ge(c,c.return,M)}if(c===l){ce=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,ce=N;break e}ce=c.return}}if(Pe=o,Xr(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(bu,e)}catch{}i=!0}return i}finally{Me=r,fn.transition=n}}return!1}function Fg(e,n,r){n=_o(r,n),n=O_(e,n,1),e=Br(e,n,1),n=Ct(),e!==null&&(ca(e,1,n),Rt(e,n))}function Ge(e,n,r){if(e.tag===3)Fg(e,e,r);else for(;n!==null;){if(n.tag===3){Fg(n,e,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ur===null||!Ur.has(i))){e=_o(r,e),e=I_(n,e,1),n=Br(n,e,1),e=Ct(),n!==null&&(ca(n,1,e),Rt(n,e));break}}n=n.return}}function lS(e,n,r){var i=e.pingCache;i!==null&&i.delete(n),n=Ct(),e.pingedLanes|=e.suspendedLanes&r,at===e&&(ft&r)===r&&(it===4||it===3&&(ft&130023424)===ft&&500>Ye()-$d?pi(e,0):Ud|=r),Rt(e,n)}function nx(e,n){n===0&&(e.mode&1?(n=Ga,Ga<<=1,!(Ga&130023424)&&(Ga=4194304)):n=1);var r=Ct();e=pr(e,n),e!==null&&(ca(e,n,r),Rt(e,r))}function uS(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),nx(e,r)}function cS(e,n){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(te(314))}i!==null&&i.delete(n),nx(e,r)}var rx;rx=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||Ot.current)zt=!0;else{if(!(e.lanes&r)&&!(n.flags&128))return zt=!1,Kk(e,n,r);zt=!!(e.flags&131072)}else zt=!1,$e&&n.flags&1048576&&a_(n,Gl,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;Cl(e,n),e=n.pendingProps;var o=mo(n,vt.current);ao(n,r),o=Od(null,n,i,e,o,r);var a=Id();return n.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,It(i)?(a=!0,Vl(n)):a=!1,n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ld(n),o.updater=Tu,n.stateNode=o,o._reactInternals=n,nh(n,i,e,r),n=oh(null,n,i,!0,a,r)):(n.tag=0,$e&&a&&kd(n),kt(null,n,o,r),n=n.child),n;case 16:i=n.elementType;e:{switch(Cl(e,n),e=n.pendingProps,o=i._init,i=o(i._payload),n.type=i,o=n.tag=hS(i),e=_n(i,e),o){case 0:n=ih(null,n,i,e,r);break e;case 1:n=Tg(null,n,i,e,r);break e;case 11:n=Eg(null,n,i,e,r);break e;case 14:n=Ng(null,n,i,_n(i.type,e),r);break e}throw Error(te(306,i,""))}return n;case 0:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:_n(i,o),ih(e,n,i,o,r);case 1:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:_n(i,o),Tg(e,n,i,o,r);case 3:e:{if(B_(n),e===null)throw Error(te(387));i=n.pendingProps,a=n.memoizedState,o=a.element,d_(e,n),Kl(n,i,null,r);var l=n.memoizedState;if(i=l.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=a,n.memoizedState=a,n.flags&256){o=_o(Error(te(423)),n),n=Lg(e,n,i,r,o);break e}else if(i!==o){o=_o(Error(te(424)),n),n=Lg(e,n,i,r,o);break e}else for(Zt=Fr(n.stateNode.containerInfo.firstChild),Vt=n,$e=!0,wn=null,r=f_(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(go(),i===o){n=mr(e,n,r);break e}kt(e,n,i,r)}n=n.child}return n;case 5:return p_(n),e===null&&Jf(n),i=n.type,o=n.pendingProps,a=e!==null?e.memoizedProps:null,l=o.children,Gf(i,o)?l=null:a!==null&&Gf(i,a)&&(n.flags|=32),F_(e,n),kt(e,n,l,r),n.child;case 6:return e===null&&Jf(n),null;case 13:return U_(e,n,r);case 4:return jd(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=yo(n,null,i,r):kt(e,n,i,r),n.child;case 11:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:_n(i,o),Eg(e,n,i,o,r);case 7:return kt(e,n,n.pendingProps,r),n.child;case 8:return kt(e,n,n.pendingProps.children,r),n.child;case 12:return kt(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(i=n.type._context,o=n.pendingProps,a=n.memoizedProps,l=o.value,Ie(Xl,i._currentValue),i._currentValue=l,a!==null)if(Pn(a.value,l)){if(a.children===o.children&&!Ot.current){n=mr(e,n,r);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var f=c.firstContext;f!==null;){if(f.context===i){if(a.tag===1){f=cr(-1,r&-r),f.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?f.next=f:(f.next=m.next,m.next=f),h.pending=f}}a.lanes|=r,f=a.alternate,f!==null&&(f.lanes|=r),eh(a.return,r,n),c.lanes|=r;break}f=f.next}}else if(a.tag===10)l=a.type===n.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(te(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),eh(l,r,n),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===n){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}kt(e,n,o.children,r),n=n.child}return n;case 9:return o=n.type,i=n.pendingProps.children,ao(n,r),o=hn(o),i=i(o),n.flags|=1,kt(e,n,i,r),n.child;case 14:return i=n.type,o=_n(i,n.pendingProps),o=_n(i.type,o),Ng(e,n,i,o,r);case 15:return R_(e,n,n.type,n.pendingProps,r);case 17:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:_n(i,o),Cl(e,n),n.tag=1,It(i)?(e=!0,Vl(n)):e=!1,ao(n,r),A_(n,i,o),nh(n,i,o,r),oh(null,n,i,!0,e,r);case 19:return $_(e,n,r);case 22:return D_(e,n,r)}throw Error(te(156,n.tag))};function ix(e,n){return jv(e,n)}function fS(e,n,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,r,i){return new fS(e,n,r,i)}function Vd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hS(e){if(typeof e=="function")return Vd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fd)return 11;if(e===hd)return 14}return 2}function Hr(e,n){var r=e.alternate;return r===null?(r=cn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nl(e,n,r,i,o,a){var l=2;if(i=e,typeof e=="function")Vd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Wi:return mi(r.children,o,a,n);case cd:l=8,o|=8;break;case Pf:return e=cn(12,r,n,o|2),e.elementType=Pf,e.lanes=a,e;case Ef:return e=cn(13,r,n,o),e.elementType=Ef,e.lanes=a,e;case Nf:return e=cn(19,r,n,o),e.elementType=Nf,e.lanes=a,e;case pv:return Mu(r,o,a,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hv:l=10;break e;case dv:l=9;break e;case fd:l=11;break e;case hd:l=14;break e;case Nr:l=16,i=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return n=cn(l,r,n,o),n.elementType=e,n.type=i,n.lanes=a,n}function mi(e,n,r,i){return e=cn(7,e,i,n),e.lanes=r,e}function Mu(e,n,r,i){return e=cn(22,e,i,n),e.elementType=pv,e.lanes=r,e.stateNode={isHidden:!1},e}function Qc(e,n,r){return e=cn(6,e,null,n),e.lanes=r,e}function Jc(e,n,r){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function dS(e,n,r,i,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function qd(e,n,r,i,o,a,l,c,f){return e=new dS(e,n,r,c,f),n===1?(n=1,a===!0&&(n|=8)):n=0,a=cn(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ld(a),e}function pS(e,n,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:i==null?null:""+i,children:e,containerInfo:n,implementation:r}}function ox(e){if(!e)return Vr;e=e._reactInternals;e:{if(Ei(e)!==e||e.tag!==1)throw Error(te(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(It(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(te(171))}if(e.tag===1){var r=e.type;if(It(r))return o_(e,r,n)}return n}function sx(e,n,r,i,o,a,l,c,f){return e=qd(r,i,!0,e,o,a,l,c,f),e.context=ox(null),r=e.current,i=Ct(),o=$r(r),a=cr(i,o),a.callback=n??null,Br(r,a,o),e.current.lanes=o,ca(e,o,i),Rt(e,i),e}function zu(e,n,r,i){var o=n.current,a=Ct(),l=$r(o);return r=ox(r),n.context===null?n.context=r:n.pendingContext=r,n=cr(a,l),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=Br(o,n,l),e!==null&&(Cn(e,o,l,a),bl(e,o,l)),l}function ou(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Gd(e,n){Bg(e,n),(e=e.alternate)&&Bg(e,n)}function mS(){return null}var ax=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xd(e){this._internalRoot=e}Au.prototype.render=Xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(te(409));zu(e,n,null,null)};Au.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ki(function(){zu(null,e,null,null)}),n[dr]=null}};function Au(e){this._internalRoot=e}Au.prototype.unstable_scheduleHydration=function(e){if(e){var n=Dv();e={blockedOn:null,target:e,priority:n};for(var r=0;r<jr.length&&n!==0&&n<jr[r].priority;r++);jr.splice(r,0,e),r===0&&Bv(e)}};function Yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ug(){}function gS(e,n,r,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var h=ou(l);a.call(h)}}var l=sx(n,i,e,0,null,!1,!1,"",Ug);return e._reactRootContainer=l,e[dr]=l.current,Hs(e.nodeType===8?e.parentNode:e),ki(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var c=i;i=function(){var h=ou(f);c.call(h)}}var f=qd(e,0,!1,null,null,!1,!1,"",Ug);return e._reactRootContainer=f,e[dr]=f.current,Hs(e.nodeType===8?e.parentNode:e),ki(function(){zu(n,f,r,i)}),f}function Iu(e,n,r,i,o){var a=r._reactRootContainer;if(a){var l=a;if(typeof o=="function"){var c=o;o=function(){var f=ou(l);c.call(f)}}zu(n,l,e,o)}else l=gS(r,n,e,o,i);return ou(l)}Iv=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=hs(n.pendingLanes);r!==0&&(md(n,r|1),Rt(n,Ye()),!(Pe&6)&&(xo=Ye()+500,Xr()))}break;case 13:ki(function(){var i=pr(e,1);if(i!==null){var o=Ct();Cn(i,e,1,o)}}),Gd(e,1)}};gd=function(e){if(e.tag===13){var n=pr(e,134217728);if(n!==null){var r=Ct();Cn(n,e,134217728,r)}Gd(e,134217728)}};Rv=function(e){if(e.tag===13){var n=$r(e),r=pr(e,n);if(r!==null){var i=Ct();Cn(r,e,n,i)}Gd(e,n)}};Dv=function(){return Me};Fv=function(e,n){var r=Me;try{return Me=e,n()}finally{Me=r}};Df=function(e,n,r){switch(n){case"input":if(jf(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==e&&i.form===e.form){var o=Pu(i);if(!o)throw Error(te(90));gv(i),jf(i,o)}}}break;case"textarea":vv(e,r);break;case"select":n=r.value,n!=null&&ro(e,!!r.multiple,n,!1)}};Cv=Hd;Pv=ki;var yS={usingClientEntryPoint:!1,Events:[ha,Xi,Pu,kv,Sv,Hd]},Jo={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vS={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tv(e),e===null?null:e.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||mS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{bu=ol.inject(vS),Bn=ol}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yS;Xt.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(n))throw Error(te(200));return pS(e,n,null,r)};Xt.createRoot=function(e,n){if(!Yd(e))throw Error(te(299));var r=!1,i="",o=ax;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),n=qd(e,1,!1,null,null,r,!1,i,o),e[dr]=n.current,Hs(e.nodeType===8?e.parentNode:e),new Xd(n)};Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=Tv(n),e=e===null?null:e.stateNode,e};Xt.flushSync=function(e){return ki(e)};Xt.hydrate=function(e,n,r){if(!Ou(n))throw Error(te(200));return Iu(null,e,n,!0,r)};Xt.hydrateRoot=function(e,n,r){if(!Yd(e))throw Error(te(405));var i=r!=null&&r.hydratedSources||null,o=!1,a="",l=ax;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),n=sx(n,null,e,1,r??null,o,!1,a,l),e[dr]=n.current,Hs(e),i)for(e=0;e<i.length;e++)r=i[e],o=r._getVersion,o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o);return new Au(n)};Xt.render=function(e,n,r){if(!Ou(n))throw Error(te(200));return Iu(null,e,n,!1,r)};Xt.unmountComponentAtNode=function(e){if(!Ou(e))throw Error(te(40));return e._reactRootContainer?(ki(function(){Iu(null,null,e,!1,function(){e._reactRootContainer=null,e[dr]=null})}),!0):!1};Xt.unstable_batchedUpdates=Hd;Xt.unstable_renderSubtreeIntoContainer=function(e,n,r,i){if(!Ou(r))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return Iu(e,n,r,!1,i)};Xt.version="18.3.1-next-f1338f8080-20240426";function lx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lx)}catch(e){console.error(e)}}lx(),lv.exports=Xt;var ux=lv.exports,$g=ux;Sf.createRoot=$g.createRoot,Sf.hydrateRoot=$g.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Qs.apply(this,arguments)}var Or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Or||(Or={}));const Hg="popstate";function _S(e){e===void 0&&(e={});function n(i,o){let{pathname:a,search:l,hash:c}=i.location;return yh("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:su(o)}return wS(n,r,null,e)}function tt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Kd(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function xS(){return Math.random().toString(36).substr(2,8)}function Zg(e,n){return{usr:e.state,key:e.key,idx:n}}function yh(e,n,r,i){return r===void 0&&(r=null),Qs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?No(n):n,{state:r,key:n&&n.key||i||xS()})}function su(e){let{pathname:n="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function No(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(n.search=e.substr(i),e=e.substr(0,i)),e&&(n.pathname=e)}return n}function wS(e,n,r,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,l=o.history,c=Or.Pop,f=null,h=m();h==null&&(h=0,l.replaceState(Qs({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function d(){c=Or.Pop;let P=m(),x=P==null?null:P-h;h=P,f&&f({action:c,location:S.location,delta:x})}function g(P,x){c=Or.Push;let k=yh(S.location,P,x);h=m()+1;let C=Zg(k,h),N=S.createHref(k);try{l.pushState(C,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(N)}a&&f&&f({action:c,location:S.location,delta:1})}function y(P,x){c=Or.Replace;let k=yh(S.location,P,x);h=m();let C=Zg(k,h),N=S.createHref(k);l.replaceState(C,"",N),a&&f&&f({action:c,location:S.location,delta:0})}function w(P){let x=o.location.origin!=="null"?o.location.origin:o.location.href,k=typeof P=="string"?P:su(P);return k=k.replace(/ $/,"%20"),tt(x,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,x)}let S={get action(){return c},get location(){return e(o,l)},listen(P){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Hg,d),f=P,()=>{o.removeEventListener(Hg,d),f=null}},createHref(P){return n(o,P)},createURL:w,encodeLocation(P){let x=w(P);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:y,go(P){return l.go(P)}};return S}var Wg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wg||(Wg={}));function bS(e,n,r){return r===void 0&&(r="/"),kS(e,n,r)}function kS(e,n,r,i){let o=typeof n=="string"?No(n):n,a=Qd(o.pathname||"/",r);if(a==null)return null;let l=cx(e);SS(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=IS(a);c=zS(l[f],h)}return c}function cx(e,n,r,i){n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i="");let o=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(tt(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let h=Zr([i,f.relativePath]),m=r.concat(f);a.children&&a.children.length>0&&(tt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),cx(a.children,n,m,h)),!(a.path==null&&!a.index)&&n.push({path:h,score:jS(h,a.index),routesMeta:m})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,l);else for(let f of fx(a.path))o(a,l,f)}),n}function fx(e){let n=e.split("/");if(n.length===0)return[];let[r,...i]=n,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let l=fx(i.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),o&&c.push(...l),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function SS(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:MS(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const CS=/^:[\w-]+$/,PS=3,ES=2,NS=1,TS=10,LS=-2,Vg=e=>e==="*";function jS(e,n){let r=e.split("/"),i=r.length;return r.some(Vg)&&(i+=LS),n&&(i+=ES),r.filter(o=>!Vg(o)).reduce((o,a)=>o+(CS.test(a)?PS:a===""?NS:TS),i)}function MS(e,n){return e.length===n.length&&e.slice(0,-1).every((i,o)=>i===n[o])?e[e.length-1]-n[n.length-1]:0}function zS(e,n,r){let{routesMeta:i}=e,o={},a="/",l=[];for(let c=0;c<i.length;++c){let f=i[c],h=c===i.length-1,m=a==="/"?n:n.slice(a.length)||"/",d=AS({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),g=f.route;if(!d)return null;Object.assign(o,d.params),l.push({params:o,pathname:Zr([a,d.pathname]),pathnameBase:US(Zr([a,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(a=Zr([a,d.pathnameBase]))}return l}function AS(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=OS(e.path,e.caseSensitive,e.end),o=n.match(r);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((h,m,d)=>{let{paramName:g,isOptional:y}=m;if(g==="*"){let S=c[d]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const w=c[d];return y&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:e}}function OS(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),Kd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),i]}function IS(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Kd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Qd(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}const RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=e=>RS.test(e);function FS(e,n){n===void 0&&(n="/");let{pathname:r,search:i="",hash:o=""}=typeof e=="string"?No(e):e,a;if(r)if(DS(r))a=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Kd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?a=qg(r.substring(1),"/"):a=qg(r,n)}else a=n;return{pathname:a,search:$S(i),hash:HS(o)}}function qg(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function ef(e,n,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BS(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function hx(e,n){let r=BS(e);return n?r.map((i,o)=>o===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function dx(e,n,r,i){i===void 0&&(i=!1);let o;typeof e=="string"?o=No(e):(o=Qs({},e),tt(!o.pathname||!o.pathname.includes("?"),ef("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),ef("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),ef("#","search","hash",o)));let a=e===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=r;else{let d=n.length-1;if(!i&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),d-=1;o.pathname=g.join("/")}c=d>=0?n[d]:"/"}let f=FS(o,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}const Zr=e=>e.join("/").replace(/\/\/+/g,"/"),US=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$S=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const px=["post","put","patch","delete"];new Set(px);const WS=["get",...px];new Set(WS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Js.apply(this,arguments)}const Jd=I.createContext(null),VS=I.createContext(null),Ni=I.createContext(null),Ru=I.createContext(null),Yr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),mx=I.createContext(null);function qS(e,n){let{relative:r}=n===void 0?{}:n;pa()||tt(!1);let{basename:i,navigator:o}=I.useContext(Ni),{hash:a,pathname:l,search:c}=vx(e,{relative:r}),f=l;return i!=="/"&&(f=l==="/"?i:Zr([i,l])),o.createHref({pathname:f,search:c,hash:a})}function pa(){return I.useContext(Ru)!=null}function ma(){return pa()||tt(!1),I.useContext(Ru).location}function gx(e){I.useContext(Ni).static||I.useLayoutEffect(e)}function vr(){let{isDataRoute:e}=I.useContext(Yr);return e?sC():GS()}function GS(){pa()||tt(!1);let e=I.useContext(Jd),{basename:n,future:r,navigator:i}=I.useContext(Ni),{matches:o}=I.useContext(Yr),{pathname:a}=ma(),l=JSON.stringify(hx(o,r.v7_relativeSplatPath)),c=I.useRef(!1);return gx(()=>{c.current=!0}),I.useCallback(function(h,m){if(m===void 0&&(m={}),!c.current)return;if(typeof h=="number"){i.go(h);return}let d=dx(h,JSON.parse(l),a,m.relative==="path");e==null&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Zr([n,d.pathname])),(m.replace?i.replace:i.push)(d,m.state,m)},[n,i,l,a,e])}function yx(){let{matches:e}=I.useContext(Yr),n=e[e.length-1];return n?n.params:{}}function vx(e,n){let{relative:r}=n===void 0?{}:n,{future:i}=I.useContext(Ni),{matches:o}=I.useContext(Yr),{pathname:a}=ma(),l=JSON.stringify(hx(o,i.v7_relativeSplatPath));return I.useMemo(()=>dx(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function XS(e,n){return YS(e,n)}function YS(e,n,r,i){pa()||tt(!1);let{navigator:o}=I.useContext(Ni),{matches:a}=I.useContext(Yr),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let h=ma(),m;if(n){var d;let P=typeof n=="string"?No(n):n;f==="/"||(d=P.pathname)!=null&&d.startsWith(f)||tt(!1),m=P}else m=h;let g=m.pathname||"/",y=g;if(f!=="/"){let P=f.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(P.length).join("/")}let w=bS(e,{pathname:y}),S=tC(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:Zr([f,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Zr([f,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,r,i);return n&&S?I.createElement(Ru.Provider,{value:{location:Js({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Or.Pop}},S):S}function KS(){let e=oC(),n=ZS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},n),r?I.createElement("pre",{style:o},r):null,null)}const QS=I.createElement(KS,null);class JS extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?I.createElement(Yr.Provider,{value:this.props.routeContext},I.createElement(mx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eC(e){let{routeContext:n,match:r,children:i}=e,o=I.useContext(Jd);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(Yr.Provider,{value:n},i)}function tC(e,n,r,i){var o;if(n===void 0&&(n=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=i)!=null&&a.v7_partialHydration&&n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=(o=r)==null?void 0:o.errors;if(c!=null){let m=l.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);m>=0||tt(!1),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let m=0;m<l.length;m++){let d=l[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=m),d.route.id){let{loaderData:g,errors:y}=r,w=d.route.loader&&g[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||w){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,d,g)=>{let y,w=!1,S=null,P=null;r&&(y=c&&d.route.id?c[d.route.id]:void 0,S=d.route.errorElement||QS,f&&(h<0&&g===0?(aC("route-fallback"),w=!0,P=null):h===g&&(w=!0,P=d.route.hydrateFallbackElement||null)));let x=n.concat(l.slice(0,g+1)),k=()=>{let C;return y?C=S:w?C=P:d.route.Component?C=I.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=m,I.createElement(eC,{match:d,routeContext:{outlet:m,matches:x,isDataRoute:r!=null},children:C})};return r&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?I.createElement(JS,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):k()},null)}var _x=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_x||{}),xx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xx||{});function nC(e){let n=I.useContext(Jd);return n||tt(!1),n}function rC(e){let n=I.useContext(VS);return n||tt(!1),n}function iC(e){let n=I.useContext(Yr);return n||tt(!1),n}function wx(e){let n=iC(),r=n.matches[n.matches.length-1];return r.route.id||tt(!1),r.route.id}function oC(){var e;let n=I.useContext(mx),r=rC(),i=wx();return n!==void 0?n:(e=r.errors)==null?void 0:e[i]}function sC(){let{router:e}=nC(_x.UseNavigateStable),n=wx(xx.UseNavigateStable),r=I.useRef(!1);return gx(()=>{r.current=!0}),I.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Js({fromRouteId:n},a)))},[e,n])}const Gg={};function aC(e,n,r){Gg[e]||(Gg[e]=!0)}function lC(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Er(e){tt(!1)}function uC(e){let{basename:n="/",children:r=null,location:i,navigationType:o=Or.Pop,navigator:a,static:l=!1,future:c}=e;pa()&&tt(!1);let f=n.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:f,navigator:a,static:l,future:Js({v7_relativeSplatPath:!1},c)}),[f,c,a,l]);typeof i=="string"&&(i=No(i));let{pathname:m="/",search:d="",hash:g="",state:y=null,key:w="default"}=i,S=I.useMemo(()=>{let P=Qd(m,f);return P==null?null:{location:{pathname:P,search:d,hash:g,state:y,key:w},navigationType:o}},[f,m,d,g,y,w,o]);return S==null?null:I.createElement(Ni.Provider,{value:h},I.createElement(Ru.Provider,{children:r,value:S}))}function cC(e){let{children:n,location:r}=e;return XS(vh(n),r)}new Promise(()=>{});function vh(e,n){n===void 0&&(n=[]);let r=[];return I.Children.forEach(e,(i,o)=>{if(!I.isValidElement(i))return;let a=[...n,o];if(i.type===I.Fragment){r.push.apply(r,vh(i.props.children,a));return}i.type!==Er&&tt(!1),!i.props.index||!i.props.children||tt(!1);let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=vh(i.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_h.apply(this,arguments)}function fC(e,n){if(e==null)return{};var r={},i=Object.keys(e),o,a;for(a=0;a<i.length;a++)o=i[a],!(n.indexOf(o)>=0)&&(r[o]=e[o]);return r}function hC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dC(e,n){return e.button===0&&(!n||n==="_self")&&!hC(e)}function xh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,r)=>{let i=e[r];return n.concat(Array.isArray(i)?i.map(o=>[r,o]):[[r,i]])},[]))}function pC(e,n){let r=xh(e);return n&&n.forEach((i,o)=>{r.has(o)||n.getAll(o).forEach(a=>{r.append(o,a)})}),r}const mC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gC="6";try{window.__reactRouterVersion=gC}catch{}const yC="startTransition",Xg=l2[yC];function vC(e){let{basename:n,children:r,future:i,window:o}=e,a=I.useRef();a.current==null&&(a.current=_S({window:o,v5Compat:!0}));let l=a.current,[c,f]=I.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},m=I.useCallback(d=>{h&&Xg?Xg(()=>f(d)):f(d)},[f,h]);return I.useLayoutEffect(()=>l.listen(m),[l,m]),I.useEffect(()=>lC(i),[i]),I.createElement(uC,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const _C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,no=I.forwardRef(function(n,r){let{onClick:i,relative:o,reloadDocument:a,replace:l,state:c,target:f,to:h,preventScrollReset:m,viewTransition:d}=n,g=fC(n,mC),{basename:y}=I.useContext(Ni),w,S=!1;if(typeof h=="string"&&xC.test(h)&&(w=h,_C))try{let C=new URL(window.location.href),N=h.startsWith("//")?new URL(C.protocol+h):new URL(h),M=Qd(N.pathname,y);N.origin===C.origin&&M!=null?h=M+N.search+N.hash:S=!0}catch{}let P=qS(h,{relative:o}),x=wC(h,{replace:l,state:c,target:f,preventScrollReset:m,relative:o,viewTransition:d});function k(C){i&&i(C),C.defaultPrevented||x(C)}return I.createElement("a",_h({},g,{href:w||P,onClick:S||a?i:k,ref:r,target:f}))});var Yg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yg||(Yg={}));var Kg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kg||(Kg={}));function wC(e,n){let{target:r,replace:i,state:o,preventScrollReset:a,relative:l,viewTransition:c}=n===void 0?{}:n,f=vr(),h=ma(),m=vx(e,{relative:l});return I.useCallback(d=>{if(dC(d,r)){d.preventDefault();let g=i!==void 0?i:su(h)===su(m);f(e,{replace:g,state:o,preventScrollReset:a,relative:l,viewTransition:c})}},[h,f,m,i,o,r,e,a,l,c])}function bC(e){let n=I.useRef(xh(e)),r=I.useRef(!1),i=ma(),o=I.useMemo(()=>pC(i.search,r.current?null:n.current),[i.search]),a=vr(),l=I.useCallback((c,f)=>{const h=xh(typeof c=="function"?c(o):c);r.current=!0,a("?"+h,f)},[a,o]);return[o,l]}function Qg(){const[e,n]=I.useState(""),[r,i]=I.useState([]),[o,a]=I.useState(!1),[l,c]=I.useState(!1),f=I.useRef(null),h=I.useRef(null),m=vr();I.useEffect(()=>{const g=y=>{var w,S,P,x;y.key==="/"&&((w=document.activeElement)==null?void 0:w.tagName)!=="INPUT"&&((S=document.activeElement)==null?void 0:S.tagName)!=="TEXTAREA"&&(y.preventDefault(),(P=f.current)==null||P.focus()),y.key==="Escape"&&document.activeElement===f.current&&((x=f.current)==null||x.blur(),c(!1))};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),I.useEffect(()=>{const g=y=>{h.current&&!h.current.contains(y.target)&&c(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),I.useEffect(()=>{if(e.trim().length<2){i([]),c(!1);return}a(!0);const g=setTimeout(async()=>{try{const y=await fetch("/api/stories/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e.trim(),limit:5})});if(y.ok){const w=await y.json();i(w.matches||[]),c(!0)}}catch(y){console.error("Search error:",y),i([])}finally{a(!1)}},300);return()=>clearTimeout(g)},[e]);const d=g=>{m(`/story/${g}`),c(!1),n("")};return v.jsx("div",{className:"flex-1 max-w-md",ref:h,children:v.jsxs("div",{className:"relative",children:[v.jsx("input",{ref:f,type:"text",value:e,onChange:g=>n(g.target.value),onFocus:()=>e.trim().length>=2&&c(!0),placeholder:"Search stories...",className:"w-full px-4 py-2 pl-10 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),v.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),v.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:o?v.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-indigo-500 border-t-transparent rounded-full"}):v.jsx("kbd",{className:"hidden sm:inline-block px-1.5 py-0.5 text-xs font-semibold text-slate-500 bg-slate-100 border border-slate-200 rounded",children:"/"})}),l&&e.trim().length>=2&&v.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-slate-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:r.length>0?v.jsx("div",{className:"py-2",children:r.map(g=>v.jsx("button",{onClick:()=>d(g.id),className:"w-full px-4 py-3 text-left hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"font-medium text-slate-900 text-sm line-clamp-1",children:g.title}),g.description&&v.jsx("div",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:g.description}),v.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[g.category&&v.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded",children:g.category}),g.artifact_count!==void 0&&v.jsxs("span",{className:"text-xs text-slate-500",children:[g.artifact_count," sources"]}),g.coherence!==void 0&&v.jsxs("span",{className:"text-xs text-indigo-600 font-medium",children:[(g.coherence*100).toFixed(0),"% coherence"]})]})]}),v.jsx("svg",{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},g.id))}):v.jsxs("div",{className:"px-4 py-6 text-center text-sm text-slate-500",children:['No stories found for "',e,'"']})})]})})}function kC({user:e}){const[n,r]=I.useState(!1),i=I.useRef(null);I.useEffect(()=>{const a=l=>{i.current&&!i.current.contains(l.target)&&r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const o=()=>{window.location.href="/api/auth/logout"};return v.jsxs("div",{className:"relative",ref:i,children:[v.jsx("button",{onClick:()=>r(!n),className:"flex items-center gap-2 hover:opacity-80 transition",children:e.picture?v.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full border-2 border-white shadow-sm"}):v.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-semibold text-sm",children:e.name.charAt(0).toUpperCase()})}),n&&v.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-slate-200 py-2 z-50",children:[v.jsxs("div",{className:"px-4 py-3 border-b border-slate-200",children:[v.jsx("div",{className:"font-semibold text-slate-900",children:e.name}),v.jsx("div",{className:"text-sm text-slate-500",children:e.email}),v.jsxs("div",{className:"text-xs text-indigo-600 mt-1",children:["Credits: ",e.credits]})]}),v.jsxs("div",{className:"py-1",children:[v.jsx("button",{onClick:()=>{r(!1),console.log("Navigate to profile")},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 transition",children:"Profile Settings"}),v.jsx("button",{onClick:()=>{r(!1),console.log("Navigate to credits")},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 transition",children:"Manage Credits"})]}),v.jsx("div",{className:"border-t border-slate-200 py-1",children:v.jsx("button",{onClick:o,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition",children:"Sign Out"})})]})]})}function Es(){const[e,n]=I.useState(null),[r,i]=I.useState(!0),o=vr();I.useEffect(()=>{a()},[]);const a=async()=>{try{const h=await fetch("/api/auth/status");if(h.ok){const m=await h.json();m.authenticated&&n(m.user)}}catch(h){console.error("Auth check failed:",h)}finally{i(!1)}},l=()=>{window.location.href="/api/auth/login"},c=()=>{alert("Notifications coming soon!")},f=()=>{o("/?share=true")};return v.jsxs("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:[v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[v.jsx(no,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent whitespace-nowrap",children:" HERE"}),v.jsx("div",{className:"hidden md:block flex-1 max-w-md",children:v.jsx(Qg,{})})]}),v.jsx("div",{className:"flex items-center gap-3",children:r?v.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}):e?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600",title:"Create new content",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),v.jsx(no,{to:"/archive",className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600",title:"My Archive",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),v.jsx(no,{to:"/graph",className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600",title:"Story Graph",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),v.jsx(no,{to:"/map",className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600",title:"News Map",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),v.jsxs("button",{onClick:c,className:"p-2 rounded-lg hover:bg-slate-100 transition text-slate-600 relative",title:"Notifications",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),v.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),v.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg",children:[v.jsx("svg",{className:"w-4 h-4 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),v.jsx("span",{className:"text-sm font-bold text-amber-700",children:e.credits})]}),v.jsx(kC,{user:e})]}):v.jsx("button",{onClick:l,className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:opacity-90 transition",children:"Sign in with Google"})})]})}),v.jsx("div",{className:"md:hidden px-4 pb-3",children:v.jsx(Qg,{})})]})}function wo(e){if(!e)return{absolute:"Date unknown",relative:"unknown",reliable:!1,fullDateTime:""};try{const n=new Date(e);if(isNaN(n.getTime()))return{absolute:"Date unknown",relative:"unknown",reliable:!1,fullDateTime:""};const r=new Date,i=r.getTime()-n.getTime(),o=Math.floor(i/6e4),a=Math.floor(o/60),l=Math.floor(a/24),c=new Date;c.setHours(0,0,0,0);const f=new Date(n);f.setHours(0,0,0,0);const h=Math.floor((c.getTime()-f.getTime())/(1e3*60*60*24));let m="",d=!0;i<0?(m=n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=!1):l>730?(m=n.toLocaleDateString("en-US",{month:"short",year:"numeric"}),d=!1):h===0?m=n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):h===1?m="Yesterday "+n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):h<7?m=n.toLocaleDateString("en-US",{weekday:"short",hour:"numeric",minute:"2-digit",hour12:!0}):n.getFullYear()===r.getFullYear()?m=n.toLocaleDateString("en-US",{month:"short",day:"numeric"}):m=n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});let g="";if(i<0)g="in the future";else if(l>365){const w=Math.floor(l/365);g=`${w} year${w>1?"s":""} ago`}else if(l>30){const w=Math.floor(l/30);g=`${w} month${w>1?"s":""} ago`}else l>0?g=`${l} day${l>1?"s":""} ago`:a>0?g=`${a} hour${a>1?"s":""} ago`:o>0?g=`${o} minute${o>1?"s":""} ago`:g="just now";const y=n.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return{absolute:m,relative:g,reliable:d,fullDateTime:y}}catch{return{absolute:"Date unknown",relative:"unknown",reliable:!1,fullDateTime:""}}}function SC({story:e,onClick:n}){const r=wo(e.last_updated||e.created_at);return v.jsx("div",{onClick:n,className:"border border-slate-200 rounded-xl p-6 hover:shadow-lg transition cursor-pointer bg-white",children:v.jsxs("div",{className:"flex gap-4",children:[e.cover_image&&v.jsx("img",{src:e.cover_image,alt:e.title,className:"w-24 h-24 rounded-lg object-cover flex-shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2 line-clamp-2",children:e.title}),e.description&&v.jsx("p",{className:"text-sm text-slate-600 mb-3 line-clamp-2",children:e.description}),v.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[e.coherence!==void 0&&v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"text-slate-500",children:"Coherence:"}),v.jsxs("span",{className:"font-semibold text-indigo-600",children:[(e.coherence*100).toFixed(0),"%"]})]}),e.claim_count!==void 0&&v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"text-slate-500",children:"Claims:"}),v.jsx("span",{className:"font-semibold text-slate-700",children:e.claim_count})]}),r.absolute!=="Date unknown"&&v.jsxs("div",{className:"flex items-center gap-1 cursor-help",title:r.fullDateTime,children:[v.jsx("span",{className:"text-slate-400",children:""}),v.jsx("span",{className:"text-slate-500",children:r.relative})]})]})]})]})})}function Jg(){return v.jsx("div",{className:"border border-slate-200 rounded-xl p-6 animate-pulse",children:v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"w-24 h-24 bg-slate-200 rounded-lg flex-shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-3"}),v.jsxs("div",{className:"space-y-2 mb-3",children:[v.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"}),v.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"}),v.jsx("div",{className:"h-4 bg-slate-200 rounded w-20"})]})]})]})})}function ep({url:e}){const[n,r]=I.useState(null),[i,o]=I.useState(!0),[a,l]=I.useState(!1);I.useEffect(()=>{c()},[e]);const c=async()=>{try{o(!0),l(!1);const f=await fetch(`/api/artifacts?url=${encodeURIComponent(e)}&preview=true`,{method:"POST"});if(!f.ok){l(!0),o(!1);return}const h=await f.json();r(h),o(!1)}catch(f){console.error("Failed to fetch URL metadata:",f),l(!0),o(!1)}};return i?v.jsxs("div",{className:"mt-2 border border-slate-200 rounded-lg p-3 bg-slate-50 animate-pulse",children:[v.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),v.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]}):a||!n?v.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"mt-2 flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800 underline",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),new URL(e).hostname]}):v.jsxs("div",{className:"mt-2 flex gap-3 border border-slate-200 rounded-lg overflow-hidden bg-white p-3",children:[n.thumbnail_url&&v.jsx("img",{src:n.thumbnail_url,alt:n.title||e,className:"w-20 h-20 rounded object-cover flex-shrink-0",onError:f=>{f.currentTarget.style.display="none"}}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"font-semibold text-slate-900 text-sm line-clamp-2 mb-1",children:n.title||e}),n.description&&v.jsx("div",{className:"text-xs text-slate-600 line-clamp-2 mb-1",children:n.description}),v.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[v.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),new URL(e).hostname]}),n._commissioned&&v.jsx("span",{className:"text-green-600",children:" Queued"}),n.status&&n.status!=="preview"&&v.jsxs("span",{className:"text-slate-500",children:["(",n.status,")"]})]})]})]})}function tp(e){const n=/(https?:\/\/[^\s]+)/gi,r=e.match(n);return r?r.map(i=>i.replace(/[.,;:!?)]$/,"")):[]}function CC({onSubmit:e,onCancel:n}){const[r,i]=I.useState(""),[o,a]=I.useState(!1),l=I.useRef(null),[c,f]=I.useState([]);I.useEffect(()=>{l.current&&l.current.focus()},[]),I.useEffect(()=>{const y=tp(r);f(y)},[r]);const h=async()=>{const y=r.trim();if(!(!y||o))try{a(!0),await e(y,c),i("")}catch(w){console.error("Failed to submit event:",w),alert(w instanceof Error?w.message:"Failed to submit event")}finally{a(!1)}},m=y=>{i(y.target.value);const w=y.target;w.style.height="auto";const S=Math.max(w.scrollHeight,120);w.style.height=`${S}px`},d=r.length,g=1e3;return v.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-indigo-200 p-6 mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" What event do you want to report?"}),v.jsx("textarea",{ref:l,value:r,onChange:m,placeholder:`Describe the event and paste any relevant URLs...

Example:
New data suggests climate tipping point may be closer than expected
https://example.com/article
https://example.com/research-paper`,disabled:o,maxLength:g,className:"w-full p-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-indigo-500 resize-none text-sm overflow-hidden disabled:bg-slate-100",style:{minHeight:"120px"}}),v.jsxs("div",{className:"flex items-center justify-between mt-1 mb-3",children:[v.jsxs("span",{className:`text-xs ${d>900?"text-red-600 font-semibold":d>800?"text-amber-600":"text-slate-500"}`,children:[d," / ",g]}),c.length>0&&v.jsxs("span",{className:"text-xs text-indigo-600",children:[" ",c.length," URL",c.length>1?"s":""," detected"]})]}),v.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200 mb-3",children:v.jsxs("p",{className:"text-xs text-blue-800",children:[v.jsx("strong",{children:" Tips:"}),"  ","Describe the event clearly","  ","Paste URLs directly (we'll extract them automatically)","  ","Include source links for verification"]})}),c.length>0&&v.jsx("div",{className:"space-y-2 mb-3",children:c.map((y,w)=>v.jsx(ep,{url:y},w))}),v.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[v.jsx("div",{className:"text-sm text-slate-600",children:"Submission is free"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:n,disabled:o,className:"px-4 py-2 text-sm border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors disabled:opacity-50",children:"Cancel"}),v.jsx("button",{onClick:h,disabled:o||!r.trim(),className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Submitting...":"Submit Event"})]})]})]})}function bx({submission:e}){var f,h,m;const[n,r]=I.useState(!1),i=wo(e.created_at),o=e.urls?e.urls.split(",").filter(d=>d.trim()):[],l=(()=>{switch(e.status){case"pending":return{icon:"",text:"queued",color:"text-slate-600",borderColor:"border-slate-300"};case"extracting":case"processing":return{icon:"",text:"processing",color:"text-blue-600",borderColor:"border-blue-300"};case"failed":return{icon:"",text:"failed",color:"text-red-600",borderColor:"border-red-300"};case"blocked":return{icon:"",text:"blocked",color:"text-amber-600",borderColor:"border-amber-300"};case"completed":if(e.story_match){const d=e.story_match.is_new,g=Math.round(e.story_match.match_score*100);return{icon:"",text:d?"created new story":`merged (${g}% match)`,color:"text-green-600",borderColor:"border-green-300",storyLink:{id:e.story_match.story_id,title:e.story_match.matched_story_title}}}return{icon:"",text:"completed",color:"text-green-600",borderColor:"border-green-300"};default:return{icon:"",text:"processing",color:"text-slate-600",borderColor:"border-slate-300"}}})(),c=o.length>0?new URL(o[0]).hostname:null;return n?v.jsxs("div",{className:`rounded-lg border-2 ${l.borderColor} p-4 bg-slate-50 transition-all`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[e.user_picture?v.jsx("img",{src:e.user_picture,alt:e.user_name,className:"w-8 h-8 rounded-full flex-shrink-0"}):v.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white text-sm font-semibold flex-shrink-0",children:e.user_name.charAt(0).toUpperCase()}),v.jsxs("div",{children:[v.jsx("div",{className:"font-semibold text-slate-900",children:e.user_name}),v.jsx("div",{className:"text-xs text-slate-500",children:i.absolute})]})]}),v.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-600 text-lg font-bold",children:""})]}),v.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full ${l.color} bg-white border ${l.borderColor} text-sm font-medium mb-3`,children:[v.jsx("span",{children:l.icon}),v.jsx("span",{children:l.text})]}),(e.status==="extracting"||e.status==="processing"||e.status==="completed")&&e.current_stage&&v.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-slate-200",children:v.jsx("div",{className:"flex items-center justify-between gap-2",children:[{id:"extraction",label:"Metadata",icon:""},{id:"cleaning",label:"Metadata+",icon:""},{id:"content",label:"Content",icon:""},{id:"semantization",label:"Semantic",icon:""}].map((d,g,y)=>{const w=y.findIndex(x=>x.id===e.current_stage),S=g<w||e.status==="completed",P=g===w&&(e.status==="extracting"||e.status==="processing");return v.jsxs(vi.Fragment,{children:[v.jsxs("div",{className:"flex flex-col items-center gap-1 flex-1",children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-semibold transition-all ${S?"bg-green-500 text-white":P?"bg-blue-500 text-white animate-pulse":"bg-slate-200 text-slate-400"}`,children:d.icon}),v.jsx("div",{className:`text-xs font-medium text-center ${S?"text-green-600":P?"text-blue-600 font-semibold":"text-slate-400"}`,children:d.label})]}),g<y.length-1&&v.jsx("div",{className:"text-slate-300 text-lg mb-6",children:""})]},d.id)})})}),e.content&&v.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-3 whitespace-pre-wrap",children:e.content}),o.length>0&&v.jsx("div",{className:"space-y-2 mt-3",children:o.map((d,g)=>v.jsx("div",{children:e.preview_meta?v.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"mt-2 flex gap-3 border border-slate-200 rounded-lg overflow-hidden bg-white hover:border-indigo-300 hover:shadow-md transition-all p-3",children:[e.preview_meta.thumbnail_url&&v.jsx("img",{src:e.preview_meta.thumbnail_url,alt:e.preview_meta.title||d,className:"w-20 h-20 rounded object-cover flex-shrink-0",onError:y=>{y.currentTarget.style.display="none"}}),v.jsxs("div",{className:"flex-1 min-w-0",children:[e.preview_meta.site_name&&v.jsx("div",{className:"text-xs text-slate-500 mb-1",children:e.preview_meta.site_name}),v.jsx("div",{className:"font-semibold text-slate-900 text-sm line-clamp-2 mb-1",children:e.preview_meta.title||d}),e.preview_meta.description&&v.jsx("div",{className:"text-xs text-slate-600 line-clamp-2 mb-1",children:e.preview_meta.description}),v.jsxs("div",{className:"text-xs text-indigo-600 flex items-center gap-1",children:[v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),new URL(d).hostname]})]})]}):v.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"mt-2 flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800 underline",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),new URL(d).hostname]})},g))}),l.storyLink&&v.jsxs("a",{href:`/story/${l.storyLink.id}`,className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors text-sm",children:[v.jsxs("span",{children:["View Story: ",l.storyLink.title]}),v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(e.task_id||e.current_stage)&&v.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3 text-xs",children:[e.task_id&&v.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[v.jsx("div",{className:"text-slate-500 uppercase font-medium mb-1",children:"Task ID"}),v.jsxs("div",{className:"text-slate-700 font-mono",children:[e.task_id.substring(0,8),"..."]})]}),e.current_stage&&v.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[v.jsx("div",{className:"text-slate-500 uppercase font-medium mb-1",children:"Current Stage"}),v.jsx("div",{className:"text-slate-700",children:e.current_stage})]}),((f=e.result)==null?void 0:f.word_count)&&v.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[v.jsx("div",{className:"text-slate-500 uppercase font-medium mb-1",children:"Word Count"}),v.jsx("div",{className:"text-slate-700",children:e.result.word_count})]}),((h=e.result)==null?void 0:h.reading_time_minutes)&&v.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[v.jsx("div",{className:"text-slate-500 uppercase font-medium mb-1",children:"Reading Time"}),v.jsxs("div",{className:"text-slate-700",children:[e.result.reading_time_minutes," min"]})]})]}),((m=e.result)==null?void 0:m.screenshot_url)&&v.jsxs("div",{className:"mt-4",children:[v.jsx("h4",{className:"font-semibold text-slate-900 mb-2 text-sm",children:"Screenshot"}),v.jsx("img",{src:e.result.screenshot_url,alt:"Page screenshot",className:"w-full max-w-2xl rounded-lg shadow-md border border-slate-200"})]}),e.status==="completed"&&e.result&&v.jsxs("div",{className:"mt-4 bg-white p-4 rounded-lg border border-slate-200",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:e.result.title||"Untitled"}),e.result.author&&v.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[v.jsx("strong",{children:"Author:"})," ",e.result.author]}),e.result.publish_date&&v.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[v.jsx("strong",{children:"Published:"})," ",new Date(e.result.publish_date).toLocaleDateString()]}),e.result.meta_description&&v.jsx("p",{className:"text-sm text-slate-700 leading-relaxed mb-2",children:e.result.meta_description}),e.result.content_text&&v.jsxs("details",{className:"mt-3",children:[v.jsxs("summary",{className:"cursor-pointer font-semibold text-indigo-600 hover:text-indigo-800 text-sm",children:["Show Full Content (",e.result.word_count||0," words)"]}),v.jsxs("div",{className:"mt-2 p-3 bg-slate-50 rounded text-sm text-slate-700 leading-relaxed max-h-96 overflow-y-auto whitespace-pre-wrap",children:[e.result.content_text.substring(0,5e3),e.result.content_text.length>5e3&&"..."]})]}),e.result.language&&v.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[v.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs",children:["Language: ",e.result.language]}),e.result.word_count&&v.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs",children:[" ",e.result.word_count," words"]}),e.result.reading_time_minutes&&v.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs",children:[" ",e.result.reading_time_minutes," min read"]})]})]}),e.semantic_data&&(e.semantic_data.claims||e.semantic_data.entities)&&v.jsxs("div",{className:"mt-4 bg-white p-4 rounded-lg border border-slate-200",children:[v.jsx("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2 text-sm",children:" Semantic Analysis"}),e.semantic_data.claims&&e.semantic_data.claims.length>0&&v.jsxs("details",{open:!0,className:"mb-3",children:[v.jsxs("summary",{className:"cursor-pointer font-medium text-indigo-600 hover:text-indigo-800 text-sm mb-2",children:["Claims (",e.semantic_data.claims.length,")"]}),v.jsx("div",{className:"space-y-2",children:e.semantic_data.claims.slice(0,10).map((d,g)=>v.jsxs("div",{className:"p-2 bg-slate-50 border-l-2 border-indigo-500 rounded text-sm",children:[v.jsx("div",{className:"font-medium text-slate-900",children:d.text||d.claim_text||""}),d.claim_type&&v.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Type: ",d.claim_type]})]},g))})]}),e.semantic_data.entities&&v.jsxs("details",{className:"mb-2",children:[v.jsx("summary",{className:"cursor-pointer font-medium text-indigo-600 hover:text-indigo-800 text-sm mb-2",children:"Entities"}),v.jsxs("div",{className:"space-y-2",children:[e.semantic_data.entities.people&&e.semantic_data.entities.people.length>0&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-xs text-slate-600",children:"People:"}),v.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.semantic_data.entities.people.slice(0,10).map((d,g)=>v.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:typeof d=="string"?d:d.name},g))})]}),e.semantic_data.entities.organizations&&e.semantic_data.entities.organizations.length>0&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-xs text-slate-600",children:"Organizations:"}),v.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.semantic_data.entities.organizations.slice(0,10).map((d,g)=>v.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-xs",children:typeof d=="string"?d:d.name},g))})]}),e.semantic_data.entities.locations&&e.semantic_data.entities.locations.length>0&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-xs text-slate-600",children:"Locations:"}),v.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.semantic_data.entities.locations.slice(0,10).map((d,g)=>v.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-xs",children:typeof d=="string"?d:d.name},g))})]})]})]})]}),e.status==="failed"&&e.error&&v.jsxs("div",{className:"mt-4 p-3 bg-red-50 border-l-4 border-red-500 rounded text-sm",children:[v.jsx("strong",{className:"text-red-900",children:"Error:"}),v.jsx("p",{className:"text-red-700 mt-1",children:e.error})]}),e.status==="blocked"&&e.block_reason&&v.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border-l-4 border-amber-500 rounded text-sm",children:[v.jsx("strong",{className:"text-amber-900",children:"Blocked:"}),v.jsx("p",{className:"text-amber-700 mt-1",children:e.block_reason})]})]}):v.jsxs("div",{onClick:()=>r(!0),className:`py-2 px-3 bg-slate-50 border-l-2 ${l.borderColor} text-xs text-slate-500 cursor-pointer hover:bg-slate-100 transition-colors flex items-center gap-2`,children:[e.user_picture?v.jsx("img",{src:e.user_picture,alt:e.user_name,className:"w-6 h-6 rounded-full flex-shrink-0"}):v.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white text-xs font-semibold flex-shrink-0",children:e.user_name.charAt(0).toUpperCase()}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("span",{className:"font-medium text-slate-600",children:e.user_name})," ",v.jsxs("span",{className:l.color,children:["(",l.icon," ",l.text,")"]})," ","at ",i.absolute,c&&v.jsxs(v.Fragment,{children:[" "," ",v.jsx("span",{className:"text-slate-600",children:c})]}),l.storyLink&&v.jsxs(v.Fragment,{children:[" "," ",v.jsx("a",{href:`/story/${l.storyLink.id}`,className:"text-indigo-600 hover:text-indigo-800 underline",onClick:d=>d.stopPropagation(),children:l.storyLink.title})]})]}),v.jsx("span",{className:"text-slate-400 flex-shrink-0",children:""})]})}function PC({submissions:e,onUpdate:n,enabled:r}){const i=I.useRef(null);I.useEffect(()=>{if(!(Array.isArray(e)&&e.some(l=>l.status==="pending"||l.status==="extracting"))){i.current&&(clearInterval(i.current),i.current=null);return}const a=async()=>{try{const l=await fetch("/api/events/mine",{credentials:"include"});if(l.ok){const c=await l.json();n(c)}}catch(l){console.error("Failed to poll submission status:",l)}};return a(),i.current=setInterval(a,1e3),()=>{i.current&&(clearInterval(i.current),i.current=null)}},[e,r,n])}function EC(){const[e,n]=I.useState([]),[r,i]=I.useState(!0),[o,a]=I.useState(!1),[l,c]=I.useState(null),[f,h]=I.useState(!0),[m,d]=I.useState(0),[g,y]=I.useState(!1),[w,S]=I.useState([]),[P,x]=I.useState([]),[k,C]=I.useState(0),[N,M]=I.useState(0),T=vr(),[z,A]=bC(),$=12,F=1e3,H=I.useRef(null),U=I.useRef(null),Y=I.useCallback(se=>{S(se)},[]);PC({submissions:w,onUpdate:Y,enabled:!0}),I.useEffect(()=>(D(),J(!0),pe(),j(),window.addEventListener("scroll",Q),()=>{ee(),window.removeEventListener("scroll",Q)}),[]),I.useEffect(()=>{z.get("share")==="true"&&(y(!0),z.delete("share"),A(z,{replace:!0}))},[z,A]),I.useEffect(()=>{N!==k&&J(!0)},[N]),I.useEffect(()=>{const se=Array.isArray(e)?e:[],ue=Array.isArray(w)?w:[],Te=[...se.map(we=>({type:"event",data:we,timestamp:we.last_updated||we.created_at||""})),...ue.map(we=>({type:"submission",data:we,timestamp:we.created_at}))];Te.sort((we,nt)=>{const lt=new Date(we.timestamp).getTime();return new Date(nt.timestamp).getTime()-lt}),x(Te)},[e,w]);const D=()=>{const se=localStorage.getItem("story_min_coherence");if(se){const ue=parseFloat(se);C(ue),M(ue)}},G=se=>{localStorage.setItem("story_min_coherence",se.toString())},q=se=>{const ue=parseFloat(se.target.value);C(ue),U.current&&clearTimeout(U.current),U.current=setTimeout(()=>{M(ue),G(ue)},500)},J=async(se=!1)=>{try{se&&(i(!0),n([]));const ue=new URLSearchParams({limit:$.toString(),min_coherence:N.toString()}),Te=await fetch(`/api/events?${ue}`);if(!Te.ok)throw new Error(`HTTP ${Te.status}: ${Te.statusText}`);const we=await Te.json(),nt=Array.isArray(we.events)?we.events:[];n(nt),h(nt.length===$)}catch(ue){c(ue instanceof Error?ue.message:"Failed to load feed")}finally{i(!1)}},Z=async()=>{if(!(o||!f)){a(!0);try{const se=new URLSearchParams({limit:$.toString(),offset:e.length.toString(),min_coherence:N.toString()}),ue=await fetch(`/api/events?${se}`);if(!ue.ok)throw new Error(`HTTP ${ue.status}: ${ue.statusText}`);const Te=await ue.json(),we=Array.isArray(Te.events)?Te.events:[];n([...e,...we]),h(we.length===$)}catch(se){c(se instanceof Error?se.message:"Failed to load more events")}finally{a(!1)}}},Q=()=>{const se=document.documentElement.scrollHeight,ue=document.documentElement.scrollTop,Te=document.documentElement.clientHeight;se-ue-Te<F&&Z()},j=()=>{H.current=setInterval(()=>{oe()},3e4)},ee=()=>{H.current&&clearInterval(H.current)},oe=async()=>{try{const se=new URLSearchParams({limit:$.toString(),min_coherence:N.toString()}),ue=await fetch(`/api/events?${se}`);if(!ue.ok)return;const we=(await ue.json()).events||[];if(!Array.isArray(e)){console.warn("events is not an array:",e);return}if(we.length>0&&e.length>0){const nt=we[0].id||we[0].event_id||we[0].story_id;if(!e.some(xt=>(xt.id||xt.event_id||xt.story_id)===nt)){const xt=we.findIndex(_r=>{const Qr=_r.id||_r.event_id||_r.story_id;return e.some(Vn=>(Vn.id||Vn.event_id||Vn.story_id)===Qr)});d(xt===-1?we.length:xt),setTimeout(()=>{d(0)},5e3)}}}catch(se){console.error("Background refresh failed:",se)}},O=()=>{d(0),J(!0)},fe=se=>{T(`/event/${se}`)},pe=async()=>{try{const se=await fetch("/api/events/mine",{credentials:"include"});if(se.ok){const ue=await se.json();console.log("Submissions data:",ue),ue.length>0&&console.log("First submission user_picture:",ue[0].user_picture),S(ue)}}catch(se){console.error("Failed to load pending submissions:",se)}},ae=async(se,ue)=>{if(ue.length===0)throw new Error("Please include at least one URL");const Te=[];for(const we of ue){const nt=await fetch(`/api/artifacts?url=${encodeURIComponent(we)}`,{method:"POST",credentials:"include"});if(!nt.ok){const xt=await nt.json();throw new Error(xt.detail||`Failed to submit ${we}`)}const lt=await nt.json();Te.push({id:lt.page_id,user_id:"anonymous",user_name:"You",content:se||lt.title||we,urls:we,status:"extracting",created_at:lt.created_at||new Date().toISOString(),preview_meta:{title:lt.title,description:lt.description,thumbnail_url:lt.thumbnail_url}})}S([...Te,...w]),y(!1)};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",children:[v.jsx(Es,{}),m>0&&v.jsxs("div",{onClick:O,className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg shadow-lg cursor-pointer z-50 animate-slideDown",children:[m," new ",m===1?"event":"events"," available - Click to refresh"]}),v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[!g&&v.jsx("button",{onClick:()=>y(!0),className:"w-full mb-6 p-4 border-2 border-dashed border-indigo-300 rounded-xl hover:border-indigo-500 hover:bg-indigo-50 transition-all group cursor-pointer",children:v.jsxs("div",{className:"flex items-center gap-3 text-slate-600 group-hover:text-indigo-600",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 group-hover:bg-indigo-200 flex items-center justify-center text-2xl transition-colors",children:"+"}),v.jsx("span",{className:"text-base font-medium",children:"Report an event or breaking news"})]})}),g&&v.jsx(CC,{onSubmit:ae,onCancel:()=>y(!1)}),v.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200",children:[v.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Minimum Coherence: ",(k*100).toFixed(0),"%"]}),v.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:k,onChange:q,className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"}),v.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[v.jsx("span",{children:"0%"}),v.jsx("span",{children:"50%"}),v.jsx("span",{children:"100%"})]})]}),l&&v.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:["Error: ",l]}),r?v.jsx("div",{className:"grid gap-6",children:Array($).fill(0).map((se,ue)=>v.jsx(Jg,{},ue))}):P.length===0?v.jsx("div",{className:"text-center py-16",children:v.jsx("div",{className:"text-lg text-slate-600",children:"No events found"})}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"grid gap-6",children:P.map(se=>{if(se.type==="event"){const ue=se.data.id||se.data.event_id||se.data.story_id;return v.jsx(SC,{story:se.data,onClick:()=>ue&&fe(ue)},ue)}else return v.jsx(bx,{submission:se.data},se.data.id)})}),o&&v.jsx("div",{className:"mt-6 grid gap-6",children:Array(3).fill(0).map((se,ue)=>v.jsx(Jg,{},ue))}),!f&&e.length>0&&v.jsx("div",{className:"text-center py-8 text-slate-400 text-sm italic",children:"No more events"})]})]})})]})}function kx({comment:e,allComments:n,depth:r,onReply:i,replyingTo:o,replyInput:a,onReplyInputChange:l,onSubmitReply:c,onCancelReply:f,submitting:h}){const m=n.filter(w=>w.parent_comment_id===e.id),d=(o==null?void 0:o.id)===e.id,g=tp(e.text),y=wo(e.created_at);return v.jsxs("div",{className:`${r>0?"ml-8 pl-4 border-l-2 border-slate-200":""}`,children:[v.jsxs("div",{className:"flex gap-3 py-3",children:[e.user_picture?v.jsx("img",{src:e.user_picture,alt:e.user_name,className:"w-10 h-10 rounded-full flex-shrink-0"}):v.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white font-semibold flex-shrink-0",children:e.user_name.charAt(0).toUpperCase()}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"font-semibold text-slate-900",children:e.user_name}),v.jsx("span",{className:"text-xs text-slate-400 cursor-help",title:y.fullDateTime,children:y.relative})]}),v.jsx("p",{className:"text-slate-700 leading-relaxed whitespace-pre-wrap text-sm mb-2",children:e.text}),g.length>0&&v.jsxs("div",{className:"space-y-2 mb-2",children:[g.slice(0,2).map((w,S)=>v.jsx(ep,{url:w},S)),g.length>2&&v.jsxs("div",{className:"text-xs text-slate-500",children:["+",g.length-2," more link",g.length-2>1?"s":""]})]}),v.jsxs("button",{onClick:()=>i(e.id,e.user_name),className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium flex items-center gap-1",children:[v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Reply"]})]})]}),d&&v.jsxs("div",{className:"ml-13 mr-3 mb-3 bg-slate-50 rounded-lg p-3 border border-slate-200",children:[v.jsxs("div",{className:"text-xs text-slate-600 mb-2",children:["Replying to ",v.jsx("span",{className:"font-semibold",children:o.name})]}),v.jsx("textarea",{value:a,onChange:w=>l(w.target.value),onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),c())},placeholder:"Write your reply...",disabled:h,rows:2,className:"w-full resize-none px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}),v.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[v.jsx("button",{onClick:f,className:"px-3 py-1.5 text-sm text-slate-600 hover:text-slate-800",children:"Cancel"}),v.jsxs("button",{onClick:c,disabled:h||!a.trim(),className:"px-4 py-1.5 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[h?"Posting...":"Reply",v.jsx("span",{className:"text-xs opacity-75",children:"(2)"})]})]})]}),m.length>0&&v.jsx("div",{className:"space-y-0",children:m.map(w=>v.jsx(kx,{comment:w,allComments:n,depth:r+1,onReply:i,replyingTo:o,replyInput:a,onReplyInputChange:l,onSubmitReply:c,onCancelReply:f,submitting:h},w.id))})]})}function NC({storyId:e}){const[n,r]=I.useState([]),[i,o]=I.useState(""),[a,l]=I.useState(""),[c,f]=I.useState(!1),[h,m]=I.useState(!1),[d,g]=I.useState(null),[y,w]=I.useState([]),S=I.useRef(null);I.useEffect(()=>{P()},[e]),I.useEffect(()=>{const A=tp(i);w(A)},[i]);const P=async()=>{try{f(!0);const A=await fetch(`/api/comments/story/${e}`);if(A.ok){const $=await A.json();r($||[])}}catch(A){console.error("Error loading comments:",A)}finally{f(!1)}},x=async()=>{const A=i.trim();if(!(!A||h))try{m(!0);const $=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({story_id:e,text:A})});if($.ok){const F=await $.json();o(""),S.current&&(S.current.style.height="auto"),await P(),F.credits_remaining!==void 0&&console.log(`Comment posted! ${F.credits_remaining} credits remaining`)}else if($.status===402){const F=await $.json();alert(F.detail||"Insufficient credits to post comment")}else{const F=await $.json();alert(F.detail||"Failed to post comment")}}catch($){console.error("Error posting comment:",$),alert("Error posting comment")}finally{m(!1)}},k=async()=>{const A=a.trim();if(!(!A||h||!d))try{m(!0);const $=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({story_id:e,text:A,parent_comment_id:d.id})});if($.ok){const F=await $.json();l(""),g(null),await P(),F.credits_remaining!==void 0&&console.log(`Reply posted! ${F.credits_remaining} credits remaining`)}else if($.status===402){const F=await $.json();alert(F.detail||"Insufficient credits to post reply")}else{const F=await $.json();alert(F.detail||"Failed to post reply")}}catch($){console.error("Error posting reply:",$),alert("Error posting reply")}finally{m(!1)}},C=(A,$)=>{g({id:A,name:$}),l("")},N=()=>{g(null),l("")},M=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),x())},T=A=>{o(A.target.value);const $=A.target;$.style.height="auto";const F=Math.max(Math.min($.scrollHeight,200),80);$.style.height=`${F}px`},z=n.filter(A=>!A.parent_comment_id);return v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Comments"}),!d&&v.jsxs("div",{className:"mb-8",children:[v.jsx("textarea",{ref:S,value:i,onChange:T,onKeyDown:M,placeholder:"Share your thoughts... (supports Chinese, Japanese, Korean)",disabled:h,rows:3,className:"w-full resize-none px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100 disabled:text-slate-400 text-sm leading-relaxed",style:{minHeight:"80px",maxHeight:"200px"}}),y.length>0&&v.jsxs("div",{className:"space-y-2 mt-3",children:[y.slice(0,2).map((A,$)=>v.jsx(ep,{url:A},$)),y.length>2&&v.jsxs("div",{className:"text-xs text-slate-500",children:["+",y.length-2," more link",y.length-2>1?"s":""]})]}),v.jsxs("div",{className:"flex justify-between items-center mt-2",children:[v.jsxs("p",{className:"text-xs text-slate-500",children:["Press ",v.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 border border-slate-200 rounded",children:"Enter"})," to post,",v.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 border border-slate-200 rounded ml-1",children:"Shift+Enter"})," for new line"]}),v.jsx("button",{onClick:x,disabled:h||!i.trim(),className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-medium hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center gap-1.5",children:h?"Posting...":v.jsxs(v.Fragment,{children:["Post Comment",v.jsx("span",{className:"text-xs opacity-75",children:"(2)"})]})})]})]}),c?v.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading comments..."}):n.length===0?v.jsx("div",{className:"text-center py-8 text-slate-400",children:"No comments yet. Be the first to comment!"}):v.jsx("div",{className:"space-y-2",children:z.map(A=>v.jsx(kx,{comment:A,allComments:n,depth:0,onReply:C,replyingTo:d,replyInput:a,onReplyInputChange:l,onSubmitReply:k,onCancelReply:N,submitting:h},A.id))})]})}function TC({onSubmit:e,disabled:n=!1,placeholder:r="Ask a question..."}){const[i,o]=I.useState(""),a=I.useRef(null),l=()=>{const h=i.trim();!h||n||(e(h),o(""),a.current&&(a.current.style.height="auto"))},c=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),l())},f=h=>{o(h.target.value);const m=h.target;m.style.height="auto";const d=Math.max(Math.min(m.scrollHeight,200),56);m.style.height=`${d}px`};return v.jsxs("div",{className:"border-t border-slate-200 bg-white p-4",children:[v.jsxs("div",{className:"flex gap-3",children:[v.jsx("textarea",{ref:a,value:i,onChange:f,onKeyDown:c,placeholder:r,disabled:n,rows:2,className:"flex-1 resize-none px-4 py-3 border border-slate-200 rounded-xl bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100 disabled:text-slate-400 text-sm leading-relaxed",style:{maxHeight:"200px",minHeight:"56px",height:"56px"}}),v.jsx("button",{onClick:l,disabled:n||!i.trim(),className:"self-end px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition",children:"Send"})]}),v.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Press ",v.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 border border-slate-200 rounded",children:"Enter"})," to send,",v.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 border border-slate-200 rounded ml-1",children:"Shift+Enter"})," for new line"]})]})}const sl=10;function LC({storyTitle:e,userCredits:n,onUnlock:r,onCancel:i}){const[o,a]=I.useState(!1),l=n>=sl,c=async()=>{if(!(!l||o)){a(!0);try{await r()}catch(f){console.error("Unlock failed:",f),a(!1)}}};return v.jsx(v.Fragment,{children:v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",children:[v.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),v.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center",children:v.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),v.jsx("h2",{className:"text-2xl font-bold text-center text-slate-900 mb-2",children:"Unlock AI Chat"}),v.jsx("p",{className:"text-center text-slate-600 mb-6",children:"Get AI-powered insights and answers about:"}),v.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-6",children:v.jsx("p",{className:"text-sm font-medium text-slate-900 line-clamp-2",children:e})}),v.jsxs("div",{className:"space-y-3 mb-6",children:[v.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-700",children:[v.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),v.jsx("span",{children:"Up to 100 messages per story"})]}),v.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-700",children:[v.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),v.jsx("span",{children:"Access to verified claims & entities"})]}),v.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-700",children:[v.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),v.jsx("span",{children:"Powered by GPT-4"})]})]}),v.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg p-4 mb-6",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-sm text-slate-600",children:"Unlock Cost"}),v.jsxs("div",{className:"text-2xl font-bold text-amber-700 flex items-center gap-1",children:[v.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),sl]})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm text-slate-600 text-right",children:"Your Balance"}),v.jsxs("div",{className:`text-2xl font-bold text-right ${l?"text-green-600":"text-red-600"}`,children:[n,""]})]})]}),!l&&v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:v.jsxs("p",{className:"text-sm text-red-800 text-center",children:["Insufficient credits. You need ",sl-n," more credits."]})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:i,className:"flex-1 px-6 py-3 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition",children:"Cancel"}),v.jsx("button",{onClick:c,disabled:!l||o,className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-medium hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition",children:o?"Unlocking...":`Unlock for ${sl}`})]})]})})})}function jC({storyId:e,storyTitle:n="this story",isOpen:r,onClose:i}){const[o,a]=I.useState([]),[l,c]=I.useState(!1),[f,h]=I.useState(null),[m,d]=I.useState(100),[g,y]=I.useState(!1),[w,S]=I.useState(!1),[P,x]=I.useState(null),k=I.useRef(null);I.useEffect(()=>{e&&r&&(C(),N())},[e,r]);const C=async()=>{try{const U=await fetch("/api/auth/status",{credentials:"include"});if(U.ok){const Y=await U.json();Y.authenticated&&x(Y.user)}}catch(U){console.error("Failed to load user:",U)}},N=async()=>{M(),await z()||y(!0)};I.useEffect(()=>{F()},[o]);const M=()=>{try{const U=localStorage.getItem(`chat_${e}`);U&&a(JSON.parse(U))}catch(U){console.error("Failed to load conversation history:",U)}},T=U=>{try{localStorage.setItem(`chat_${e}`,JSON.stringify(U))}catch(Y){console.error("Failed to save conversation history:",Y)}},z=async()=>{try{const U=await fetch(`/api/chat/session/${e}`,{credentials:"include"});if(U.ok){const Y=await U.json();return h(Y),Y&&d(Math.max(0,100-Y.message_count)),Y}return null}catch(U){return console.error("Failed to load session:",U),null}},A=async U=>{if(!U||l)return;const Y=[...o,{role:"user",content:U}];a(Y),c(!0);try{const D=await fetch("/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({story_id:e,message:U,conversation_history:o.slice(-10)})});if(!D.ok){const J=await D.json();if(D.status===402){alert(J.detail||"Insufficient credits to continue chatting"),a(o);return}throw new Error(J.detail||"Failed to send message")}const G=await D.json(),q=[...Y,{role:"assistant",content:G.message}];a(q),T(q),d(G.remaining_messages),G.session_status==="exhausted"&&h({...f,status:"exhausted"}),G.credits_remaining!==void 0&&console.log(`Message sent! ${G.credits_remaining} credits remaining`)}catch(D){console.error("Error sending message:",D),alert(D instanceof Error?D.message:"Failed to send message"),a(o)}finally{c(!1)}},$=async()=>{try{S(!0);const U=await fetch("/api/chat/unlock",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({story_id:e})});if(!U.ok){const D=await U.json();throw new Error(D.detail||"Failed to unlock chat")}const Y=await U.json();h(Y),y(!1),await C()}catch(U){throw console.error("Unlock failed:",U),alert(U instanceof Error?U.message:"Failed to unlock chat"),U}finally{S(!1)}},F=()=>{setTimeout(()=>{var U;(U=k.current)==null||U.scrollIntoView({behavior:"smooth"})},100)},H=(f==null?void 0:f.status)==="exhausted";return r?g&&P?v.jsx(LC,{storyTitle:n,userCredits:P.credits,onUnlock:$,onCancel:i}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-40",onClick:i}),v.jsxs("div",{className:"fixed top-0 right-0 bottom-0 w-96 bg-white shadow-2xl z-50 flex flex-col",children:[v.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 flex-shrink-0",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Story Chat"}),v.jsx("button",{onClick:i,className:"w-8 h-8 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 flex items-center justify-center transition",children:""})]}),v.jsxs("div",{className:"text-sm opacity-90",children:[m," / 100 messages remaining"]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[o.length===0?v.jsxs("div",{className:"text-center text-slate-400 mt-16",children:[v.jsx("div",{className:"text-4xl mb-4",children:""}),v.jsxs("p",{className:"leading-relaxed",children:["Start a conversation about this story.",v.jsx("br",{}),"Ask questions, explore connections, or get AI-powered insights."]})]}):o.map((U,Y)=>v.jsxs("div",{className:`flex ${U.role==="user"?"justify-end":"justify-start"}`,children:[U.role==="assistant"&&v.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold flex-shrink-0 mr-2",children:""}),v.jsx("div",{className:`max-w-[80%] px-4 py-3 rounded-xl ${U.role==="user"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-slate-100 text-slate-800"}`,children:U.content})]},Y)),l&&v.jsxs("div",{className:"flex justify-start",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold flex-shrink-0 mr-2",children:""}),v.jsx("div",{className:"bg-slate-100 px-4 py-3 rounded-xl",children:v.jsxs("div",{className:"flex gap-1",children:[v.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),v.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),v.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),v.jsx("div",{ref:k})]}),H?v.jsx("div",{className:"p-6 bg-red-50 border-t border-red-200",children:v.jsx("p",{className:"text-sm text-red-800",children:"You've reached the 100-message limit for this story. Start a new conversation by visiting another story."})}):v.jsx(TC,{onSubmit:A,disabled:l,placeholder:"Ask a question about this story..."})]})]}):null}const tf={person:"#805ad5",organization:"#3182ce",location:"#38a169",event:"#d69e2e",default:"#718096"};function MC({name:e,canonicalId:n,metadata:r}){var f;const[i,o]=I.useState(!1),a=r!=null&&r.entity_type&&tf[r.entity_type.toLowerCase()]||tf.default,l=h=>{h.preventDefault(),console.log("Entity clicked:",e,n)},c=((f=r==null?void 0:r.entity_type)==null?void 0:f.toLowerCase())==="person";return v.jsxs("span",{style:{position:"relative",display:"inline-block"},children:[v.jsx("span",{onClick:l,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{cursor:"pointer",color:c?"#92400e":a,fontWeight:500,backgroundColor:c?"#fef3c7":"transparent",padding:c?"2px 4px":"0",borderRadius:c?"3px":"0",borderBottom:c?"none":`2px solid ${a}`,transition:"opacity 0.2s"},className:"hover:opacity-70",children:e}),i&&r&&v.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px",backgroundColor:"#2d3748",color:"white",padding:"12px",borderRadius:"8px",minWidth:"250px",maxWidth:"350px",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.3)",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid #2d3748"}}),v.jsxs("div",{className:"flex gap-3",children:[r.wikidata_thumbnail&&v.jsx("img",{src:r.wikidata_thumbnail,alt:r.name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0 border-2",style:{borderColor:a}}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"font-semibold text-blue-300 truncate",children:r.name}),r.entity_type&&v.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium text-white flex-shrink-0",style:{backgroundColor:a},children:r.entity_type})]}),v.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:[r.wikidata_qid&&v.jsx("span",{children:r.wikidata_qid}),r.claim_count!==void 0&&v.jsxs("span",{className:"ml-2",children:[" ",r.claim_count," claims"]})]}),(r.description||r.wikidata_description)&&v.jsx("div",{className:"text-xs text-gray-200 line-clamp-3",children:r.description||r.wikidata_description})]})]})]})]})}function zC({content:e,entities:n}){const[r,i]=I.useState({});I.useEffect(()=>{var h,m,d;if(!n)return;const c={},f=(g,y)=>{const w=g.canonical_id||g.name;c[w]={name:g.name,canonical_id:g.canonical_id,qid:g.wikidata_qid,wikidata_qid:g.wikidata_qid,description:g.description,wikidata_description:g.wikidata_description,wikidata_thumbnail:g.wikidata_thumbnail,entity_type:y,claim_count:g.claim_count},c[g.name]=c[w]};(h=n.people)==null||h.forEach(g=>f(g,"person")),(m=n.organizations)==null||m.forEach(g=>f(g,"organization")),(d=n.locations)==null||d.forEach(g=>f(g,"location")),i(c)},[n]);const o=c=>{const f=[];let h=0;const m=/\[\[([^\]|]+)(?:\|([^\]]+))?\]\]|\{\{cite:([^}]+)\}\}/g;let d;for(;(d=m.exec(c))!==null;)d.index>h&&f.push({type:"text",content:c.substring(h,d.index)}),d[1]?f.push({type:"entity",content:d[0],entityName:d[1],entityId:d[2]||d[1]}):d[3]&&f.push({type:"citation",content:d[0],citationId:d[3]}),h=m.lastIndex;return h<c.length&&f.push({type:"text",content:c.substring(h)}),f},a=(c,f)=>{const h=o(c);return v.jsx("p",{className:"mb-4 leading-relaxed text-slate-700",children:h.map((m,d)=>{if(m.type==="text")return v.jsx("span",{children:m.content},d);if(m.type==="entity"){const g=r[m.entityId]||r[m.entityName];return v.jsx(MC,{name:m.entityName,canonicalId:m.entityId,metadata:g},d)}else if(m.type==="citation")return v.jsx("sup",{className:"citation-marker","data-citation-id":m.citationId,title:`Citation: ${m.citationId}`,children:"[cite]"},d);return null})},f)},l=e.split(`

`).filter(c=>c.trim());return v.jsxs("div",{className:"prose max-w-none",children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:`
          .citation-marker {
            color: #6366f1;
            font-size: 0.75em;
            font-weight: 600;
            margin-left: 0.1em;
            cursor: pointer;
          }
          .citation-marker:hover {
            text-decoration: underline;
          }
        `}}),l.map((c,f)=>a(c,f))]})}function nf({entity:e,type:n}){const r={person:"",organization:"",location:""},i={person:"from-blue-500 to-indigo-500",organization:"from-purple-500 to-pink-500",location:"from-green-500 to-teal-500"};return v.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:shadow-md transition",children:v.jsxs("div",{className:"flex gap-3",children:[e.wikidata_thumbnail?v.jsx("img",{src:e.wikidata_thumbnail,alt:e.name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}):v.jsx("div",{className:`w-16 h-16 rounded-lg bg-gradient-to-br ${i[n]} flex items-center justify-center text-2xl flex-shrink-0`,children:r[n]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-semibold text-slate-900 mb-1",children:e.name}),(e.description||e.wikidata_description)&&v.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:e.description||e.wikidata_description}),e.wikidata_qid&&v.jsx("a",{href:`https://www.wikidata.org/wiki/${e.wikidata_qid}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-600 hover:text-indigo-700 mt-1 inline-block",children:"View on Wikidata "})]})]})})}function AC({claims:e}){return e.length===0?v.jsx("div",{className:"text-center py-8 text-slate-400",children:"No claims extracted yet"}):v.jsx("div",{className:"space-y-3",children:e.map((n,r)=>v.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition",children:v.jsxs("div",{className:"flex gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-semibold text-sm flex-shrink-0",children:r+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-slate-800 leading-relaxed",children:n.text}),n.confidence!==void 0&&v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:v.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full transition-all",style:{width:`${n.confidence*100}%`}})}),v.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[(n.confidence*100).toFixed(0),"%"]})]})]})]})},n.id||r))})}function OC({artifacts:e}){return e.length===0?v.jsx("div",{className:"text-center py-8 text-slate-400",children:"No source articles found"}):v.jsx("div",{className:"space-y-3",children:e.map((n,r)=>{const i=wo(n.published_at);return v.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"block border border-slate-200 rounded-lg p-4 hover:shadow-md hover:border-indigo-300 transition",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded bg-slate-100 flex items-center justify-center text-slate-400 flex-shrink-0",children:""}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-medium text-slate-900 mb-1 line-clamp-2",children:n.title||"Untitled Article"}),v.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[v.jsx("span",{className:"font-medium text-indigo-600",children:n.domain}),n.published_at&&i.absolute!=="Date unknown"&&v.jsxs("span",{className:`cursor-help ${i.reliable?"":"opacity-50"}`,title:i.fullDateTime,children:[i.absolute,!i.reliable&&v.jsx("span",{className:"ml-1",children:""})]})]})]}),v.jsx("svg",{className:"w-5 h-5 text-slate-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})},r)})})}function IC({breakdown:e}){const n=[{label:"Entity Overlap",value:e.entity_overlap,color:"indigo"},{label:"Centrality",value:e.centrality,color:"purple"},{label:"Claim Density",value:e.claim_density,color:"pink"}],r=i=>({indigo:"bg-indigo-500",purple:"bg-purple-500",pink:"bg-pink-500"})[i]||"bg-slate-500";return v.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Coherence Breakdown"}),v.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Overall Coherence"}),v.jsxs("span",{className:"text-2xl font-bold text-indigo-600",children:[e.score.toFixed(1),"/100"]})]}),v.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:v.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all",style:{width:`${e.score}%`}})})]}),v.jsx("div",{className:"space-y-4 mb-6",children:n.map(i=>v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("span",{className:"text-sm text-slate-600",children:i.label}),v.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:[i.value.toFixed(1),"%"]})]}),v.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:v.jsx("div",{className:`${r(i.color)} h-2 rounded-full transition-all`,style:{width:`${i.value}%`}})})]},i.label))}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-slate-900",children:e.breakdown.shared_entities}),v.jsx("div",{className:"text-xs text-slate-500",children:"Shared Entities"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-slate-900",children:e.breakdown.total_entities}),v.jsx("div",{className:"text-xs text-slate-500",children:"Total Entities"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-slate-900",children:e.breakdown.avg_entity_stories.toFixed(1)}),v.jsx("div",{className:"text-xs text-slate-500",children:"Avg Stories/Entity"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-slate-900",children:e.breakdown.claim_count}),v.jsx("div",{className:"text-xs text-slate-500",children:"Claims"})]})]})]})}function RC({stories:e}){const n=vr();return e.length===0?v.jsx("div",{className:"text-center py-8 text-slate-400",children:"No related stories found"}):v.jsx("div",{className:"space-y-3",children:e.map(r=>v.jsx("div",{onClick:()=>n(`/story/${r.id}`),className:"border border-slate-200 rounded-lg p-4 hover:shadow-md hover:border-indigo-300 transition cursor-pointer",children:v.jsxs("div",{className:"flex items-start justify-between gap-3",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-medium text-slate-900 mb-2 line-clamp-2",children:r.title}),v.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),r.shared_entities," shared ",r.shared_entities===1?"entity":"entities"]})})]}),v.jsx("svg",{className:"w-5 h-5 text-slate-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},r.id))})}function e0(){var y,w,S,P,x,k,C,N;const{storyId:e}=yx(),[n,r]=I.useState(null),[i,o]=I.useState(!0),[a,l]=I.useState(null),[c,f]=I.useState(!1),[h,m]=I.useState("entities");I.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{o(!0);const M=await fetch(`/api/stories/${e}`);if(!M.ok)throw new Error(`HTTP ${M.status}: ${M.statusText}`);const T=await M.json();r(T.story)}catch(M){l(M instanceof Error?M.message:"Failed to load story")}finally{o(!1)}};if(i)return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",children:[v.jsx(Es,{}),v.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 text-center",children:v.jsx("div",{className:"text-white text-xl",children:"Loading story..."})})]});if(a||!n)return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",children:[v.jsx(Es,{}),v.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:v.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:["Error: ",a||"Story not found"]})})]});const g=[...((y=n.entities)==null?void 0:y.people)||[],...((w=n.entities)==null?void 0:w.organizations)||[],...((S=n.entities)==null?void 0:S.locations)||[]];return v.jsxs("div",{className:"min-h-screen bg-slate-50",children:[v.jsx(Es,{}),v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[v.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:n.title}),n.description&&v.jsx("p",{className:"text-lg text-slate-600 leading-relaxed mb-6",children:n.description}),v.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm border-y border-slate-200 py-4",children:[n.coherence!==void 0&&v.jsxs("div",{children:[v.jsx("span",{className:"text-slate-500",children:"Coherence: "}),v.jsxs("span",{className:"font-bold text-indigo-600 text-lg",children:[(n.coherence*100).toFixed(0),"%"]})]}),n.claim_count!==void 0&&v.jsxs("div",{children:[v.jsx("span",{className:"text-slate-500",children:"Claims: "}),v.jsx("span",{className:"font-semibold text-slate-700",children:n.claim_count})]}),n.artifact_count!==void 0&&v.jsxs("div",{children:[v.jsx("span",{className:"text-slate-500",children:"Sources: "}),v.jsx("span",{className:"font-semibold text-slate-700",children:n.artifact_count})]}),n.timely!==void 0&&v.jsxs("div",{children:[v.jsx("span",{className:"text-slate-500",children:"Timely: "}),v.jsxs("span",{className:"font-semibold text-emerald-600",children:[n.timely.toFixed(0),"%"]})]}),(()=>{const M=wo(n.created_at),T=wo(n.last_updated),z=n.last_updated&&n.last_updated!==n.created_at;return v.jsxs("div",{className:"flex items-center gap-4",children:[M.absolute!=="Date unknown"&&v.jsxs("div",{className:"cursor-help",title:`Created: ${M.fullDateTime}`,children:[v.jsx("span",{className:"text-slate-500",children:"Created: "}),v.jsx("span",{className:"text-slate-700",children:M.absolute})]}),z&&T.absolute!=="Date unknown"&&v.jsxs("div",{className:"cursor-help",title:`Last updated: ${T.fullDateTime}`,children:[v.jsx("span",{className:"text-slate-500",children:"Updated: "}),v.jsx("span",{className:"text-slate-700",children:T.relative})]})]})})()]}),n.content&&v.jsx("div",{className:"mt-6",children:v.jsx(zC,{content:n.content})})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[v.jsx("div",{className:"border-b border-slate-200",children:v.jsxs("div",{className:"flex",children:[v.jsxs("button",{onClick:()=>m("entities"),className:`flex-1 px-6 py-4 text-sm font-medium transition ${h==="entities"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:["Entities (",g.length,")"]}),v.jsxs("button",{onClick:()=>m("claims"),className:`flex-1 px-6 py-4 text-sm font-medium transition ${h==="claims"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:["Claims (",((P=n.claims)==null?void 0:P.length)||0,")"]}),v.jsxs("button",{onClick:()=>m("sources"),className:`flex-1 px-6 py-4 text-sm font-medium transition ${h==="sources"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:["Sources (",((x=n.artifacts)==null?void 0:x.length)||0,")"]})]})}),v.jsxs("div",{className:"p-6",children:[h==="entities"&&v.jsxs("div",{className:"space-y-6",children:[((k=n.entities)==null?void 0:k.people)&&n.entities.people.length>0&&v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"People"}),v.jsx("div",{className:"grid gap-3",children:n.entities.people.map(M=>v.jsx(nf,{entity:M,type:"person"},M.id))})]}),((C=n.entities)==null?void 0:C.organizations)&&n.entities.organizations.length>0&&v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Organizations"}),v.jsx("div",{className:"grid gap-3",children:n.entities.organizations.map(M=>v.jsx(nf,{entity:M,type:"organization"},M.id))})]}),((N=n.entities)==null?void 0:N.locations)&&n.entities.locations.length>0&&v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Locations"}),v.jsx("div",{className:"grid gap-3",children:n.entities.locations.map(M=>v.jsx(nf,{entity:M,type:"location"},M.id))})]}),g.length===0&&v.jsx("div",{className:"text-center py-8 text-slate-400",children:"No entities extracted yet"})]}),h==="claims"&&v.jsx(AC,{claims:n.claims||[]}),h==="sources"&&v.jsx(OC,{artifacts:n.artifacts||[]})]})]}),e&&v.jsx(NC,{storyId:e})]}),v.jsxs("div",{className:"space-y-6",children:[n.coherence_breakdown&&v.jsx(IC,{breakdown:n.coherence_breakdown}),n.related_stories&&n.related_stories.length>0&&v.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Related Stories"}),v.jsx(RC,{stories:n.related_stories})]})]})]})}),!c&&v.jsx("button",{onClick:()=>f(!0),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg hover:shadow-xl hover:scale-110 transition-all z-40 flex items-center justify-center","aria-label":"Open story chat",title:"Chat with Story",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),e&&v.jsx(jC,{storyId:e,isOpen:c,onClose:()=>f(!1)})]})}function DC(e,n){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const FC=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,BC=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,UC={};function t0(e,n){return(UC.jsx?BC:FC).test(e)}const $C=/[ \t\n\f\r]/g;function HC(e){return typeof e=="object"?e.type==="text"?n0(e.value):!1:n0(e)}function n0(e){return e.replace($C,"")===""}class ga{constructor(n,r,i){this.normal=r,this.property=n,i&&(this.space=i)}}ga.prototype.normal={};ga.prototype.property={};ga.prototype.space=void 0;function Sx(e,n){const r={},i={};for(const o of e)Object.assign(r,o.property),Object.assign(i,o.normal);return new ga(r,i,n)}function wh(e){return e.toLowerCase()}class Ft{constructor(n,r){this.attribute=r,this.property=n}}Ft.prototype.attribute="";Ft.prototype.booleanish=!1;Ft.prototype.boolean=!1;Ft.prototype.commaOrSpaceSeparated=!1;Ft.prototype.commaSeparated=!1;Ft.prototype.defined=!1;Ft.prototype.mustUseProperty=!1;Ft.prototype.number=!1;Ft.prototype.overloadedBoolean=!1;Ft.prototype.property="";Ft.prototype.spaceSeparated=!1;Ft.prototype.space=void 0;let ZC=0;const _e=Ti(),Je=Ti(),bh=Ti(),ne=Ti(),Oe=Ti(),uo=Ti(),Ut=Ti();function Ti(){return 2**++ZC}const kh=Object.freeze(Object.defineProperty({__proto__:null,boolean:_e,booleanish:Je,commaOrSpaceSeparated:Ut,commaSeparated:uo,number:ne,overloadedBoolean:bh,spaceSeparated:Oe},Symbol.toStringTag,{value:"Module"})),rf=Object.keys(kh);class np extends Ft{constructor(n,r,i,o){let a=-1;if(super(n,r),r0(this,"space",o),typeof i=="number")for(;++a<rf.length;){const l=rf[a];r0(this,rf[a],(i&kh[l])===kh[l])}}}np.prototype.defined=!0;function r0(e,n,r){r&&(e[n]=r)}function To(e){const n={},r={};for(const[i,o]of Object.entries(e.properties)){const a=new np(i,e.transform(e.attributes||{},i),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),n[i]=a,r[wh(i)]=i,r[wh(a.attribute)]=i}return new ga(n,r,e.space)}const Cx=To({properties:{ariaActiveDescendant:null,ariaAtomic:Je,ariaAutoComplete:null,ariaBusy:Je,ariaChecked:Je,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:Oe,ariaCurrent:null,ariaDescribedBy:Oe,ariaDetails:null,ariaDisabled:Je,ariaDropEffect:Oe,ariaErrorMessage:null,ariaExpanded:Je,ariaFlowTo:Oe,ariaGrabbed:Je,ariaHasPopup:null,ariaHidden:Je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Oe,ariaLevel:ne,ariaLive:null,ariaModal:Je,ariaMultiLine:Je,ariaMultiSelectable:Je,ariaOrientation:null,ariaOwns:Oe,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:Je,ariaReadOnly:Je,ariaRelevant:null,ariaRequired:Je,ariaRoleDescription:Oe,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:Je,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function Px(e,n){return n in e?e[n]:n}function Ex(e,n){return Px(e,n.toLowerCase())}const WC=To({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:uo,acceptCharset:Oe,accessKey:Oe,action:null,allow:null,allowFullScreen:_e,allowPaymentRequest:_e,allowUserMedia:_e,alt:null,as:null,async:_e,autoCapitalize:null,autoComplete:Oe,autoFocus:_e,autoPlay:_e,blocking:Oe,capture:null,charSet:null,checked:_e,cite:null,className:Oe,cols:ne,colSpan:null,content:null,contentEditable:Je,controls:_e,controlsList:Oe,coords:ne|uo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_e,defer:_e,dir:null,dirName:null,disabled:_e,download:bh,draggable:Je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_e,formTarget:null,headers:Oe,height:ne,hidden:bh,high:ne,href:null,hrefLang:null,htmlFor:Oe,httpEquiv:Oe,id:null,imageSizes:null,imageSrcSet:null,inert:_e,inputMode:null,integrity:null,is:null,isMap:_e,itemId:null,itemProp:Oe,itemRef:Oe,itemScope:_e,itemType:Oe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_e,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:_e,muted:_e,name:null,nonce:null,noModule:_e,noValidate:_e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_e,optimum:ne,pattern:null,ping:Oe,placeholder:null,playsInline:_e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_e,referrerPolicy:null,rel:Oe,required:_e,reversed:_e,rows:ne,rowSpan:ne,sandbox:Oe,scope:null,scoped:_e,seamless:_e,selected:_e,shadowRootClonable:_e,shadowRootDelegatesFocus:_e,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:Je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:_e,useMap:null,value:Je,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Oe,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_e,declare:_e,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:_e,noHref:_e,noShade:_e,noWrap:_e,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:Je,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_e,disableRemotePlayback:_e,prefix:null,property:null,results:ne,security:null,unselectable:null},space:"html",transform:Ex}),VC=To({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ut,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:Oe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:_e,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:uo,g2:uo,glyphName:uo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:Ut,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Oe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ut,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ut,rev:Ut,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ut,requiredFeatures:Ut,requiredFonts:Ut,requiredFormats:Ut,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:Ut,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ut,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ut,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Px}),Nx=To({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),Tx=To({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ex}),Lx=To({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),qC={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},GC=/[A-Z]/g,i0=/-[a-z]/g,XC=/^data[-\w.:]+$/i;function YC(e,n){const r=wh(n);let i=n,o=Ft;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&XC.test(n)){if(n.charAt(4)==="-"){const a=n.slice(5).replace(i0,QC);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=n.slice(4);if(!i0.test(a)){let l=a.replace(GC,KC);l.charAt(0)!=="-"&&(l="-"+l),n="data"+l}}o=np}return new o(i,n)}function KC(e){return"-"+e.toLowerCase()}function QC(e){return e.charAt(1).toUpperCase()}const JC=Sx([Cx,WC,Nx,Tx,Lx],"html"),rp=Sx([Cx,VC,Nx,Tx,Lx],"svg");function eP(e){return e.join(" ").trim()}var ip={},o0=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,tP=/\n/g,nP=/^\s*/,rP=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,iP=/^:\s*/,oP=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sP=/^[;\s]*/,aP=/^\s+|\s+$/g,lP=`
`,s0="/",a0="*",li="",uP="comment",cP="declaration";function fP(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];n=n||{};var r=1,i=1;function o(w){var S=w.match(tP);S&&(r+=S.length);var P=w.lastIndexOf(lP);i=~P?w.length-P:i+w.length}function a(){var w={line:r,column:i};return function(S){return S.position=new l(w),h(),S}}function l(w){this.start=w,this.end={line:r,column:i},this.source=n.source}l.prototype.content=e;function c(w){var S=new Error(n.source+":"+r+":"+i+": "+w);if(S.reason=w,S.filename=n.source,S.line=r,S.column=i,S.source=e,!n.silent)throw S}function f(w){var S=w.exec(e);if(S){var P=S[0];return o(P),e=e.slice(P.length),S}}function h(){f(nP)}function m(w){var S;for(w=w||[];S=d();)S!==!1&&w.push(S);return w}function d(){var w=a();if(!(s0!=e.charAt(0)||a0!=e.charAt(1))){for(var S=2;li!=e.charAt(S)&&(a0!=e.charAt(S)||s0!=e.charAt(S+1));)++S;if(S+=2,li===e.charAt(S-1))return c("End of comment missing");var P=e.slice(2,S-2);return i+=2,o(P),e=e.slice(S),i+=2,w({type:uP,comment:P})}}function g(){var w=a(),S=f(rP);if(S){if(d(),!f(iP))return c("property missing ':'");var P=f(oP),x=w({type:cP,property:l0(S[0].replace(o0,li)),value:P?l0(P[0].replace(o0,li)):li});return f(sP),x}}function y(){var w=[];m(w);for(var S;S=g();)S!==!1&&(w.push(S),m(w));return w}return h(),y()}function l0(e){return e?e.replace(aP,li):li}var hP=fP,dP=As&&As.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ip,"__esModule",{value:!0});ip.default=mP;const pP=dP(hP);function mP(e,n){let r=null;if(!e||typeof e!="string")return r;const i=(0,pP.default)(e),o=typeof n=="function";return i.forEach(a=>{if(a.type!=="declaration")return;const{property:l,value:c}=a;o?n(l,c,a):c&&(r=r||{},r[l]=c)}),r}var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.camelCase=void 0;var gP=/^--[a-zA-Z0-9_-]+$/,yP=/-([a-z])/g,vP=/^[^-]+$/,_P=/^-(webkit|moz|ms|o|khtml)-/,xP=/^-(ms)-/,wP=function(e){return!e||vP.test(e)||gP.test(e)},bP=function(e,n){return n.toUpperCase()},u0=function(e,n){return"".concat(n,"-")},kP=function(e,n){return n===void 0&&(n={}),wP(e)?e:(e=e.toLowerCase(),n.reactCompat?e=e.replace(xP,u0):e=e.replace(_P,u0),e.replace(yP,bP))};Du.camelCase=kP;var SP=As&&As.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},CP=SP(ip),PP=Du;function Sh(e,n){var r={};return!e||typeof e!="string"||(0,CP.default)(e,function(i,o){i&&o&&(r[(0,PP.camelCase)(i,n)]=o)}),r}Sh.default=Sh;var EP=Sh;const NP=la(EP),jx=Mx("end"),op=Mx("start");function Mx(e){return n;function n(r){const i=r&&r.position&&r.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function TP(e){const n=op(e),r=jx(e);if(n&&r)return{start:n,end:r}}function Ns(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?c0(e.position):"start"in e||"end"in e?c0(e):"line"in e||"column"in e?Ch(e):""}function Ch(e){return f0(e&&e.line)+":"+f0(e&&e.column)}function c0(e){return Ch(e&&e.start)+"-"+Ch(e&&e.end)}function f0(e){return e&&typeof e=="number"?e:1}class _t extends Error{constructor(n,r,i){super(),typeof r=="string"&&(i=r,r=void 0);let o="",a={},l=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof n=="string"?o=n:!a.cause&&n&&(l=!0,o=n.message,a.cause=n),!a.ruleId&&!a.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?a.ruleId=i:(a.source=i.slice(0,f),a.ruleId=i.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){const f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=Ns(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}_t.prototype.file="";_t.prototype.name="";_t.prototype.reason="";_t.prototype.message="";_t.prototype.stack="";_t.prototype.column=void 0;_t.prototype.line=void 0;_t.prototype.ancestors=void 0;_t.prototype.cause=void 0;_t.prototype.fatal=void 0;_t.prototype.place=void 0;_t.prototype.ruleId=void 0;_t.prototype.source=void 0;const sp={}.hasOwnProperty,LP=new Map,jP=/[A-Z]/g,MP=new Set(["table","tbody","thead","tfoot","tr"]),zP=new Set(["td","th"]),zx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function AP(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let i;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=$P(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=UP(r,n.jsx,n.jsxs)}const o={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:i,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?rp:JC,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},a=Ax(o,e,void 0);return a&&typeof a!="string"?a:o.create(e,o.Fragment,{children:a||void 0},void 0)}function Ax(e,n,r){if(n.type==="element")return OP(e,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return IP(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return DP(e,n,r);if(n.type==="mdxjsEsm")return RP(e,n);if(n.type==="root")return FP(e,n,r);if(n.type==="text")return BP(e,n)}function OP(e,n,r){const i=e.schema;let o=i;n.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=rp,e.schema=o),e.ancestors.push(n);const a=Ix(e,n.tagName,!1),l=HP(e,n);let c=lp(e,n);return MP.has(n.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!HC(f):!0})),Ox(e,l,a,n),ap(l,c),e.ancestors.pop(),e.schema=i,e.create(n,a,l,r)}function IP(e,n){if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}ea(e,n.position)}function RP(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);ea(e,n.position)}function DP(e,n,r){const i=e.schema;let o=i;n.name==="svg"&&i.space==="html"&&(o=rp,e.schema=o),e.ancestors.push(n);const a=n.name===null?e.Fragment:Ix(e,n.name,!0),l=ZP(e,n),c=lp(e,n);return Ox(e,l,a,n),ap(l,c),e.ancestors.pop(),e.schema=i,e.create(n,a,l,r)}function FP(e,n,r){const i={};return ap(i,lp(e,n)),e.create(n,e.Fragment,i,r)}function BP(e,n){return n.value}function Ox(e,n,r,i){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(n.node=i)}function ap(e,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(e.children=r)}}function UP(e,n,r){return i;function i(o,a,l,c){const h=Array.isArray(l.children)?r:n;return c?h(a,l,c):h(a,l)}}function $P(e,n){return r;function r(i,o,a,l){const c=Array.isArray(a.children),f=op(i);return n(o,a,l,c,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function HP(e,n){const r={};let i,o;for(o in n.properties)if(o!=="children"&&sp.call(n.properties,o)){const a=WP(e,o,n.properties[o]);if(a){const[l,c]=a;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&zP.has(n.tagName)?i=c:r[l]=c}}if(i){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return r}function ZP(e,n){const r={};for(const i of n.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const a=i.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(r,e.evaluater.evaluateExpression(c.argument))}else ea(e,n.position);else{const o=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const c=i.value.data.estree.body[0];c.type,a=e.evaluater.evaluateExpression(c.expression)}else ea(e,n.position);else a=i.value===null?!0:i.value;r[o]=a}return r}function lp(e,n){const r=[];let i=-1;const o=e.passKeys?new Map:LP;for(;++i<n.children.length;){const a=n.children[i];let l;if(e.passKeys){const f=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(f){const h=o.get(f)||0;l=f+"-"+h,o.set(f,h+1)}}const c=Ax(e,a,l);c!==void 0&&r.push(c)}return r}function WP(e,n,r){const i=YC(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?DC(r):eP(r)),i.property==="style"){let o=typeof r=="object"?r:VP(e,String(r));return e.stylePropertyNameCase==="css"&&(o=qP(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&i.space?qC[i.property]||i.property:i.attribute,r]}}function VP(e,n){try{return NP(n,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const i=r,o=new _t("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=zx+"#cannot-parse-style-attribute",o}}function Ix(e,n,r){let i;if(!r)i={type:"Literal",value:n};else if(n.includes(".")){const o=n.split(".");let a=-1,l;for(;++a<o.length;){const c=t0(o[a])?{type:"Identifier",name:o[a]}:{type:"Literal",value:o[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}i=l}else i=t0(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(i.type==="Literal"){const o=i.value;return sp.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(i);ea(e)}function ea(e,n){const r=new _t("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=zx+"#cannot-handle-mdx-estrees-without-createevaluater",r}function qP(e){const n={};let r;for(r in e)sp.call(e,r)&&(n[GP(r)]=e[r]);return n}function GP(e){let n=e.replace(jP,XP);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function XP(e){return"-"+e.toLowerCase()}const of={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},YP={};function KP(e,n){const r=YP,i=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,o=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Rx(e,i,o)}function Rx(e,n,r){if(QP(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return h0(e.children,n,r)}return Array.isArray(e)?h0(e,n,r):""}function h0(e,n,r){const i=[];let o=-1;for(;++o<e.length;)i[o]=Rx(e[o],n,r);return i.join("")}function QP(e){return!!(e&&typeof e=="object")}const d0=document.createElement("i");function up(e){const n="&"+e+";";d0.innerHTML=n;const r=d0.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===n?!1:r}function Hn(e,n,r,i){const o=e.length;let a=0,l;if(n<0?n=-n>o?0:o+n:n=n>o?o:n,r=r>0?r:0,i.length<1e4)l=Array.from(i),l.unshift(n,r),e.splice(...l);else for(r&&e.splice(n,r);a<i.length;)l=i.slice(a,a+1e4),l.unshift(n,0),e.splice(...l),a+=1e4,n+=1e4}function an(e,n){return e.length>0?(Hn(e,e.length,0,n),e):n}const p0={}.hasOwnProperty;function JP(e){const n={};let r=-1;for(;++r<e.length;)eE(n,e[r]);return n}function eE(e,n){let r;for(r in n){const o=(p0.call(e,r)?e[r]:void 0)||(e[r]={}),a=n[r];let l;if(a)for(l in a){p0.call(o,l)||(o[l]=[]);const c=a[l];tE(o[l],Array.isArray(c)?c:c?[c]:[])}}}function tE(e,n){let r=-1;const i=[];for(;++r<n.length;)(n[r].add==="after"?e:i).push(n[r]);Hn(e,0,0,i)}function Dx(e,n){const r=Number.parseInt(e,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function co(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Dn=Kr(/[A-Za-z]/),Wt=Kr(/[\dA-Za-z]/),nE=Kr(/[#-'*+\--9=?A-Z^-~]/);function Ph(e){return e!==null&&(e<32||e===127)}const Eh=Kr(/\d/),rE=Kr(/[\dA-Fa-f]/),iE=Kr(/[!-/:-@[-`{-~]/);function ge(e){return e!==null&&e<-2}function Dt(e){return e!==null&&(e<0||e===32)}function Ne(e){return e===-2||e===-1||e===32}const oE=Kr(new RegExp("\\p{P}|\\p{S}","u")),sE=Kr(/\s/);function Kr(e){return n;function n(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Lo(e){const n=[];let r=-1,i=0,o=0;for(;++r<e.length;){const a=e.charCodeAt(r);let l="";if(a===37&&Wt(e.charCodeAt(r+1))&&Wt(e.charCodeAt(r+2)))o=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=e.charCodeAt(r+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),o=1):l=""}else l=String.fromCharCode(a);l&&(n.push(e.slice(i,r),encodeURIComponent(l)),i=r+o+1,l=""),o&&(r+=o,o=0)}return n.join("")+e.slice(i)}function Re(e,n,r,i){const o=i?i-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(f){return Ne(f)?(e.enter(r),c(f)):n(f)}function c(f){return Ne(f)&&a++<o?(e.consume(f),c):(e.exit(r),n(f))}}const aE={tokenize:lE};function lE(e){const n=e.attempt(this.parser.constructs.contentInitial,i,o);let r;return n;function i(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Re(e,n,"linePrefix")}function o(c){return e.enter("paragraph"),a(c)}function a(c){const f=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=f),r=f,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return ge(c)?(e.consume(c),e.exit("chunkText"),a):(e.consume(c),l)}}const uE={tokenize:cE},m0={tokenize:fE};function cE(e){const n=this,r=[];let i=0,o,a,l;return c;function c(C){if(i<r.length){const N=r[i];return n.containerState=N[1],e.attempt(N[0].continuation,f,h)(C)}return h(C)}function f(C){if(i++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,o&&k();const N=n.events.length;let M=N,T;for(;M--;)if(n.events[M][0]==="exit"&&n.events[M][1].type==="chunkFlow"){T=n.events[M][1].end;break}x(i);let z=N;for(;z<n.events.length;)n.events[z][1].end={...T},z++;return Hn(n.events,M+1,0,n.events.slice(N)),n.events.length=z,h(C)}return c(C)}function h(C){if(i===r.length){if(!o)return g(C);if(o.currentConstruct&&o.currentConstruct.concrete)return w(C);n.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(m0,m,d)(C)}function m(C){return o&&k(),x(i),g(C)}function d(C){return n.parser.lazy[n.now().line]=i!==r.length,l=n.now().offset,w(C)}function g(C){return n.containerState={},e.attempt(m0,y,w)(C)}function y(C){return i++,r.push([n.currentConstruct,n.containerState]),g(C)}function w(C){if(C===null){o&&k(),x(0),e.consume(C);return}return o=o||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),S(C)}function S(C){if(C===null){P(e.exit("chunkFlow"),!0),x(0),e.consume(C);return}return ge(C)?(e.consume(C),P(e.exit("chunkFlow")),i=0,n.interrupt=void 0,c):(e.consume(C),S)}function P(C,N){const M=n.sliceStream(C);if(N&&M.push(null),C.previous=a,a&&(a.next=C),a=C,o.defineSkip(C.start),o.write(M),n.parser.lazy[C.start.line]){let T=o.events.length;for(;T--;)if(o.events[T][1].start.offset<l&&(!o.events[T][1].end||o.events[T][1].end.offset>l))return;const z=n.events.length;let A=z,$,F;for(;A--;)if(n.events[A][0]==="exit"&&n.events[A][1].type==="chunkFlow"){if($){F=n.events[A][1].end;break}$=!0}for(x(i),T=z;T<n.events.length;)n.events[T][1].end={...F},T++;Hn(n.events,A+1,0,n.events.slice(z)),n.events.length=T}}function x(C){let N=r.length;for(;N-- >C;){const M=r[N];n.containerState=M[1],M[0].exit.call(n,e)}r.length=C}function k(){o.write([null]),a=void 0,o=void 0,n.containerState._closeFlow=void 0}}function fE(e,n,r){return Re(e,e.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function g0(e){if(e===null||Dt(e)||sE(e))return 1;if(oE(e))return 2}function cp(e,n,r){const i=[];let o=-1;for(;++o<e.length;){const a=e[o].resolveAll;a&&!i.includes(a)&&(n=a(n,r),i.push(a))}return n}const Nh={name:"attention",resolveAll:hE,tokenize:dE};function hE(e,n){let r=-1,i,o,a,l,c,f,h,m;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(i=r;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&n.sliceSerialize(e[i][1]).charCodeAt(0)===n.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[i][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;f=e[i][1].end.offset-e[i][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[i][1].end},g={...e[r][1].start};y0(d,-f),y0(g,f),l={type:f>1?"strongSequence":"emphasisSequence",start:d,end:{...e[i][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:g},a={type:f>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[r][1].start}},o={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[i][1].end={...l.start},e[r][1].start={...c.end},h=[],e[i][1].end.offset-e[i][1].start.offset&&(h=an(h,[["enter",e[i][1],n],["exit",e[i][1],n]])),h=an(h,[["enter",o,n],["enter",l,n],["exit",l,n],["enter",a,n]]),h=an(h,cp(n.parser.constructs.insideSpan.null,e.slice(i+1,r),n)),h=an(h,[["exit",a,n],["enter",c,n],["exit",c,n],["exit",o,n]]),e[r][1].end.offset-e[r][1].start.offset?(m=2,h=an(h,[["enter",e[r][1],n],["exit",e[r][1],n]])):m=0,Hn(e,i-1,r-i+3,h),r=i+h.length-m-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function dE(e,n){const r=this.parser.constructs.attentionMarkers.null,i=this.previous,o=g0(i);let a;return l;function l(f){return a=f,e.enter("attentionSequence"),c(f)}function c(f){if(f===a)return e.consume(f),c;const h=e.exit("attentionSequence"),m=g0(f),d=!m||m===2&&o||r.includes(f),g=!o||o===2&&m||r.includes(i);return h._open=!!(a===42?d:d&&(o||!g)),h._close=!!(a===42?g:g&&(m||!d)),n(f)}}function y0(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const pE={name:"autolink",tokenize:mE};function mE(e,n,r){let i=0;return o;function o(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(y){return Dn(y)?(e.consume(y),l):y===64?r(y):h(y)}function l(y){return y===43||y===45||y===46||Wt(y)?(i=1,c(y)):h(y)}function c(y){return y===58?(e.consume(y),i=0,f):(y===43||y===45||y===46||Wt(y))&&i++<32?(e.consume(y),c):(i=0,h(y))}function f(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),n):y===null||y===32||y===60||Ph(y)?r(y):(e.consume(y),f)}function h(y){return y===64?(e.consume(y),m):nE(y)?(e.consume(y),h):r(y)}function m(y){return Wt(y)?d(y):r(y)}function d(y){return y===46?(e.consume(y),i=0,m):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),n):g(y)}function g(y){if((y===45||Wt(y))&&i++<63){const w=y===45?g:d;return e.consume(y),w}return r(y)}}const Fu={partial:!0,tokenize:gE};function gE(e,n,r){return i;function i(a){return Ne(a)?Re(e,o,"linePrefix")(a):o(a)}function o(a){return a===null||ge(a)?n(a):r(a)}}const Fx={continuation:{tokenize:vE},exit:_E,name:"blockQuote",tokenize:yE};function yE(e,n,r){const i=this;return o;function o(l){if(l===62){const c=i.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return r(l)}function a(l){return Ne(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(l))}}function vE(e,n,r){const i=this;return o;function o(l){return Ne(l)?Re(e,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(Fx,n,r)(l)}}function _E(e){e.exit("blockQuote")}const Bx={name:"characterEscape",tokenize:xE};function xE(e,n,r){return i;function i(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),o}function o(a){return iE(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):r(a)}}const Ux={name:"characterReference",tokenize:wE};function wE(e,n,r){const i=this;let o=0,a,l;return c;function c(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),f}function f(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),a=31,l=Wt,m(d))}function h(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=rE,m):(e.enter("characterReferenceValue"),a=7,l=Eh,m(d))}function m(d){if(d===59&&o){const g=e.exit("characterReferenceValue");return l===Wt&&!up(i.sliceSerialize(g))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return l(d)&&o++<a?(e.consume(d),m):r(d)}}const v0={partial:!0,tokenize:kE},_0={concrete:!0,name:"codeFenced",tokenize:bE};function bE(e,n,r){const i=this,o={partial:!0,tokenize:M};let a=0,l=0,c;return f;function f(T){return h(T)}function h(T){const z=i.events[i.events.length-1];return a=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,c=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(T)}function m(T){return T===c?(l++,e.consume(T),m):l<3?r(T):(e.exit("codeFencedFenceSequence"),Ne(T)?Re(e,d,"whitespace")(T):d(T))}function d(T){return T===null||ge(T)?(e.exit("codeFencedFence"),i.interrupt?n(T):e.check(v0,S,N)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===null||ge(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(T)):Ne(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Re(e,y,"whitespace")(T)):T===96&&T===c?r(T):(e.consume(T),g)}function y(T){return T===null||ge(T)?d(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(T))}function w(T){return T===null||ge(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(T)):T===96&&T===c?r(T):(e.consume(T),w)}function S(T){return e.attempt(o,N,P)(T)}function P(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),x}function x(T){return a>0&&Ne(T)?Re(e,k,"linePrefix",a+1)(T):k(T)}function k(T){return T===null||ge(T)?e.check(v0,S,N)(T):(e.enter("codeFlowValue"),C(T))}function C(T){return T===null||ge(T)?(e.exit("codeFlowValue"),k(T)):(e.consume(T),C)}function N(T){return e.exit("codeFenced"),n(T)}function M(T,z,A){let $=0;return F;function F(G){return T.enter("lineEnding"),T.consume(G),T.exit("lineEnding"),H}function H(G){return T.enter("codeFencedFence"),Ne(G)?Re(T,U,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):U(G)}function U(G){return G===c?(T.enter("codeFencedFenceSequence"),Y(G)):A(G)}function Y(G){return G===c?($++,T.consume(G),Y):$>=l?(T.exit("codeFencedFenceSequence"),Ne(G)?Re(T,D,"whitespace")(G):D(G)):A(G)}function D(G){return G===null||ge(G)?(T.exit("codeFencedFence"),z(G)):A(G)}}}function kE(e,n,r){const i=this;return o;function o(l){return l===null?r(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?r(l):n(l)}}const sf={name:"codeIndented",tokenize:CE},SE={partial:!0,tokenize:PE};function CE(e,n,r){const i=this;return o;function o(h){return e.enter("codeIndented"),Re(e,a,"linePrefix",5)(h)}function a(h){const m=i.events[i.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(h):r(h)}function l(h){return h===null?f(h):ge(h)?e.attempt(SE,l,f)(h):(e.enter("codeFlowValue"),c(h))}function c(h){return h===null||ge(h)?(e.exit("codeFlowValue"),l(h)):(e.consume(h),c)}function f(h){return e.exit("codeIndented"),n(h)}}function PE(e,n,r){const i=this;return o;function o(l){return i.parser.lazy[i.now().line]?r(l):ge(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):Re(e,a,"linePrefix",5)(l)}function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?n(l):ge(l)?o(l):r(l)}}const EE={name:"codeText",previous:TE,resolve:NE,tokenize:LE};function NE(e){let n=e.length-4,r=3,i,o;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(i=r;++i<n;)if(e[i][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(i=r-1,n++;++i<=n;)o===void 0?i!==n&&e[i][1].type!=="lineEnding"&&(o=i):(i===n||e[i][1].type==="lineEnding")&&(e[o][1].type="codeTextData",i!==o+2&&(e[o][1].end=e[i-1][1].end,e.splice(o+2,i-o-2),n-=i-o-2,i=o+2),o=void 0);return e}function TE(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function LE(e,n,r){let i=0,o,a;return l;function l(d){return e.enter("codeText"),e.enter("codeTextSequence"),c(d)}function c(d){return d===96?(e.consume(d),i++,c):(e.exit("codeTextSequence"),f(d))}function f(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),f):d===96?(a=e.enter("codeTextSequence"),o=0,m(d)):ge(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),f):(e.enter("codeTextData"),h(d))}function h(d){return d===null||d===32||d===96||ge(d)?(e.exit("codeTextData"),f(d)):(e.consume(d),h)}function m(d){return d===96?(e.consume(d),o++,m):o===i?(e.exit("codeTextSequence"),e.exit("codeText"),n(d)):(a.type="codeTextData",h(d))}}class jE{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const i=r??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(n,i):n>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(n,r,i){const o=r||0;this.setCursor(Math.trunc(n));const a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&es(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),es(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),es(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);es(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);es(this.left,r.reverse())}}}function es(e,n){let r=0;if(n.length<1e4)e.push(...n);else for(;r<n.length;)e.push(...n.slice(r,r+1e4)),r+=1e4}function $x(e){const n={};let r=-1,i,o,a,l,c,f,h;const m=new jE(e);for(;++r<m.length;){for(;r in n;)r=n[r];if(i=m.get(r),r&&i[1].type==="chunkFlow"&&m.get(r-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(n,ME(m,r)),r=n[r],h=!0);else if(i[1]._container){for(a=r,o=void 0;a--;)if(l=m.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(i[1].end={...m.get(o)[1].start},c=m.slice(o,r),c.unshift(i),m.splice(o,r-o+1,c))}}return Hn(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function ME(e,n){const r=e.get(n)[1],i=e.get(n)[2];let o=n-1;const a=[];let l=r._tokenizer;l||(l=i.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,f=[],h={};let m,d,g=-1,y=r,w=0,S=0;const P=[S];for(;y;){for(;e.get(++o)[1]!==y;);a.push(o),y._tokenizer||(m=i.sliceStream(y),y.next||m.push(null),d&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),d=y,y=y.next}for(y=r;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(S=g+1,P.push(S),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):P.pop(),g=P.length;g--;){const x=c.slice(P[g],P[g+1]),k=a.pop();f.push([k,k+x.length-1]),e.splice(k,2,x)}for(f.reverse(),g=-1;++g<f.length;)h[w+f[g][0]]=w+f[g][1],w+=f[g][1]-f[g][0]-1;return h}const zE={resolve:OE,tokenize:IE},AE={partial:!0,tokenize:RE};function OE(e){return $x(e),e}function IE(e,n){let r;return i;function i(c){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?a(c):ge(c)?e.check(AE,l,a)(c):(e.consume(c),o)}function a(c){return e.exit("chunkContent"),e.exit("content"),n(c)}function l(c){return e.consume(c),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,o}}function RE(e,n,r){const i=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Re(e,a,"linePrefix")}function a(l){if(l===null||ge(l))return r(l);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?n(l):e.interrupt(i.parser.constructs.flow,r,n)(l)}}function Hx(e,n,r,i,o,a,l,c,f){const h=f||Number.POSITIVE_INFINITY;let m=0;return d;function d(x){return x===60?(e.enter(i),e.enter(o),e.enter(a),e.consume(x),e.exit(a),g):x===null||x===32||x===41||Ph(x)?r(x):(e.enter(i),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),S(x))}function g(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(o),e.exit(i),n):(e.enter(c),e.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===62?(e.exit("chunkString"),e.exit(c),g(x)):x===null||x===60||ge(x)?r(x):(e.consume(x),x===92?w:y)}function w(x){return x===60||x===62||x===92?(e.consume(x),y):y(x)}function S(x){return!m&&(x===null||x===41||Dt(x))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(i),n(x)):m<h&&x===40?(e.consume(x),m++,S):x===41?(e.consume(x),m--,S):x===null||x===32||x===40||Ph(x)?r(x):(e.consume(x),x===92?P:S)}function P(x){return x===40||x===41||x===92?(e.consume(x),S):S(x)}}function Zx(e,n,r,i,o,a){const l=this;let c=0,f;return h;function h(y){return e.enter(i),e.enter(o),e.consume(y),e.exit(o),e.enter(a),m}function m(y){return c>999||y===null||y===91||y===93&&!f||y===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?r(y):y===93?(e.exit(a),e.enter(o),e.consume(y),e.exit(o),e.exit(i),n):ge(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),d(y))}function d(y){return y===null||y===91||y===93||ge(y)||c++>999?(e.exit("chunkString"),m(y)):(e.consume(y),f||(f=!Ne(y)),y===92?g:d)}function g(y){return y===91||y===92||y===93?(e.consume(y),c++,d):d(y)}}function Wx(e,n,r,i,o,a){let l;return c;function c(g){return g===34||g===39||g===40?(e.enter(i),e.enter(o),e.consume(g),e.exit(o),l=g===40?41:g,f):r(g)}function f(g){return g===l?(e.enter(o),e.consume(g),e.exit(o),e.exit(i),n):(e.enter(a),h(g))}function h(g){return g===l?(e.exit(a),f(l)):g===null?r(g):ge(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Re(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===l||g===null||ge(g)?(e.exit("chunkString"),h(g)):(e.consume(g),g===92?d:m)}function d(g){return g===l||g===92?(e.consume(g),m):m(g)}}function Ts(e,n){let r;return i;function i(o){return ge(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r=!0,i):Ne(o)?Re(e,i,r?"linePrefix":"lineSuffix")(o):n(o)}}const DE={name:"definition",tokenize:BE},FE={partial:!0,tokenize:UE};function BE(e,n,r){const i=this;let o;return a;function a(y){return e.enter("definition"),l(y)}function l(y){return Zx.call(i,e,c,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function c(y){return o=co(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),f):r(y)}function f(y){return Dt(y)?Ts(e,h)(y):h(y)}function h(y){return Hx(e,m,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function m(y){return e.attempt(FE,d,d)(y)}function d(y){return Ne(y)?Re(e,g,"whitespace")(y):g(y)}function g(y){return y===null||ge(y)?(e.exit("definition"),i.parser.defined.push(o),n(y)):r(y)}}function UE(e,n,r){return i;function i(c){return Dt(c)?Ts(e,o)(c):r(c)}function o(c){return Wx(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return Ne(c)?Re(e,l,"whitespace")(c):l(c)}function l(c){return c===null||ge(c)?n(c):r(c)}}const $E={name:"hardBreakEscape",tokenize:HE};function HE(e,n,r){return i;function i(a){return e.enter("hardBreakEscape"),e.consume(a),o}function o(a){return ge(a)?(e.exit("hardBreakEscape"),n(a)):r(a)}}const ZE={name:"headingAtx",resolve:WE,tokenize:VE};function WE(e,n){let r=e.length-2,i=3,o,a;return e[i][1].type==="whitespace"&&(i+=2),r-2>i&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(i===r-1||r-4>i&&e[r-2][1].type==="whitespace")&&(r-=i+1===r?2:4),r>i&&(o={type:"atxHeadingText",start:e[i][1].start,end:e[r][1].end},a={type:"chunkText",start:e[i][1].start,end:e[r][1].end,contentType:"text"},Hn(e,i,r-i+1,[["enter",o,n],["enter",a,n],["exit",a,n],["exit",o,n]])),e}function VE(e,n,r){let i=0;return o;function o(m){return e.enter("atxHeading"),a(m)}function a(m){return e.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&i++<6?(e.consume(m),l):m===null||Dt(m)?(e.exit("atxHeadingSequence"),c(m)):r(m)}function c(m){return m===35?(e.enter("atxHeadingSequence"),f(m)):m===null||ge(m)?(e.exit("atxHeading"),n(m)):Ne(m)?Re(e,c,"whitespace")(m):(e.enter("atxHeadingText"),h(m))}function f(m){return m===35?(e.consume(m),f):(e.exit("atxHeadingSequence"),c(m))}function h(m){return m===null||m===35||Dt(m)?(e.exit("atxHeadingText"),c(m)):(e.consume(m),h)}}const qE=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],x0=["pre","script","style","textarea"],GE={concrete:!0,name:"htmlFlow",resolveTo:KE,tokenize:QE},XE={partial:!0,tokenize:eN},YE={partial:!0,tokenize:JE};function KE(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function QE(e,n,r){const i=this;let o,a,l,c,f;return h;function h(O){return m(O)}function m(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),d}function d(O){return O===33?(e.consume(O),g):O===47?(e.consume(O),a=!0,S):O===63?(e.consume(O),o=3,i.interrupt?n:j):Dn(O)?(e.consume(O),l=String.fromCharCode(O),P):r(O)}function g(O){return O===45?(e.consume(O),o=2,y):O===91?(e.consume(O),o=5,c=0,w):Dn(O)?(e.consume(O),o=4,i.interrupt?n:j):r(O)}function y(O){return O===45?(e.consume(O),i.interrupt?n:j):r(O)}function w(O){const fe="CDATA[";return O===fe.charCodeAt(c++)?(e.consume(O),c===fe.length?i.interrupt?n:U:w):r(O)}function S(O){return Dn(O)?(e.consume(O),l=String.fromCharCode(O),P):r(O)}function P(O){if(O===null||O===47||O===62||Dt(O)){const fe=O===47,pe=l.toLowerCase();return!fe&&!a&&x0.includes(pe)?(o=1,i.interrupt?n(O):U(O)):qE.includes(l.toLowerCase())?(o=6,fe?(e.consume(O),x):i.interrupt?n(O):U(O)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?r(O):a?k(O):C(O))}return O===45||Wt(O)?(e.consume(O),l+=String.fromCharCode(O),P):r(O)}function x(O){return O===62?(e.consume(O),i.interrupt?n:U):r(O)}function k(O){return Ne(O)?(e.consume(O),k):F(O)}function C(O){return O===47?(e.consume(O),F):O===58||O===95||Dn(O)?(e.consume(O),N):Ne(O)?(e.consume(O),C):F(O)}function N(O){return O===45||O===46||O===58||O===95||Wt(O)?(e.consume(O),N):M(O)}function M(O){return O===61?(e.consume(O),T):Ne(O)?(e.consume(O),M):C(O)}function T(O){return O===null||O===60||O===61||O===62||O===96?r(O):O===34||O===39?(e.consume(O),f=O,z):Ne(O)?(e.consume(O),T):A(O)}function z(O){return O===f?(e.consume(O),f=null,$):O===null||ge(O)?r(O):(e.consume(O),z)}function A(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Dt(O)?M(O):(e.consume(O),A)}function $(O){return O===47||O===62||Ne(O)?C(O):r(O)}function F(O){return O===62?(e.consume(O),H):r(O)}function H(O){return O===null||ge(O)?U(O):Ne(O)?(e.consume(O),H):r(O)}function U(O){return O===45&&o===2?(e.consume(O),q):O===60&&o===1?(e.consume(O),J):O===62&&o===4?(e.consume(O),ee):O===63&&o===3?(e.consume(O),j):O===93&&o===5?(e.consume(O),Q):ge(O)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(XE,oe,Y)(O)):O===null||ge(O)?(e.exit("htmlFlowData"),Y(O)):(e.consume(O),U)}function Y(O){return e.check(YE,D,oe)(O)}function D(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),G}function G(O){return O===null||ge(O)?Y(O):(e.enter("htmlFlowData"),U(O))}function q(O){return O===45?(e.consume(O),j):U(O)}function J(O){return O===47?(e.consume(O),l="",Z):U(O)}function Z(O){if(O===62){const fe=l.toLowerCase();return x0.includes(fe)?(e.consume(O),ee):U(O)}return Dn(O)&&l.length<8?(e.consume(O),l+=String.fromCharCode(O),Z):U(O)}function Q(O){return O===93?(e.consume(O),j):U(O)}function j(O){return O===62?(e.consume(O),ee):O===45&&o===2?(e.consume(O),j):U(O)}function ee(O){return O===null||ge(O)?(e.exit("htmlFlowData"),oe(O)):(e.consume(O),ee)}function oe(O){return e.exit("htmlFlow"),n(O)}}function JE(e,n,r){const i=this;return o;function o(l){return ge(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):r(l)}function a(l){return i.parser.lazy[i.now().line]?r(l):n(l)}}function eN(e,n,r){return i;function i(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Fu,n,r)}}const tN={name:"htmlText",tokenize:nN};function nN(e,n,r){const i=this;let o,a,l;return c;function c(j){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(j),f}function f(j){return j===33?(e.consume(j),h):j===47?(e.consume(j),M):j===63?(e.consume(j),C):Dn(j)?(e.consume(j),A):r(j)}function h(j){return j===45?(e.consume(j),m):j===91?(e.consume(j),a=0,w):Dn(j)?(e.consume(j),k):r(j)}function m(j){return j===45?(e.consume(j),y):r(j)}function d(j){return j===null?r(j):j===45?(e.consume(j),g):ge(j)?(l=d,J(j)):(e.consume(j),d)}function g(j){return j===45?(e.consume(j),y):d(j)}function y(j){return j===62?q(j):j===45?g(j):d(j)}function w(j){const ee="CDATA[";return j===ee.charCodeAt(a++)?(e.consume(j),a===ee.length?S:w):r(j)}function S(j){return j===null?r(j):j===93?(e.consume(j),P):ge(j)?(l=S,J(j)):(e.consume(j),S)}function P(j){return j===93?(e.consume(j),x):S(j)}function x(j){return j===62?q(j):j===93?(e.consume(j),x):S(j)}function k(j){return j===null||j===62?q(j):ge(j)?(l=k,J(j)):(e.consume(j),k)}function C(j){return j===null?r(j):j===63?(e.consume(j),N):ge(j)?(l=C,J(j)):(e.consume(j),C)}function N(j){return j===62?q(j):C(j)}function M(j){return Dn(j)?(e.consume(j),T):r(j)}function T(j){return j===45||Wt(j)?(e.consume(j),T):z(j)}function z(j){return ge(j)?(l=z,J(j)):Ne(j)?(e.consume(j),z):q(j)}function A(j){return j===45||Wt(j)?(e.consume(j),A):j===47||j===62||Dt(j)?$(j):r(j)}function $(j){return j===47?(e.consume(j),q):j===58||j===95||Dn(j)?(e.consume(j),F):ge(j)?(l=$,J(j)):Ne(j)?(e.consume(j),$):q(j)}function F(j){return j===45||j===46||j===58||j===95||Wt(j)?(e.consume(j),F):H(j)}function H(j){return j===61?(e.consume(j),U):ge(j)?(l=H,J(j)):Ne(j)?(e.consume(j),H):$(j)}function U(j){return j===null||j===60||j===61||j===62||j===96?r(j):j===34||j===39?(e.consume(j),o=j,Y):ge(j)?(l=U,J(j)):Ne(j)?(e.consume(j),U):(e.consume(j),D)}function Y(j){return j===o?(e.consume(j),o=void 0,G):j===null?r(j):ge(j)?(l=Y,J(j)):(e.consume(j),Y)}function D(j){return j===null||j===34||j===39||j===60||j===61||j===96?r(j):j===47||j===62||Dt(j)?$(j):(e.consume(j),D)}function G(j){return j===47||j===62||Dt(j)?$(j):r(j)}function q(j){return j===62?(e.consume(j),e.exit("htmlTextData"),e.exit("htmlText"),n):r(j)}function J(j){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),Z}function Z(j){return Ne(j)?Re(e,Q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):Q(j)}function Q(j){return e.enter("htmlTextData"),l(j)}}const fp={name:"labelEnd",resolveAll:sN,resolveTo:aN,tokenize:lN},rN={tokenize:uN},iN={tokenize:cN},oN={tokenize:fN};function sN(e){let n=-1;const r=[];for(;++n<e.length;){const i=e[n][1];if(r.push(e[n]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",n+=o}}return e.length!==r.length&&Hn(e,0,e.length,r),e}function aN(e,n){let r=e.length,i=0,o,a,l,c;for(;r--;)if(o=e[r][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[r][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[r][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=r,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(l=r);const f={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},m={type:"labelText",start:{...e[a+i+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",f,n],["enter",h,n]],c=an(c,e.slice(a+1,a+i+3)),c=an(c,[["enter",m,n]]),c=an(c,cp(n.parser.constructs.insideSpan.null,e.slice(a+i+4,l-3),n)),c=an(c,[["exit",m,n],e[l-2],e[l-1],["exit",h,n]]),c=an(c,e.slice(l+1)),c=an(c,[["exit",f,n]]),Hn(e,a,e.length,c),e}function lN(e,n,r){const i=this;let o=i.events.length,a,l;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){a=i.events[o][1];break}return c;function c(g){return a?a._inactive?d(g):(l=i.parser.defined.includes(co(i.sliceSerialize({start:a.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),f):r(g)}function f(g){return g===40?e.attempt(rN,m,l?m:d)(g):g===91?e.attempt(iN,m,l?h:d)(g):l?m(g):d(g)}function h(g){return e.attempt(oN,m,d)(g)}function m(g){return n(g)}function d(g){return a._balanced=!0,r(g)}}function uN(e,n,r){return i;function i(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),o}function o(d){return Dt(d)?Ts(e,a)(d):a(d)}function a(d){return d===41?m(d):Hx(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function l(d){return Dt(d)?Ts(e,f)(d):m(d)}function c(d){return r(d)}function f(d){return d===34||d===39||d===40?Wx(e,h,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):m(d)}function h(d){return Dt(d)?Ts(e,m)(d):m(d)}function m(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),n):r(d)}}function cN(e,n,r){const i=this;return o;function o(c){return Zx.call(i,e,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(co(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?n(c):r(c)}function l(c){return r(c)}}function fN(e,n,r){return i;function i(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),o}function o(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):r(a)}}const hN={name:"labelStartImage",resolveAll:fp.resolveAll,tokenize:dN};function dN(e,n,r){const i=this;return o;function o(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),a}function a(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):r(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(c):n(c)}}const pN={name:"labelStartLink",resolveAll:fp.resolveAll,tokenize:mN};function mN(e,n,r){const i=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(l):n(l)}}const af={name:"lineEnding",tokenize:gN};function gN(e,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Re(e,n,"linePrefix")}}const Tl={name:"thematicBreak",tokenize:yN};function yN(e,n,r){let i=0,o;return a;function a(h){return e.enter("thematicBreak"),l(h)}function l(h){return o=h,c(h)}function c(h){return h===o?(e.enter("thematicBreakSequence"),f(h)):i>=3&&(h===null||ge(h))?(e.exit("thematicBreak"),n(h)):r(h)}function f(h){return h===o?(e.consume(h),i++,f):(e.exit("thematicBreakSequence"),Ne(h)?Re(e,c,"whitespace")(h):c(h))}}const jt={continuation:{tokenize:wN},exit:kN,name:"list",tokenize:xN},vN={partial:!0,tokenize:SN},_N={partial:!0,tokenize:bN};function xN(e,n,r){const i=this,o=i.events[i.events.length-1];let a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(y){const w=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:Eh(y)){if(i.containerState.type||(i.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Tl,r,h)(y):h(y);if(!i.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(y)}return r(y)}function f(y){return Eh(y)&&++l<10?(e.consume(y),f):(!i.interrupt||l<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),h(y)):r(y)}function h(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,e.check(Fu,i.interrupt?r:m,e.attempt(vN,g,d))}function m(y){return i.containerState.initialBlankLine=!0,a++,g(y)}function d(y){return Ne(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):r(y)}function g(y){return i.containerState.size=a+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(y)}}function wN(e,n,r){const i=this;return i.containerState._closeFlow=void 0,e.check(Fu,o,a);function o(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Re(e,n,"listItemIndent",i.containerState.size+1)(c)}function a(c){return i.containerState.furtherBlankLines||!Ne(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(_N,n,l)(c))}function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,Re(e,e.attempt(jt,n,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function bN(e,n,r){const i=this;return Re(e,o,"listItemIndent",i.containerState.size+1);function o(a){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?n(a):r(a)}}function kN(e){e.exit(this.containerState.type)}function SN(e,n,r){const i=this;return Re(e,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){const l=i.events[i.events.length-1];return!Ne(a)&&l&&l[1].type==="listItemPrefixWhitespace"?n(a):r(a)}}const w0={name:"setextUnderline",resolveTo:CN,tokenize:PN};function CN(e,n){let r=e.length,i,o,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){i=r;break}e[r][1].type==="paragraph"&&(o=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const l={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",a?(e.splice(o,0,["enter",l,n]),e.splice(a+1,0,["exit",e[i][1],n]),e[i][1].end={...e[a][1].end}):e[i][1]=l,e.push(["exit",l,n]),e}function PN(e,n,r){const i=this;let o;return a;function a(h){let m=i.events.length,d;for(;m--;)if(i.events[m][1].type!=="lineEnding"&&i.events[m][1].type!=="linePrefix"&&i.events[m][1].type!=="content"){d=i.events[m][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||d)?(e.enter("setextHeadingLine"),o=h,l(h)):r(h)}function l(h){return e.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===o?(e.consume(h),c):(e.exit("setextHeadingLineSequence"),Ne(h)?Re(e,f,"lineSuffix")(h):f(h))}function f(h){return h===null||ge(h)?(e.exit("setextHeadingLine"),n(h)):r(h)}}const EN={tokenize:NN};function NN(e){const n=this,r=e.attempt(Fu,i,e.attempt(this.parser.constructs.flowInitial,o,Re(e,e.attempt(this.parser.constructs.flow,o,e.attempt(zE,o)),"linePrefix")));return r;function i(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function o(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,r}}const TN={resolveAll:qx()},LN=Vx("string"),jN=Vx("text");function Vx(e){return{resolveAll:qx(e==="text"?MN:void 0),tokenize:n};function n(r){const i=this,o=this.parser.constructs[e],a=r.attempt(o,l,c);return l;function l(m){return h(m)?a(m):c(m)}function c(m){if(m===null){r.consume(m);return}return r.enter("data"),r.consume(m),f}function f(m){return h(m)?(r.exit("data"),a(m)):(r.consume(m),f)}function h(m){if(m===null)return!0;const d=o[m];let g=-1;if(d)for(;++g<d.length;){const y=d[g];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function qx(e){return n;function n(r,i){let o=-1,a;for(;++o<=r.length;)a===void 0?r[o]&&r[o][1].type==="data"&&(a=o,o++):(!r[o]||r[o][1].type!=="data")&&(o!==a+2&&(r[a][1].end=r[o-1][1].end,r.splice(a+2,o-a-2),o=a+2),a=void 0);return e?e(r,i):r}}function MN(e,n){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const i=e[r-1][1],o=n.sliceStream(i);let a=o.length,l=-1,c=0,f;for(;a--;){const h=o[a];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)f=!0,c++;else if(h!==-1){a++;break}}if(n._contentTypeTextTrailing&&r===e.length&&(c=0),c){const h={type:r===e.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(e.splice(r,0,["enter",h,n],["exit",h,n]),r+=2)}r++}return e}const zN={42:jt,43:jt,45:jt,48:jt,49:jt,50:jt,51:jt,52:jt,53:jt,54:jt,55:jt,56:jt,57:jt,62:Fx},AN={91:DE},ON={[-2]:sf,[-1]:sf,32:sf},IN={35:ZE,42:Tl,45:[w0,Tl],60:GE,61:w0,95:Tl,96:_0,126:_0},RN={38:Ux,92:Bx},DN={[-5]:af,[-4]:af,[-3]:af,33:hN,38:Ux,42:Nh,60:[pE,tN],91:pN,92:[$E,Bx],93:fp,95:Nh,96:EE},FN={null:[Nh,TN]},BN={null:[42,95]},UN={null:[]},$N=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:BN,contentInitial:AN,disable:UN,document:zN,flow:IN,flowInitial:ON,insideSpan:FN,string:RN,text:DN},Symbol.toStringTag,{value:"Module"}));function HN(e,n,r){let i={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const o={},a=[];let l=[],c=[];const f={attempt:z(M),check:z(T),consume:k,enter:C,exit:N,interrupt:z(T,{interrupt:!0})},h={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:d};let m=n.tokenize.call(h,f);return n.resolveAll&&a.push(n),h;function d(H){return l=an(l,H),P(),l[l.length-1]!==null?[]:(A(n,0),h.events=cp(a,h.events,h),h.events)}function g(H,U){return WN(y(H),U)}function y(H){return ZN(l,H)}function w(){const{_bufferIndex:H,_index:U,line:Y,column:D,offset:G}=i;return{_bufferIndex:H,_index:U,line:Y,column:D,offset:G}}function S(H){o[H.line]=H.column,F()}function P(){let H;for(;i._index<l.length;){const U=l[i._index];if(typeof U=="string")for(H=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===H&&i._bufferIndex<U.length;)x(U.charCodeAt(i._bufferIndex));else x(U)}}function x(H){m=m(H)}function k(H){ge(H)?(i.line++,i.column=1,i.offset+=H===-3?2:1,F()):H!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=H}function C(H,U){const Y=U||{};return Y.type=H,Y.start=w(),h.events.push(["enter",Y,h]),c.push(Y),Y}function N(H){const U=c.pop();return U.end=w(),h.events.push(["exit",U,h]),U}function M(H,U){A(H,U.from)}function T(H,U){U.restore()}function z(H,U){return Y;function Y(D,G,q){let J,Z,Q,j;return Array.isArray(D)?oe(D):"tokenize"in D?oe([D]):ee(D);function ee(ae){return se;function se(ue){const Te=ue!==null&&ae[ue],we=ue!==null&&ae.null,nt=[...Array.isArray(Te)?Te:Te?[Te]:[],...Array.isArray(we)?we:we?[we]:[]];return oe(nt)(ue)}}function oe(ae){return J=ae,Z=0,ae.length===0?q:O(ae[Z])}function O(ae){return se;function se(ue){return j=$(),Q=ae,ae.partial||(h.currentConstruct=ae),ae.name&&h.parser.constructs.disable.null.includes(ae.name)?pe():ae.tokenize.call(U?Object.assign(Object.create(h),U):h,f,fe,pe)(ue)}}function fe(ae){return H(Q,j),G}function pe(ae){return j.restore(),++Z<J.length?O(J[Z]):q}}}function A(H,U){H.resolveAll&&!a.includes(H)&&a.push(H),H.resolve&&Hn(h.events,U,h.events.length-U,H.resolve(h.events.slice(U),h)),H.resolveTo&&(h.events=H.resolveTo(h.events,h))}function $(){const H=w(),U=h.previous,Y=h.currentConstruct,D=h.events.length,G=Array.from(c);return{from:D,restore:q};function q(){i=H,h.previous=U,h.currentConstruct=Y,h.events.length=D,c=G,F()}}function F(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function ZN(e,n){const r=n.start._index,i=n.start._bufferIndex,o=n.end._index,a=n.end._bufferIndex;let l;if(r===o)l=[e[r].slice(i,a)];else{if(l=e.slice(r,o),i>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(e[o].slice(0,a))}return l}function WN(e,n){let r=-1;const i=[];let o;for(;++r<e.length;){const a=e[r];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=n?" ":"	";break}case-1:{if(!n&&o)continue;l=" ";break}default:l=String.fromCharCode(a)}o=a===-2,i.push(l)}return i.join("")}function VN(e){const i={constructs:JP([$N,...(e||{}).extensions||[]]),content:o(aE),defined:[],document:o(uE),flow:o(EN),lazy:{},string:o(LN),text:o(jN)};return i;function o(a){return l;function l(c){return HN(i,a,c)}}}function qN(e){for(;!$x(e););return e}const b0=/[\0\t\n\r]/g;function GN(){let e=1,n="",r=!0,i;return o;function o(a,l,c){const f=[];let h,m,d,g,y;for(a=n+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),d=0,n="",r&&(a.charCodeAt(0)===65279&&d++,r=void 0);d<a.length;){if(b0.lastIndex=d,h=b0.exec(a),g=h&&h.index!==void 0?h.index:a.length,y=a.charCodeAt(g),!h){n=a.slice(d);break}if(y===10&&d===g&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),d<g&&(f.push(a.slice(d,g)),e+=g-d),y){case 0:{f.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,f.push(-2);e++<m;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:i=!0,e=1}d=g+1}return c&&(i&&f.push(-5),n&&f.push(n),f.push(null)),f}}const XN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function YN(e){return e.replace(XN,KN)}function KN(e,n,r){if(n)return n;if(r.charCodeAt(0)===35){const o=r.charCodeAt(1),a=o===120||o===88;return Dx(r.slice(a?2:1),a?16:10)}return up(r)||e}const Gx={}.hasOwnProperty;function QN(e,n,r){return typeof n!="string"&&(r=n,n=void 0),JN(r)(qN(VN(r).document().write(GN()(e,n,!0))))}function JN(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ba),autolinkProtocol:$,autolinkEmail:$,atxHeading:a(Qr),blockQuote:a(we),characterEscape:$,characterReference:$,codeFenced:a(nt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(nt,l),codeText:a(lt,l),codeTextData:$,data:$,codeFlowValue:$,definition:a(xt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(_r),hardBreakEscape:a(Vn),hardBreakTrailing:a(Vn),htmlFlow:a(Jr,l),htmlFlowData:$,htmlText:a(Jr,l),htmlTextData:$,image:a(Li),label:l,link:a(ba),listItem:a(zo),listItemValue:g,listOrdered:a(Mo,d),listUnordered:a(Mo),paragraph:a(ka),reference:O,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Qr),strong:a(Sa),thematicBreak:a(ec)},exit:{atxHeading:f(),atxHeadingSequence:M,autolink:f(),autolinkEmail:Te,autolinkProtocol:ue,blockQuote:f(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:ae,characterReference:se,codeFenced:f(P),codeFencedFence:S,codeFencedFenceInfo:y,codeFencedFenceMeta:w,codeFlowValue:F,codeIndented:f(x),codeText:f(G),codeTextData:F,data:F,definition:f(),definitionDestinationString:N,definitionLabelString:k,definitionTitleString:C,emphasis:f(),hardBreakEscape:f(U),hardBreakTrailing:f(U),htmlFlow:f(Y),htmlFlowData:F,htmlText:f(D),htmlTextData:F,image:f(J),label:Q,labelText:Z,lineEnding:H,link:f(q),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:fe,resourceDestinationString:j,resourceTitleString:ee,resource:oe,setextHeading:f(A),setextHeadingLineSequence:z,setextHeadingText:T,strong:f(),thematicBreak:f()}};Xx(n,(e||{}).mdastExtensions||[]);const r={};return i;function i(X){let ie={type:"root",children:[]};const ye={stack:[ie],tokenStack:[],config:n,enter:c,exit:h,buffer:l,resume:m,data:r},ke=[];let Le=-1;for(;++Le<X.length;)if(X[Le][1].type==="listOrdered"||X[Le][1].type==="listUnordered")if(X[Le][0]==="enter")ke.push(Le);else{const Tt=ke.pop();Le=o(X,Tt,Le)}for(Le=-1;++Le<X.length;){const Tt=n[X[Le][0]];Gx.call(Tt,X[Le][1].type)&&Tt[X[Le][1].type].call(Object.assign({sliceSerialize:X[Le][2].sliceSerialize},ye),X[Le][1])}if(ye.tokenStack.length>0){const Tt=ye.tokenStack[ye.tokenStack.length-1];(Tt[1]||k0).call(ye,void 0,Tt[0])}for(ie.position={start:Sr(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:Sr(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},Le=-1;++Le<n.transforms.length;)ie=n.transforms[Le](ie)||ie;return ie}function o(X,ie,ye){let ke=ie-1,Le=-1,Tt=!1,qn,Kt,Gn,xr;for(;++ke<=ye;){const wt=X[ke];switch(wt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{wt[0]==="enter"?Le++:Le--,xr=void 0;break}case"lineEndingBlank":{wt[0]==="enter"&&(qn&&!xr&&!Le&&!Gn&&(Gn=ke),xr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xr=void 0}if(!Le&&wt[0]==="enter"&&wt[1].type==="listItemPrefix"||Le===-1&&wt[0]==="exit"&&(wt[1].type==="listUnordered"||wt[1].type==="listOrdered")){if(qn){let Qt=ke;for(Kt=void 0;Qt--;){const pn=X[Qt];if(pn[1].type==="lineEnding"||pn[1].type==="lineEndingBlank"){if(pn[0]==="exit")continue;Kt&&(X[Kt][1].type="lineEndingBlank",Tt=!0),pn[1].type="lineEnding",Kt=Qt}else if(!(pn[1].type==="linePrefix"||pn[1].type==="blockQuotePrefix"||pn[1].type==="blockQuotePrefixWhitespace"||pn[1].type==="blockQuoteMarker"||pn[1].type==="listItemIndent"))break}Gn&&(!Kt||Gn<Kt)&&(qn._spread=!0),qn.end=Object.assign({},Kt?X[Kt][1].start:wt[1].end),X.splice(Kt||ke,0,["exit",qn,wt[2]]),ke++,ye++}if(wt[1].type==="listItemPrefix"){const Qt={type:"listItem",_spread:!1,start:Object.assign({},wt[1].start),end:void 0};qn=Qt,X.splice(ke,0,["enter",Qt,wt[2]]),ke++,ye++,Gn=void 0,xr=!0}}}return X[ie][1]._spread=Tt,ye}function a(X,ie){return ye;function ye(ke){c.call(this,X(ke),ke),ie&&ie.call(this,ke)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(X,ie,ye){this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([ie,ye||void 0]),X.position={start:Sr(ie.start),end:void 0}}function f(X){return ie;function ie(ye){X&&X.call(this,ye),h.call(this,ye)}}function h(X,ie){const ye=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==X.type&&(ie?ie.call(this,X,ke[0]):(ke[1]||k0).call(this,X,ke[0]));else throw new Error("Cannot close `"+X.type+"` ("+Ns({start:X.start,end:X.end})+"): its not open");ye.position.end=Sr(X.end)}function m(){return KP(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function g(X){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(X),10),this.data.expectingFirstListItemValue=void 0}}function y(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=X}function w(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=X}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X.replace(/(\r?\n|\r)$/g,"")}function k(X){const ie=this.resume(),ye=this.stack[this.stack.length-1];ye.label=ie,ye.identifier=co(this.sliceSerialize(X)).toLowerCase()}function C(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.title=X}function N(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.url=X}function M(X){const ie=this.stack[this.stack.length-1];if(!ie.depth){const ye=this.sliceSerialize(X).length;ie.depth=ye}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function z(X){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(X).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function $(X){const ye=this.stack[this.stack.length-1].children;let ke=ye[ye.length-1];(!ke||ke.type!=="text")&&(ke=Ju(),ke.position={start:Sr(X.start),end:void 0},ye.push(ke)),this.stack.push(ke)}function F(X){const ie=this.stack.pop();ie.value+=this.sliceSerialize(X),ie.position.end=Sr(X.end)}function H(X){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=ie.children[ie.children.length-1];ye.position.end=Sr(X.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(ie.type)&&($.call(this,X),F.call(this,X))}function U(){this.data.atHardBreak=!0}function Y(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function D(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function G(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function q(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ie,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function J(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ie,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function Z(X){const ie=this.sliceSerialize(X),ye=this.stack[this.stack.length-2];ye.label=YN(ie),ye.identifier=co(ie).toLowerCase()}function Q(){const X=this.stack[this.stack.length-1],ie=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const ke=X.children;ye.children=ke}else ye.alt=ie}function j(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.url=X}function ee(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.title=X}function oe(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function fe(X){const ie=this.resume(),ye=this.stack[this.stack.length-1];ye.label=ie,ye.identifier=co(this.sliceSerialize(X)).toLowerCase(),this.data.referenceType="full"}function pe(X){this.data.characterReferenceType=X.type}function ae(X){const ie=this.sliceSerialize(X),ye=this.data.characterReferenceType;let ke;ye?(ke=Dx(ie,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=up(ie);const Le=this.stack[this.stack.length-1];Le.value+=ke}function se(X){const ie=this.stack.pop();ie.position.end=Sr(X.end)}function ue(X){F.call(this,X);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(X)}function Te(X){F.call(this,X);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(X)}function we(){return{type:"blockquote",children:[]}}function nt(){return{type:"code",lang:null,meta:null,value:""}}function lt(){return{type:"inlineCode",value:""}}function xt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _r(){return{type:"emphasis",children:[]}}function Qr(){return{type:"heading",depth:0,children:[]}}function Vn(){return{type:"break"}}function Jr(){return{type:"html",value:""}}function Li(){return{type:"image",title:null,url:"",alt:null}}function ba(){return{type:"link",title:null,url:"",children:[]}}function Mo(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function zo(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function ka(){return{type:"paragraph",children:[]}}function Sa(){return{type:"strong",children:[]}}function Ju(){return{type:"text",value:""}}function ec(){return{type:"thematicBreak"}}}function Sr(e){return{line:e.line,column:e.column,offset:e.offset}}function Xx(e,n){let r=-1;for(;++r<n.length;){const i=n[r];Array.isArray(i)?Xx(e,i):eT(e,i)}}function eT(e,n){let r;for(r in n)if(Gx.call(n,r))switch(r){case"canContainEols":{const i=n[r];i&&e[r].push(...i);break}case"transforms":{const i=n[r];i&&e[r].push(...i);break}case"enter":case"exit":{const i=n[r];i&&Object.assign(e[r],i);break}}}function k0(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Ns({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Ns({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Ns({start:n.start,end:n.end})+") is still open")}function tT(e){const n=this;n.parser=r;function r(i){return QN(i,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function nT(e,n){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,r),e.applyData(n,r)}function rT(e,n){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,r),[e.applyData(n,r),{type:"text",value:`
`}]}function iT(e,n){const r=n.value?n.value+`
`:"",i={},o=n.lang?n.lang.split(/\s+/):[];o.length>0&&(i.className=["language-"+o[0]]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:r}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function oT(e,n){const r={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function sT(e,n){const r={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function aT(e,n){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(n.identifier).toUpperCase(),o=Lo(i.toLowerCase()),a=e.footnoteOrder.indexOf(i);let l,c=e.footnoteCounts.get(i);c===void 0?(c=0,e.footnoteOrder.push(i),l=e.footnoteOrder.length):l=a+1,c+=1,e.footnoteCounts.set(i,c);const f={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+o,id:r+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(n,f);const h={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(n,h),e.applyData(n,h)}function lT(e,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function uT(e,n){if(e.options.allowDangerousHtml){const r={type:"raw",value:n.value};return e.patch(n,r),e.applyData(n,r)}}function Yx(e,n){const r=n.referenceType;let i="]";if(r==="collapsed"?i+="[]":r==="full"&&(i+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+i}];const o=e.all(n),a=o[0];a&&a.type==="text"?a.value="["+a.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=i:o.push({type:"text",value:i}),o}function cT(e,n){const r=String(n.identifier).toUpperCase(),i=e.definitionById.get(r);if(!i)return Yx(e,n);const o={src:Lo(i.url||""),alt:n.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const a={type:"element",tagName:"img",properties:o,children:[]};return e.patch(n,a),e.applyData(n,a)}function fT(e,n){const r={src:Lo(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function hT(e,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,r);const i={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(n,i),e.applyData(n,i)}function dT(e,n){const r=String(n.identifier).toUpperCase(),i=e.definitionById.get(r);if(!i)return Yx(e,n);const o={href:Lo(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const a={type:"element",tagName:"a",properties:o,children:e.all(n)};return e.patch(n,a),e.applyData(n,a)}function pT(e,n){const r={href:Lo(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function mT(e,n,r){const i=e.all(n),o=r?gT(r):Kx(n),a={},l=[];if(typeof n.checked=="boolean"){const m=i[0];let d;m&&m.type==="element"&&m.tagName==="p"?d=m:(d={type:"element",tagName:"p",properties:{},children:[]},i.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const m=i[c];(o||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?l.push(...m.children):l.push(m)}const f=i[i.length-1];f&&(o||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:a,children:l};return e.patch(n,h),e.applyData(n,h)}function gT(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const r=e.children;let i=-1;for(;!n&&++i<r.length;)n=Kx(r[i])}return n}function Kx(e){const n=e.spread;return n??e.children.length>1}function yT(e,n){const r={},i=e.all(n);let o=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++o<i.length;){const l=i[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:e.wrap(i,!0)};return e.patch(n,a),e.applyData(n,a)}function vT(e,n){const r={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function _T(e,n){const r={type:"root",children:e.wrap(e.all(n))};return e.patch(n,r),e.applyData(n,r)}function xT(e,n){const r={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function wT(e,n){const r=e.all(n),i=r.shift(),o=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(n.children[0],l),o.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},c=op(n.children[1]),f=jx(n.children[n.children.length-1]);c&&f&&(l.position={start:c,end:f}),o.push(l)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(n,a),e.applyData(n,a)}function bT(e,n,r){const i=r?r.children:void 0,a=(i?i.indexOf(n):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,c=l?l.length:n.children.length;let f=-1;const h=[];for(;++f<c;){const d=n.children[f],g={},y=l?l[f]:void 0;y&&(g.align=y);let w={type:"element",tagName:a,properties:g,children:[]};d&&(w.children=e.all(d),e.patch(d,w),w=e.applyData(d,w)),h.push(w)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(n,m),e.applyData(n,m)}function kT(e,n){const r={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}const S0=9,C0=32;function ST(e){const n=String(e),r=/\r?\n|\r/g;let i=r.exec(n),o=0;const a=[];for(;i;)a.push(P0(n.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=r.exec(n);return a.push(P0(n.slice(o),o>0,!1)),a.join("")}function P0(e,n,r){let i=0,o=e.length;if(n){let a=e.codePointAt(i);for(;a===S0||a===C0;)i++,a=e.codePointAt(i)}if(r){let a=e.codePointAt(o-1);for(;a===S0||a===C0;)o--,a=e.codePointAt(o-1)}return o>i?e.slice(i,o):""}function CT(e,n){const r={type:"text",value:ST(String(n.value))};return e.patch(n,r),e.applyData(n,r)}function PT(e,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,r),e.applyData(n,r)}const ET={blockquote:nT,break:rT,code:iT,delete:oT,emphasis:sT,footnoteReference:aT,heading:lT,html:uT,imageReference:cT,image:fT,inlineCode:hT,linkReference:dT,link:pT,listItem:mT,list:yT,paragraph:vT,root:_T,strong:xT,table:wT,tableCell:kT,tableRow:bT,text:CT,thematicBreak:PT,toml:al,yaml:al,definition:al,footnoteDefinition:al};function al(){}const Qx=-1,Bu=0,Ls=1,au=2,hp=3,dp=4,pp=5,mp=6,Jx=7,e1=8,E0=typeof self=="object"?self:globalThis,NT=(e,n)=>{const r=(o,a)=>(e.set(a,o),o),i=o=>{if(e.has(o))return e.get(o);const[a,l]=n[o];switch(a){case Bu:case Qx:return r(l,o);case Ls:{const c=r([],o);for(const f of l)c.push(i(f));return c}case au:{const c=r({},o);for(const[f,h]of l)c[i(f)]=i(h);return c}case hp:return r(new Date(l),o);case dp:{const{source:c,flags:f}=l;return r(new RegExp(c,f),o)}case pp:{const c=r(new Map,o);for(const[f,h]of l)c.set(i(f),i(h));return c}case mp:{const c=r(new Set,o);for(const f of l)c.add(i(f));return c}case Jx:{const{name:c,message:f}=l;return r(new E0[c](f),o)}case e1:return r(BigInt(l),o);case"BigInt":return r(Object(BigInt(l)),o);case"ArrayBuffer":return r(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return r(new DataView(c),l)}}return r(new E0[a](l),o)};return i},N0=e=>NT(new Map,e)(0),Ui="",{toString:TT}={},{keys:LT}=Object,ts=e=>{const n=typeof e;if(n!=="object"||!e)return[Bu,n];const r=TT.call(e).slice(8,-1);switch(r){case"Array":return[Ls,Ui];case"Object":return[au,Ui];case"Date":return[hp,Ui];case"RegExp":return[dp,Ui];case"Map":return[pp,Ui];case"Set":return[mp,Ui];case"DataView":return[Ls,r]}return r.includes("Array")?[Ls,r]:r.includes("Error")?[Jx,r]:[au,r]},ll=([e,n])=>e===Bu&&(n==="function"||n==="symbol"),jT=(e,n,r,i)=>{const o=(l,c)=>{const f=i.push(l)-1;return r.set(c,f),f},a=l=>{if(r.has(l))return r.get(l);let[c,f]=ts(l);switch(c){case Bu:{let m=l;switch(f){case"bigint":c=e1,m=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);m=null;break;case"undefined":return o([Qx],l)}return o([c,m],l)}case Ls:{if(f){let g=l;return f==="DataView"?g=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(g=new Uint8Array(l)),o([f,[...g]],l)}const m=[],d=o([c,m],l);for(const g of l)m.push(a(g));return d}case au:{if(f)switch(f){case"BigInt":return o([f,l.toString()],l);case"Boolean":case"Number":case"String":return o([f,l.valueOf()],l)}if(n&&"toJSON"in l)return a(l.toJSON());const m=[],d=o([c,m],l);for(const g of LT(l))(e||!ll(ts(l[g])))&&m.push([a(g),a(l[g])]);return d}case hp:return o([c,l.toISOString()],l);case dp:{const{source:m,flags:d}=l;return o([c,{source:m,flags:d}],l)}case pp:{const m=[],d=o([c,m],l);for(const[g,y]of l)(e||!(ll(ts(g))||ll(ts(y))))&&m.push([a(g),a(y)]);return d}case mp:{const m=[],d=o([c,m],l);for(const g of l)(e||!ll(ts(g)))&&m.push(a(g));return d}}const{message:h}=l;return o([c,{name:f,message:h}],l)};return a},T0=(e,{json:n,lossy:r}={})=>{const i=[];return jT(!(n||r),!!n,new Map,i)(e),i},lu=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?N0(T0(e,n)):structuredClone(e):(e,n)=>N0(T0(e,n));function MT(e,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function zT(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function AT(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||MT,i=e.options.footnoteBackLabel||zT,o=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[f]);if(!h)continue;const m=e.all(h),d=String(h.identifier).toUpperCase(),g=Lo(d.toLowerCase());let y=0;const w=[],S=e.footnoteCounts.get(d);for(;S!==void 0&&++y<=S;){w.length>0&&w.push({type:"text",value:" "});let k=typeof r=="string"?r:r(f,y);typeof k=="string"&&(k={type:"text",value:k}),w.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,y),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const P=m[m.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const k=P.children[P.children.length-1];k&&k.type==="text"?k.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...w)}else m.push(...w);const x={type:"element",tagName:"li",properties:{id:n+"fn-"+g},children:e.wrap(m,!0)};e.patch(h,x),c.push(x)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...lu(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const t1=function(e){if(e==null)return DT;if(typeof e=="function")return Uu(e);if(typeof e=="object")return Array.isArray(e)?OT(e):IT(e);if(typeof e=="string")return RT(e);throw new Error("Expected function, string, or object as test")};function OT(e){const n=[];let r=-1;for(;++r<e.length;)n[r]=t1(e[r]);return Uu(i);function i(...o){let a=-1;for(;++a<n.length;)if(n[a].apply(this,o))return!0;return!1}}function IT(e){const n=e;return Uu(r);function r(i){const o=i;let a;for(a in e)if(o[a]!==n[a])return!1;return!0}}function RT(e){return Uu(n);function n(r){return r&&r.type===e}}function Uu(e){return n;function n(r,i,o){return!!(FT(r)&&e.call(this,r,typeof i=="number"?i:void 0,o||void 0))}}function DT(){return!0}function FT(e){return e!==null&&typeof e=="object"&&"type"in e}const n1=[],BT=!0,L0=!1,UT="skip";function $T(e,n,r,i){let o;typeof n=="function"&&typeof r!="function"?(i=r,r=n):o=n;const a=t1(o),l=i?-1:1;c(e,void 0,[])();function c(f,h,m){const d=f&&typeof f=="object"?f:{};if(typeof d.type=="string"){const y=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(f.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=n1,w,S,P;if((!n||a(f,h,m[m.length-1]||void 0))&&(y=HT(r(f,m)),y[0]===L0))return y;if("children"in f&&f.children){const x=f;if(x.children&&y[0]!==UT)for(S=(i?x.children.length:-1)+l,P=m.concat(x);S>-1&&S<x.children.length;){const k=x.children[S];if(w=c(k,S,P)(),w[0]===L0)return w;S=typeof w[1]=="number"?w[1]:S+l}}return y}}}function HT(e){return Array.isArray(e)?e:typeof e=="number"?[BT,e]:e==null?n1:[e]}function r1(e,n,r,i){let o,a,l;typeof n=="function"&&typeof r!="function"?(a=void 0,l=n,o=r):(a=n,l=r,o=i),$T(e,a,c,o);function c(f,h){const m=h[h.length-1],d=m?m.children.indexOf(f):void 0;return l(f,d,m)}}const Th={}.hasOwnProperty,ZT={};function WT(e,n){const r=n||ZT,i=new Map,o=new Map,a=new Map,l={...ET,...r.handlers},c={all:h,applyData:qT,definitionById:i,footnoteById:o,footnoteCounts:a,footnoteOrder:[],handlers:l,one:f,options:r,patch:VT,wrap:XT};return r1(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const d=m.type==="definition"?i:o,g=String(m.identifier).toUpperCase();d.has(g)||d.set(g,m)}}),c;function f(m,d){const g=m.type,y=c.handlers[g];if(Th.call(c.handlers,g)&&y)return y(c,m,d);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in m){const{children:S,...P}=m,x=lu(P);return x.children=c.all(m),x}return lu(m)}return(c.options.unknownHandler||GT)(c,m,d)}function h(m){const d=[];if("children"in m){const g=m.children;let y=-1;for(;++y<g.length;){const w=c.one(g[y],m);if(w){if(y&&g[y-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=j0(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=j0(S.value))}Array.isArray(w)?d.push(...w):d.push(w)}}}return d}}function VT(e,n){e.position&&(n.position=TP(e))}function qT(e,n){let r=n;if(e&&e.data){const i=e.data.hName,o=e.data.hChildren,a=e.data.hProperties;if(typeof i=="string")if(r.type==="element")r.tagName=i;else{const l="children"in r?r.children:[r];r={type:"element",tagName:i,properties:{},children:l}}r.type==="element"&&a&&Object.assign(r.properties,lu(a)),"children"in r&&r.children&&o!==null&&o!==void 0&&(r.children=o)}return r}function GT(e,n){const r=n.data||{},i="value"in n&&!(Th.call(r,"hProperties")||Th.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function XT(e,n){const r=[];let i=-1;for(n&&r.push({type:"text",value:`
`});++i<e.length;)i&&r.push({type:"text",value:`
`}),r.push(e[i]);return n&&e.length>0&&r.push({type:"text",value:`
`}),r}function j0(e){let n=0,r=e.charCodeAt(n);for(;r===9||r===32;)n++,r=e.charCodeAt(n);return e.slice(n)}function M0(e,n){const r=WT(e,n),i=r.one(e,void 0),o=AT(r),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&a.children.push({type:"text",value:`
`},o),a}function YT(e,n){return e&&"run"in e?async function(r,i){const o=M0(r,{file:i,...n});await e.run(o,i)}:function(r,i){return M0(r,{file:i,...e||n})}}function z0(e){if(e)throw e}var Ll=Object.prototype.hasOwnProperty,i1=Object.prototype.toString,A0=Object.defineProperty,O0=Object.getOwnPropertyDescriptor,I0=function(n){return typeof Array.isArray=="function"?Array.isArray(n):i1.call(n)==="[object Array]"},R0=function(n){if(!n||i1.call(n)!=="[object Object]")return!1;var r=Ll.call(n,"constructor"),i=n.constructor&&n.constructor.prototype&&Ll.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!r&&!i)return!1;var o;for(o in n);return typeof o>"u"||Ll.call(n,o)},D0=function(n,r){A0&&r.name==="__proto__"?A0(n,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):n[r.name]=r.newValue},F0=function(n,r){if(r==="__proto__")if(Ll.call(n,r)){if(O0)return O0(n,r).value}else return;return n[r]},KT=function e(){var n,r,i,o,a,l,c=arguments[0],f=1,h=arguments.length,m=!1;for(typeof c=="boolean"&&(m=c,c=arguments[1]||{},f=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});f<h;++f)if(n=arguments[f],n!=null)for(r in n)i=F0(c,r),o=F0(n,r),c!==o&&(m&&o&&(R0(o)||(a=I0(o)))?(a?(a=!1,l=i&&I0(i)?i:[]):l=i&&R0(i)?i:{},D0(c,{name:r,newValue:e(m,l,o)})):typeof o<"u"&&D0(c,{name:r,newValue:o}));return c};const lf=la(KT);function Lh(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function QT(){const e=[],n={run:r,use:i};return n;function r(...o){let a=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(f,...h){const m=e[++a];let d=-1;if(f){l(f);return}for(;++d<o.length;)(h[d]===null||h[d]===void 0)&&(h[d]=o[d]);o=h,m?JT(m,c)(...h):l(null,...h)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),n}}function JT(e,n){let r;return i;function i(...l){const c=e.length>l.length;let f;c&&l.push(o);try{f=e.apply(this,l)}catch(h){const m=h;if(c&&r)throw m;return o(m)}c||(f&&f.then&&typeof f.then=="function"?f.then(a,o):f instanceof Error?o(f):a(f))}function o(l,...c){r||(r=!0,n(l,...c))}function a(l){o(null,l)}}const An={basename:eL,dirname:tL,extname:nL,join:rL,sep:"/"};function eL(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');ya(e);let r=0,i=-1,o=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(a){r=o+1;break}}else i<0&&(a=!0,i=o+1);return i<0?"":e.slice(r,i)}if(n===e)return"";let l=-1,c=n.length-1;for(;o--;)if(e.codePointAt(o)===47){if(a){r=o+1;break}}else l<0&&(a=!0,l=o+1),c>-1&&(e.codePointAt(o)===n.codePointAt(c--)?c<0&&(i=o):(c=-1,i=l));return r===i?i=l:i<0&&(i=e.length),e.slice(r,i)}function tL(e){if(ya(e),e.length===0)return".";let n=-1,r=e.length,i;for(;--r;)if(e.codePointAt(r)===47){if(i){n=r;break}}else i||(i=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function nL(e){ya(e);let n=e.length,r=-1,i=0,o=-1,a=0,l;for(;n--;){const c=e.codePointAt(n);if(c===47){if(l){i=n+1;break}continue}r<0&&(l=!0,r=n+1),c===46?o<0?o=n:a!==1&&(a=1):o>-1&&(a=-1)}return o<0||r<0||a===0||a===1&&o===r-1&&o===i+1?"":e.slice(o,r)}function rL(...e){let n=-1,r;for(;++n<e.length;)ya(e[n]),e[n]&&(r=r===void 0?e[n]:r+"/"+e[n]);return r===void 0?".":iL(r)}function iL(e){ya(e);const n=e.codePointAt(0)===47;let r=oL(e,!n);return r.length===0&&!n&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),n?"/"+r:r}function oL(e,n){let r="",i=0,o=-1,a=0,l=-1,c,f;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(o===l-1||a===1))if(o!==l-1&&a===2){if(r.length<2||i!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(f=r.lastIndexOf("/"),f!==r.length-1){f<0?(r="",i=0):(r=r.slice(0,f),i=r.length-1-r.lastIndexOf("/")),o=l,a=0;continue}}else if(r.length>0){r="",i=0,o=l,a=0;continue}}n&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+e.slice(o+1,l):r=e.slice(o+1,l),i=l-o-1;o=l,a=0}else c===46&&a>-1?a++:a=-1}return r}function ya(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sL={cwd:aL};function aL(){return"/"}function jh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function lL(e){if(typeof e=="string")e=new URL(e);else if(!jh(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return uL(e)}function uL(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const n=e.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const i=n.codePointAt(r+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(n)}const uf=["history","path","basename","stem","extname","dirname"];class o1{constructor(n){let r;n?jh(n)?r={path:n}:typeof n=="string"||cL(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":sL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<uf.length;){const a=uf[i];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let o;for(o in r)uf.includes(o)||(this[o]=r[o])}get basename(){return typeof this.path=="string"?An.basename(this.path):void 0}set basename(n){ff(n,"basename"),cf(n,"basename"),this.path=An.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?An.dirname(this.path):void 0}set dirname(n){B0(this.basename,"dirname"),this.path=An.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?An.extname(this.path):void 0}set extname(n){if(cf(n,"extname"),B0(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=An.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){jh(n)&&(n=lL(n)),ff(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?An.basename(this.path,this.extname):void 0}set stem(n){ff(n,"stem"),cf(n,"stem"),this.path=An.join(this.dirname||"",n+(this.extname||""))}fail(n,r,i){const o=this.message(n,r,i);throw o.fatal=!0,o}info(n,r,i){const o=this.message(n,r,i);return o.fatal=void 0,o}message(n,r,i){const o=new _t(n,r,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function cf(e,n){if(e&&e.includes(An.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+An.sep+"`")}function ff(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function B0(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function cL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const fL=function(e){const i=this.constructor.prototype,o=i[e],a=function(){return o.apply(a,arguments)};return Object.setPrototypeOf(a,i),a},hL={}.hasOwnProperty;class gp extends fL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=QT()}copy(){const n=new gp;let r=-1;for(;++r<this.attachers.length;){const i=this.attachers[r];n.use(...i)}return n.data(lf(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(pf("data",this.frozen),this.namespace[n]=r,this):hL.call(this.namespace,n)&&this.namespace[n]||void 0:n?(pf("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=r.call(n,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=ul(n),i=this.parser||this.Parser;return hf("parse",i),i(String(r),r)}process(n,r){const i=this;return this.freeze(),hf("process",this.parser||this.Parser),df("process",this.compiler||this.Compiler),r?o(void 0,r):new Promise(o);function o(a,l){const c=ul(n),f=i.parse(c);i.run(f,c,function(m,d,g){if(m||!d||!g)return h(m);const y=d,w=i.stringify(y,g);mL(w)?g.value=w:g.result=w,h(m,g)});function h(m,d){m||!d?l(m):a?a(d):r(void 0,d)}}}processSync(n){let r=!1,i;return this.freeze(),hf("processSync",this.parser||this.Parser),df("processSync",this.compiler||this.Compiler),this.process(n,o),$0("processSync","process",r),i;function o(a,l){r=!0,z0(a),i=l}}run(n,r,i){U0(n),this.freeze();const o=this.transformers;return!i&&typeof r=="function"&&(i=r,r=void 0),i?a(void 0,i):new Promise(a);function a(l,c){const f=ul(r);o.run(n,f,h);function h(m,d,g){const y=d||n;m?c(m):l?l(y):i(void 0,y,g)}}}runSync(n,r){let i=!1,o;return this.run(n,r,a),$0("runSync","run",i),o;function a(l,c){z0(l),o=c,i=!0}}stringify(n,r){this.freeze();const i=ul(r),o=this.compiler||this.Compiler;return df("stringify",o),U0(n),o(n,i)}use(n,...r){const i=this.attachers,o=this.namespace;if(pf("use",this.frozen),n!=null)if(typeof n=="function")f(n,r);else if(typeof n=="object")Array.isArray(n)?c(n):l(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function a(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[m,...d]=h;f(m,d)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(o.settings=lf(!0,o.settings,h.settings))}function c(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){const d=h[m];a(d)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,m){let d=-1,g=-1;for(;++d<i.length;)if(i[d][0]===h){g=d;break}if(g===-1)i.push([h,...m]);else if(m.length>0){let[y,...w]=m;const S=i[g][1];Lh(S)&&Lh(y)&&(y=lf(!0,S,y)),i[g]=[h,y,...w]}}}}const dL=new gp().freeze();function hf(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function df(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function pf(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function U0(e){if(!Lh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $0(e,n,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function ul(e){return pL(e)?e:new o1(e)}function pL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function mL(e){return typeof e=="string"||gL(e)}function gL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const yL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",H0=[],Z0={allowDangerousHtml:!0},vL=/^(https?|ircs?|mailto|xmpp)$/i,_L=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xL(e){const n=wL(e),r=bL(e);return kL(n.runSync(n.parse(r),r),e)}function wL(e){const n=e.rehypePlugins||H0,r=e.remarkPlugins||H0,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Z0}:Z0;return dL().use(tT).use(r).use(YT,i).use(n)}function bL(e){const n=e.children||"",r=new o1;return typeof n=="string"&&(r.value=n),r}function kL(e,n){const r=n.allowedElements,i=n.allowElement,o=n.components,a=n.disallowedElements,l=n.skipHtml,c=n.unwrapDisallowed,f=n.urlTransform||SL;for(const m of _L)Object.hasOwn(n,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+yL+m.id,void 0);return n.className&&(e={type:"element",tagName:"div",properties:{className:n.className},children:e.type==="root"?e.children:[e]}),r1(e,h),AP(e,{Fragment:v.Fragment,components:o,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function h(m,d,g){if(m.type==="raw"&&g&&typeof d=="number")return l?g.children.splice(d,1):g.children[d]={type:"text",value:m.value},d;if(m.type==="element"){let y;for(y in of)if(Object.hasOwn(of,y)&&Object.hasOwn(m.properties,y)){const w=m.properties[y],S=of[y];(S===null||S.includes(m.tagName))&&(m.properties[y]=f(String(w||""),y,m))}}if(m.type==="element"){let y=r?!r.includes(m.tagName):a?a.includes(m.tagName):!1;if(!y&&i&&typeof d=="number"&&(y=!i(m,d,g)),y&&g&&typeof d=="number")return c&&m.children?g.children.splice(d,1,...m.children):g.children.splice(d,1),d}}}function SL(e){const n=e.indexOf(":"),r=e.indexOf("?"),i=e.indexOf("#"),o=e.indexOf("/");return n===-1||o!==-1&&n>o||r!==-1&&n>r||i!==-1&&n>i||vL.test(e.slice(0,n))?e:""}const CL=({claims:e})=>{const[n,r]=I.useState(1),[i,o]=I.useState(0),[a,l]=I.useState(!1),[c,f]=I.useState(0),h=I.useRef(null),m=e.filter(x=>x.event_time).map(x=>({id:x.id,text:x.text,time:new Date(x.event_time),confidence:x.confidence||.5})).sort((x,k)=>x.time.getTime()-k.time.getTime()),d=[];m.forEach(x=>{const k=d[d.length-1];if(k&&k.length>0){const C=k[k.length-1].time.getTime(),N=x.time.getTime();Math.abs(N-C)/(1e3*60*60)<1?k.push(x):d.push([x])}else d.push([x])});const g=x=>{l(!0),f(x.clientX-i)},y=x=>{a&&o(x.clientX-c)},w=()=>{l(!1)},S=x=>{x.preventDefault();const k=x.deltaY>0?.9:1.1;r(C=>Math.max(.5,Math.min(3,C*k)))},P=x=>x.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return m.length===0?v.jsx("div",{className:"h-[600px] bg-gray-900 rounded-lg flex items-center justify-center",children:v.jsx("p",{className:"text-gray-400",children:"No timeline data available"})}):v.jsxs("div",{className:"relative h-[600px] bg-gray-900 rounded-lg overflow-hidden",children:[v.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[v.jsx("button",{onClick:()=>r(x=>Math.min(3,x*1.2)),className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"+"}),v.jsx("button",{onClick:()=>r(1),className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"Reset"}),v.jsx("button",{onClick:()=>r(x=>Math.max(.5,x*.8)),className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"-"})]}),v.jsx("div",{ref:h,className:"w-full h-full overflow-hidden cursor-grab active:cursor-grabbing",onMouseDown:g,onMouseMove:y,onMouseUp:w,onMouseLeave:w,onWheel:S,children:v.jsxs("div",{className:"relative h-full",style:{transform:`translateX(${i}px) scale(${n})`,transformOrigin:"left center",transition:a?"none":"transform 0.2s ease-out",width:`${d.length*400}px`,padding:"100px 50px"},children:[v.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-0.5 bg-gradient-to-r from-blue-500/30 via-purple-500/30 to-blue-500/30"}),d.map((x,k)=>{const C=k*400,N=200+(k%2===0?0:100),M=k%2===0;return v.jsxs("div",{className:"absolute",style:{left:`${C}px`,top:`${N}px`},children:[v.jsx("div",{className:`absolute left-1/2 w-0.5 bg-gradient-to-b from-blue-500 to-transparent ${M?"bottom-full mb-2":"top-full mt-2"}`,style:{height:"60px"}}),v.jsxs("div",{className:"absolute -translate-x-1/2 left-1/2 -bottom-16 text-center",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mx-auto mb-2"}),v.jsx("div",{className:"text-xs text-gray-400 whitespace-nowrap",children:P(x[0].time)})]}),v.jsx("div",{className:"w-80 bg-gray-800 rounded-lg p-4 shadow-xl border border-gray-700",children:v.jsx("div",{className:"space-y-2",children:x.map((T,z)=>v.jsxs("div",{className:z>0?"pt-2 border-t border-gray-700":"",children:[v.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:T.text}),v.jsx("div",{className:"mt-1 flex items-center gap-2 text-xs text-gray-500",children:v.jsxs("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded",children:[Math.round(T.confidence*100),"%"]})})]},T.id))})})]},k)})]})}),v.jsx("div",{className:"absolute bottom-4 left-4 text-xs text-gray-500",children:"Drag to pan  Scroll to zoom"})]})},PL=({entities:e,claims:n,eventName:r})=>{const[i,o]=I.useState(null),[a,l]=I.useState("all"),c=()=>{const d=[];d.push({id:"event",label:r.length>30?r.slice(0,30)+"...":r,type:"event",color:"#667eea",x:400,y:300,radius:40,fullText:r});const w=180;e.forEach((x,k)=>{const C=k/e.length*Math.PI*2;d.push({id:x.id,label:x.canonical_name.length>20?x.canonical_name.slice(0,20)+"...":x.canonical_name,type:"entity",color:f(x.entity_type),x:400+Math.cos(C)*w,y:300+Math.sin(C)*w,radius:20,fullText:x.canonical_name})});const S=280,P=n.slice(0,30);return P.forEach((x,k)=>{const C=k/P.length*Math.PI*2;d.push({id:x.id,label:x.text.slice(0,25)+"...",type:"claim",color:"#34d399",x:400+Math.cos(C)*S,y:300+Math.sin(C)*S,radius:8,fullText:x.text})}),d},f=d=>({PERSON:"#f59e0b",ORGANIZATION:"#8b5cf6",LOCATION:"#10b981",GPE:"#10b981",EVENT:"#667eea"})[d.toUpperCase()]||"#6b7280",m=c().filter(d=>a==="all"?!0:a==="entities"?d.type==="event"||d.type==="entity":a==="claims"?d.type==="event"||d.type==="claim":!0);return e.length===0&&n.length===0?v.jsx("div",{className:"h-[600px] bg-gray-900 rounded-lg flex items-center justify-center",children:v.jsx("p",{className:"text-gray-400",children:"No graph data available"})}):v.jsxs("div",{className:"h-[600px] bg-gray-900 rounded-lg overflow-hidden relative",children:[v.jsxs("div",{className:"absolute top-4 left-4 z-10 flex gap-2",children:[v.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${a==="all"?"bg-blue-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"All"}),v.jsx("button",{onClick:()=>l("entities"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${a==="entities"?"bg-blue-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Entities"}),v.jsx("button",{onClick:()=>l("claims"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${a==="claims"?"bg-blue-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Claims"})]}),v.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 800 600",children:[v.jsx("defs",{children:v.jsxs("radialGradient",{id:"bg-gradient",cx:"50%",cy:"50%",children:[v.jsx("stop",{offset:"0%",stopColor:"#1a1a2e"}),v.jsx("stop",{offset:"100%",stopColor:"#0a0a0a"})]})}),v.jsx("rect",{width:"800",height:"600",fill:"url(#bg-gradient)"}),v.jsx("g",{opacity:"0.3",children:m.filter(d=>d.type!=="event").map(d=>v.jsx("line",{x1:400,y1:300,x2:d.x,y2:d.y,stroke:d.color,strokeWidth:d.type==="entity"?2:1,strokeDasharray:d.type==="claim"?"4,4":void 0},`link-${d.id}`))}),m.map(d=>v.jsxs("g",{onMouseEnter:()=>o(d),onMouseLeave:()=>o(null),className:"cursor-pointer transition-transform hover:scale-110",children:[(i==null?void 0:i.id)===d.id&&v.jsx("circle",{cx:d.x,cy:d.y,r:d.radius+8,fill:d.color,opacity:"0.3"}),v.jsx("circle",{cx:d.x,cy:d.y,r:d.radius,fill:d.color,stroke:"white",strokeWidth:d.type==="event"?3:2,opacity:i&&i.id!==d.id?.5:1}),d.type!=="claim"&&v.jsx("text",{x:d.x,y:d.y+d.radius+15,textAnchor:"middle",fill:"white",fontSize:d.type==="event"?14:11,fontWeight:d.type==="event"?"bold":"normal",opacity:i&&i.id!==d.id?.5:.9,children:d.label})]},d.id))]}),i&&v.jsxs("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-gray-800 rounded-lg p-4 max-w-md shadow-2xl border border-gray-700 z-20",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),v.jsx("span",{className:"font-semibold capitalize",children:i.type})]}),v.jsx("p",{className:"text-sm text-gray-300",children:i.fullText||i.label})]}),v.jsxs("div",{className:"absolute top-4 right-4 bg-gray-800 rounded-lg p-3 text-xs space-y-2",children:[v.jsx("div",{className:"font-semibold mb-2 text-gray-300",children:"Legend"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 rounded-full bg-[#667eea] border-2 border-white"}),v.jsx("span",{children:"Event"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-[#f59e0b] border-2 border-white"}),v.jsx("span",{children:"Person"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8b5cf6] border-2 border-white"}),v.jsx("span",{children:"Organization"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-[#10b981] border-2 border-white"}),v.jsx("span",{children:"Location"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34d399] border border-white"}),v.jsx("span",{children:"Claim"})]})]}),v.jsxs("div",{className:"absolute bottom-4 left-4 text-xs text-gray-500",children:[m.length," nodes visible  Hover to see details"]})]})};function s1(e,n){const r=I.useRef(n);I.useEffect(function(){n!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),n!=null&&e.attributionControl.addAttribution(n)),r.current=n},[e,n])}const EL=1;function NL(e){return Object.freeze({__version:EL,map:e})}function a1(e,n){return Object.freeze({...e,...n})}const l1=I.createContext(null),u1=l1.Provider;function $u(){const e=I.useContext(l1);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function c1(e){function n(r,i){const{instance:o,context:a}=e(r).current;return I.useImperativeHandle(i,()=>o),r.children==null?null:vi.createElement(u1,{value:a},r.children)}return I.forwardRef(n)}function TL(e){function n(r,i){const[o,a]=I.useState(!1),{instance:l}=e(r,a).current;I.useImperativeHandle(i,()=>l),I.useEffect(function(){o&&l.update()},[l,o,r.children]);const c=l._contentNode;return c?ux.createPortal(r.children,c):null}return I.forwardRef(n)}function LL(e){function n(r,i){const{instance:o}=e(r).current;return I.useImperativeHandle(i,()=>o),null}return I.forwardRef(n)}function yp(e,n){const r=I.useRef();I.useEffect(function(){return n!=null&&e.instance.on(n),r.current=n,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,n])}function Hu(e,n){const r=e.pane??n.pane;return r?{...e,pane:r}:e}function jL(e,n){return function(i,o){const a=$u(),l=e(Hu(i,a),a);return s1(a.map,i.attribution),yp(l.current,i.eventHandlers),n(l.current,a,i,o),l}}var Mh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(r,i){i(n)})(As,function(r){var i="1.9.4";function o(s){var u,p,_,b;for(p=1,_=arguments.length;p<_;p++){b=arguments[p];for(u in b)s[u]=b[u]}return s}var a=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function l(s,u){var p=Array.prototype.slice;if(s.bind)return s.bind.apply(s,p.call(arguments,1));var _=p.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(p.call(arguments)):arguments)}}var c=0;function f(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function h(s,u,p){var _,b,E,R;return R=function(){_=!1,b&&(E.apply(p,b),b=!1)},E=function(){_?b=arguments:(s.apply(p,arguments),setTimeout(R,u),_=!0)},E}function m(s,u,p){var _=u[1],b=u[0],E=_-b;return s===_&&p?s:((s-b)%E+E)%E+b}function d(){return!1}function g(s,u){if(u===!1)return s;var p=Math.pow(10,u===void 0?6:u);return Math.round(s*p)/p}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return y(s).split(/\s+/)}function S(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?a(s.options):{});for(var p in u)s.options[p]=u[p];return s.options}function P(s,u,p){var _=[];for(var b in s)_.push(encodeURIComponent(p?b.toUpperCase():b)+"="+encodeURIComponent(s[b]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function k(s,u){return s.replace(x,function(p,_){var b=u[_];if(b===void 0)throw new Error("No value provided for variable "+p);return typeof b=="function"&&(b=b(u)),b})}var C=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function N(s,u){for(var p=0;p<s.length;p++)if(s[p]===u)return p;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var z=0;function A(s){var u=+new Date,p=Math.max(0,16-(u-z));return z=u+p,window.setTimeout(s,p)}var $=window.requestAnimationFrame||T("RequestAnimationFrame")||A,F=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function H(s,u,p){if(p&&$===A)s.call(u);else return $.call(window,l(s,u))}function U(s){s&&F.call(window,s)}var Y={__proto__:null,extend:o,create:a,bind:l,get lastId(){return c},stamp:f,throttle:h,wrapNum:m,falseFn:d,formatNum:g,trim:y,splitWords:w,setOptions:S,getParamString:P,template:k,isArray:C,indexOf:N,emptyImageUrl:M,requestFn:$,cancelFn:F,requestAnimFrame:H,cancelAnimFrame:U};function D(){}D.extend=function(s){var u=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,_=a(p);_.constructor=u,u.prototype=_;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return s.statics&&o(u,s.statics),s.includes&&(G(s.includes),o.apply(null,[_].concat(s.includes))),o(_,s),delete _.statics,delete _.includes,_.options&&(_.options=p.options?a(p.options):{},o(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,R=_._initHooks.length;E<R;E++)_._initHooks[E].call(this)}},u},D.include=function(s){var u=this.prototype.options;return o(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},D.mergeOptions=function(s){return o(this.prototype.options,s),this},D.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),p=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function G(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=C(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(s,u,p){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=w(s);for(var b=0,E=s.length;b<E;b++)this._on(s[b],u,p)}return this},off:function(s,u,p){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=w(s);for(var b=arguments.length===1,E=0,R=s.length;E<R;E++)b?this._off(s[E]):this._off(s[E],u,p)}return this},_on:function(s,u,p,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,p)===!1){p===this&&(p=void 0);var b={fn:u,ctx:p};_&&(b.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(b)}},_off:function(s,u,p){var _,b,E;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(b=0,E=_.length;b<E;b++)_[b].fn=d;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var R=this._listens(s,u,p);if(R!==!1){var W=_[R];this._firingCount&&(W.fn=d,this._events[s]=_=_.slice()),_.splice(R,1)}}},fire:function(s,u,p){if(!this.listens(s,p))return this;var _=o({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[s];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,R=b.length;E<R;E++){var W=b[E],V=W.fn;W.once&&this.off(s,V,W.ctx),V.call(W.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(s,u,p,_){typeof s!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(_=!!u,b=void 0,p=void 0);var E=this._events&&this._events[s];if(E&&E.length&&this._listens(s,b,p)!==!1)return!0;if(_){for(var R in this._eventParents)if(this._eventParents[R].listens(s,u,p,_))return!0}return!1},_listens:function(s,u,p){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;p===this&&(p=void 0);for(var b=0,E=_.length;b<E;b++)if(_[b].fn===u&&_[b].ctx===p)return b;return!1},once:function(s,u,p){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=w(s);for(var b=0,E=s.length;b<E;b++)this._on(s[b],u,p,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[f(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[f(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,o({layer:s.target,propagatedFrom:s.target},s),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var J=D.extend(q);function Z(s,u,p){this.x=p?Math.round(s):s,this.y=p?Math.round(u):u}var Q=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};Z.prototype={clone:function(){return new Z(this.x,this.y)},add:function(s){return this.clone()._add(j(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(j(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new Z(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new Z(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(s){s=j(s);var u=s.x-this.x,p=s.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(s){return s=j(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=j(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function j(s,u,p){return s instanceof Z?s:C(s)?new Z(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new Z(s.x,s.y):new Z(s,u,p)}function ee(s,u){if(s)for(var p=u?[s,u]:s,_=0,b=p.length;_<b;_++)this.extend(p[_])}ee.prototype={extend:function(s){var u,p;if(!s)return this;if(s instanceof Z||typeof s[0]=="number"||"x"in s)u=p=j(s);else if(s=oe(s),u=s.min,p=s.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(s){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,p;return typeof s[0]=="number"||s instanceof Z?s=j(s):s=oe(s),s instanceof ee?(u=s.min,p=s.max):u=p=s,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(s){s=oe(s);var u=this.min,p=this.max,_=s.min,b=s.max,E=b.x>=u.x&&_.x<=p.x,R=b.y>=u.y&&_.y<=p.y;return E&&R},overlaps:function(s){s=oe(s);var u=this.min,p=this.max,_=s.min,b=s.max,E=b.x>u.x&&_.x<p.x,R=b.y>u.y&&_.y<p.y;return E&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,p=this.max,_=Math.abs(u.x-p.x)*s,b=Math.abs(u.y-p.y)*s;return oe(j(u.x-_,u.y-b),j(p.x+_,p.y+b))},equals:function(s){return s?(s=oe(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function oe(s,u){return!s||s instanceof ee?s:new ee(s,u)}function O(s,u){if(s)for(var p=u?[s,u]:s,_=0,b=p.length;_<b;_++)this.extend(p[_])}O.prototype={extend:function(s){var u=this._southWest,p=this._northEast,_,b;if(s instanceof pe)_=s,b=s;else if(s instanceof O){if(_=s._southWest,b=s._northEast,!_||!b)return this}else return s?this.extend(ae(s)||fe(s)):this;return!u&&!p?(this._southWest=new pe(_.lat,_.lng),this._northEast=new pe(b.lat,b.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),p.lat=Math.max(b.lat,p.lat),p.lng=Math.max(b.lng,p.lng)),this},pad:function(s){var u=this._southWest,p=this._northEast,_=Math.abs(u.lat-p.lat)*s,b=Math.abs(u.lng-p.lng)*s;return new O(new pe(u.lat-_,u.lng-b),new pe(p.lat+_,p.lng+b))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof pe||"lat"in s?s=ae(s):s=fe(s);var u=this._southWest,p=this._northEast,_,b;return s instanceof O?(_=s.getSouthWest(),b=s.getNorthEast()):_=b=s,_.lat>=u.lat&&b.lat<=p.lat&&_.lng>=u.lng&&b.lng<=p.lng},intersects:function(s){s=fe(s);var u=this._southWest,p=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),E=b.lat>=u.lat&&_.lat<=p.lat,R=b.lng>=u.lng&&_.lng<=p.lng;return E&&R},overlaps:function(s){s=fe(s);var u=this._southWest,p=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),E=b.lat>u.lat&&_.lat<p.lat,R=b.lng>u.lng&&_.lng<p.lng;return E&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=fe(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(s,u){return s instanceof O?s:new O(s,u)}function pe(s,u,p){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,p!==void 0&&(this.alt=+p)}pe.prototype={equals:function(s,u){if(!s)return!1;s=ae(s);var p=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return p<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+g(this.lat,s)+", "+g(this.lng,s)+")"},distanceTo:function(s){return ue.distance(this,ae(s))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,p=u/Math.cos(Math.PI/180*this.lat);return fe([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function ae(s,u,p){return s instanceof pe?s:C(s)&&typeof s[0]!="object"?s.length===3?new pe(s[0],s[1],s[2]):s.length===2?new pe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new pe(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new pe(s,u,p)}var se={latLngToPoint:function(s,u){var p=this.projection.project(s),_=this.scale(u);return this.transformation._transform(p,_)},pointToLatLng:function(s,u){var p=this.scale(u),_=this.transformation.untransform(s,p);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(s),_=this.transformation.transform(u.min,p),b=this.transformation.transform(u.max,p);return new ee(_,b)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,p=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new pe(p,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),p=this.wrapLatLng(u),_=u.lat-p.lat,b=u.lng-p.lng;if(_===0&&b===0)return s;var E=s.getSouthWest(),R=s.getNorthEast(),W=new pe(E.lat-_,E.lng-b),V=new pe(R.lat-_,R.lng-b);return new O(W,V)}},ue=o({},se,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var p=Math.PI/180,_=s.lat*p,b=u.lat*p,E=Math.sin((u.lat-s.lat)*p/2),R=Math.sin((u.lng-s.lng)*p/2),W=E*E+Math.cos(_)*Math.cos(b)*R*R,V=2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W));return this.R*V}}),Te=6378137,we={R:Te,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,s.lat),-p),b=Math.sin(_*u);return new Z(this.R*s.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(s){var u=180/Math.PI;return new pe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=Te*Math.PI;return new ee([-s,-s],[s,s])}()};function nt(s,u,p,_){if(C(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=p,this._d=_}nt.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new Z((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function lt(s,u,p,_){return new nt(s,u,p,_)}var xt=o({},ue,{code:"EPSG:3857",projection:we,transformation:function(){var s=.5/(Math.PI*we.R);return lt(s,.5,-s,.5)}()}),_r=o({},xt,{code:"EPSG:900913"});function Qr(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Vn(s,u){var p="",_,b,E,R,W,V;for(_=0,E=s.length;_<E;_++){for(W=s[_],b=0,R=W.length;b<R;b++)V=W[b],p+=(b?"L":"M")+V.x+" "+V.y;p+=u?de.svg?"z":"x":""}return p||"M0 0"}var Jr=document.documentElement.style,Li="ActiveXObject"in window,ba=Li&&!document.addEventListener,Mo="msLaunchUri"in navigator&&!("documentMode"in document),zo=Nn("webkit"),ka=Nn("android"),Sa=Nn("android 2")||Nn("android 3"),Ju=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ec=ka&&Nn("Google")&&Ju<537&&!("AudioNode"in window),X=!!window.opera,ie=!Mo&&Nn("chrome"),ye=Nn("gecko")&&!zo&&!X&&!Li,ke=!ie&&Nn("safari"),Le=Nn("phantom"),Tt="OTransition"in Jr,qn=navigator.platform.indexOf("Win")===0,Kt=Li&&"transition"in Jr,Gn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Sa,xr="MozPerspective"in Jr,wt=!window.L_DISABLE_3D&&(Kt||Gn||xr)&&!Tt&&!Le,Qt=typeof orientation<"u"||Nn("mobile"),pn=Qt&&zo,Lw=Qt&&Gn,Ip=!window.PointerEvent&&window.MSPointerEvent,Rp=!!(window.PointerEvent||Ip),Dp="ontouchstart"in window||!!window.TouchEvent,jw=!window.L_NO_TOUCH&&(Dp||Rp),Mw=Qt&&X,zw=Qt&&ye,Aw=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ow=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",d,u),window.removeEventListener("testPassiveEventSupport",d,u)}catch{}return s}(),Iw=function(){return!!document.createElement("canvas").getContext}(),tc=!!(document.createElementNS&&Qr("svg").createSVGRect),Rw=!!tc&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Dw=!tc&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Fw=navigator.platform.indexOf("Mac")===0,Bw=navigator.platform.indexOf("Linux")===0;function Nn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var de={ie:Li,ielt9:ba,edge:Mo,webkit:zo,android:ka,android23:Sa,androidStock:ec,opera:X,chrome:ie,gecko:ye,safari:ke,phantom:Le,opera12:Tt,win:qn,ie3d:Kt,webkit3d:Gn,gecko3d:xr,any3d:wt,mobile:Qt,mobileWebkit:pn,mobileWebkit3d:Lw,msPointer:Ip,pointer:Rp,touch:jw,touchNative:Dp,mobileOpera:Mw,mobileGecko:zw,retina:Aw,passiveEvents:Ow,canvas:Iw,svg:tc,vml:Dw,inlineSvg:Rw,mac:Fw,linux:Bw},Fp=de.msPointer?"MSPointerDown":"pointerdown",Bp=de.msPointer?"MSPointerMove":"pointermove",Up=de.msPointer?"MSPointerUp":"pointerup",$p=de.msPointer?"MSPointerCancel":"pointercancel",nc={touchstart:Fp,touchmove:Bp,touchend:Up,touchcancel:$p},Hp={touchstart:Vw,touchmove:Ca,touchend:Ca,touchcancel:Ca},ji={},Zp=!1;function Uw(s,u,p){return u==="touchstart"&&Ww(),Hp[u]?(p=Hp[u].bind(this,p),s.addEventListener(nc[u],p,!1),p):(console.warn("wrong event specified:",u),d)}function $w(s,u,p){if(!nc[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(nc[u],p,!1)}function Hw(s){ji[s.pointerId]=s}function Zw(s){ji[s.pointerId]&&(ji[s.pointerId]=s)}function Wp(s){delete ji[s.pointerId]}function Ww(){Zp||(document.addEventListener(Fp,Hw,!0),document.addEventListener(Bp,Zw,!0),document.addEventListener(Up,Wp,!0),document.addEventListener($p,Wp,!0),Zp=!0)}function Ca(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in ji)u.touches.push(ji[p]);u.changedTouches=[u],s(u)}}function Vw(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&ut(u),Ca(s,u)}function qw(s){var u={},p,_;for(_ in s)p=s[_],u[_]=p&&p.bind?p.bind(s):p;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Gw=200;function Xw(s,u){s.addEventListener("dblclick",u);var p=0,_;function b(E){if(E.detail!==1){_=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var R=Yp(E);if(!(R.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!R.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var W=Date.now();W-p<=Gw?(_++,_===2&&u(qw(E))):_=1,p=W}}}return s.addEventListener("click",b),{dblclick:u,simDblclick:b}}function Yw(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var rc=Na(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ao=Na(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vp=Ao==="webkitTransition"||Ao==="OTransition"?Ao+"End":"transitionend";function qp(s){return typeof s=="string"?document.getElementById(s):s}function Oo(s,u){var p=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);p=_?_[u]:null}return p==="auto"?null:p}function Ee(s,u,p){var _=document.createElement(s);return _.className=u||"",p&&p.appendChild(_),_}function Ze(s){var u=s.parentNode;u&&u.removeChild(s)}function Pa(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Mi(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function zi(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function ic(s,u){if(s.classList!==void 0)return s.classList.contains(u);var p=Ea(s);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function xe(s,u){if(s.classList!==void 0)for(var p=w(u),_=0,b=p.length;_<b;_++)s.classList.add(p[_]);else if(!ic(s,u)){var E=Ea(s);oc(s,(E?E+" ":"")+u)}}function Xe(s,u){s.classList!==void 0?s.classList.remove(u):oc(s,y((" "+Ea(s)+" ").replace(" "+u+" "," ")))}function oc(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Ea(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Jt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Kw(s,u)}function Kw(s,u){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function Na(s){for(var u=document.documentElement.style,p=0;p<s.length;p++)if(s[p]in u)return s[p];return!1}function ei(s,u,p){var _=u||new Z(0,0);s.style[rc]=(de.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function Ke(s,u){s._leaflet_pos=u,de.any3d?ei(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function ti(s){return s._leaflet_pos||new Z(0,0)}var Io,Ro,sc;if("onselectstart"in document)Io=function(){ve(window,"selectstart",ut)},Ro=function(){Ae(window,"selectstart",ut)};else{var Do=Na(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Io=function(){if(Do){var s=document.documentElement.style;sc=s[Do],s[Do]="none"}},Ro=function(){Do&&(document.documentElement.style[Do]=sc,sc=void 0)}}function ac(){ve(window,"dragstart",ut)}function lc(){Ae(window,"dragstart",ut)}var Ta,uc;function cc(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(La(),Ta=s,uc=s.style.outlineStyle,s.style.outlineStyle="none",ve(window,"keydown",La))}function La(){Ta&&(Ta.style.outlineStyle=uc,Ta=void 0,uc=void 0,Ae(window,"keydown",La))}function Gp(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function fc(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var Qw={__proto__:null,TRANSFORM:rc,TRANSITION:Ao,TRANSITION_END:Vp,get:qp,getStyle:Oo,create:Ee,remove:Ze,empty:Pa,toFront:Mi,toBack:zi,hasClass:ic,addClass:xe,removeClass:Xe,setClass:oc,getClass:Ea,setOpacity:Jt,testProp:Na,setTransform:ei,setPosition:Ke,getPosition:ti,get disableTextSelection(){return Io},get enableTextSelection(){return Ro},disableImageDrag:ac,enableImageDrag:lc,preventOutline:cc,restoreOutline:La,getSizedParentNode:Gp,getScale:fc};function ve(s,u,p,_){if(u&&typeof u=="object")for(var b in u)dc(s,b,u[b],p);else{u=w(u);for(var E=0,R=u.length;E<R;E++)dc(s,u[E],p,_)}return this}var Tn="_leaflet_events";function Ae(s,u,p,_){if(arguments.length===1)Xp(s),delete s[Tn];else if(u&&typeof u=="object")for(var b in u)pc(s,b,u[b],p);else if(u=w(u),arguments.length===2)Xp(s,function(W){return N(u,W)!==-1});else for(var E=0,R=u.length;E<R;E++)pc(s,u[E],p,_);return this}function Xp(s,u){for(var p in s[Tn]){var _=p.split(/\d/)[0];(!u||u(_))&&pc(s,_,null,null,p)}}var hc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function dc(s,u,p,_){var b=u+f(p)+(_?"_"+f(_):"");if(s[Tn]&&s[Tn][b])return this;var E=function(W){return p.call(_||s,W||window.event)},R=E;!de.touchNative&&de.pointer&&u.indexOf("touch")===0?E=Uw(s,u,E):de.touch&&u==="dblclick"?E=Xw(s,E):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(hc[u]||u,E,de.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(E=function(W){W=W||window.event,gc(s,W)&&R(W)},s.addEventListener(hc[u],E,!1)):s.addEventListener(u,R,!1):s.attachEvent("on"+u,E),s[Tn]=s[Tn]||{},s[Tn][b]=E}function pc(s,u,p,_,b){b=b||u+f(p)+(_?"_"+f(_):"");var E=s[Tn]&&s[Tn][b];if(!E)return this;!de.touchNative&&de.pointer&&u.indexOf("touch")===0?$w(s,u,E):de.touch&&u==="dblclick"?Yw(s,E):"removeEventListener"in s?s.removeEventListener(hc[u]||u,E,!1):s.detachEvent("on"+u,E),s[Tn][b]=null}function ni(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function mc(s){return dc(s,"wheel",ni),this}function Fo(s){return ve(s,"mousedown touchstart dblclick contextmenu",ni),s._leaflet_disable_click=!0,this}function ut(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ri(s){return ut(s),ni(s),this}function Yp(s){if(s.composedPath)return s.composedPath();for(var u=[],p=s.target;p;)u.push(p),p=p.parentNode;return u}function Kp(s,u){if(!u)return new Z(s.clientX,s.clientY);var p=fc(u),_=p.boundingClientRect;return new Z((s.clientX-_.left)/p.x-u.clientLeft,(s.clientY-_.top)/p.y-u.clientTop)}var Jw=de.linux&&de.chrome?window.devicePixelRatio:de.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qp(s){return de.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Jw:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function gc(s,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==s;)p=p.parentNode}catch{return!1}return p!==s}var eb={__proto__:null,on:ve,off:Ae,stopPropagation:ni,disableScrollPropagation:mc,disableClickPropagation:Fo,preventDefault:ut,stop:ri,getPropagationPath:Yp,getMousePosition:Kp,getWheelDelta:Qp,isExternalTarget:gc,addListener:ve,removeListener:Ae},Jp=J.extend({run:function(s,u,p,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=ti(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var p=this._startPos.add(this._offset.multiplyBy(s));u&&p._round(),Ke(this._el,p),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ce=J.extend({options:{crs:xt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=S(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(ae(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ao&&de.any3d&&!de.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ve(this._proxy,Vp,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(ae(s),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,p.zoom):this._tryAnimatedPan(s,p.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,p){var _=this.getZoomScale(u),b=this.getSize().divideBy(2),E=s instanceof Z?s:this.latLngToContainerPoint(s),R=E.subtract(b).multiplyBy(1-1/_),W=this.containerPointToLatLng(b.add(R));return this.setView(W,u,{zoom:p})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():fe(s);var p=j(u.paddingTopLeft||u.padding||[0,0]),_=j(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(s,!1,p.add(_));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:s.getCenter(),zoom:b};var E=_.subtract(p).divideBy(2),R=this.project(s.getSouthWest(),b),W=this.project(s.getNorthEast(),b),V=this.unproject(R.add(W).divideBy(2).add(E),b);return{center:V,zoom:b}},fitBounds:function(s,u){if(s=fe(s),!s.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(s,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=j(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,p){if(p=p||{},p.animate===!1||!de.any3d)return this.setView(s,u,p);this._stop();var _=this.project(this.getCenter()),b=this.project(s),E=this.getSize(),R=this._zoom;s=ae(s),u=u===void 0?R:u;var W=Math.max(E.x,E.y),V=W*this.getZoomScale(R,u),K=b.distanceTo(_)||1,le=1.42,me=le*le;function be(Qe){var $a=Qe?-1:1,$b=Qe?V:W,Hb=V*V-W*W+$a*me*me*K*K,Zb=2*$b*me*K,Ec=Hb/Zb,zm=Math.sqrt(Ec*Ec+1)-Ec,Wb=zm<1e-9?-18:Math.log(zm);return Wb}function bt(Qe){return(Math.exp(Qe)-Math.exp(-Qe))/2}function ot(Qe){return(Math.exp(Qe)+Math.exp(-Qe))/2}function tn(Qe){return bt(Qe)/ot(Qe)}var Lt=be(0);function Fi(Qe){return W*(ot(Lt)/ot(Lt+le*Qe))}function Db(Qe){return W*(ot(Lt)*tn(Lt+le*Qe)-bt(Lt))/me}function Fb(Qe){return 1-Math.pow(1-Qe,1.5)}var Bb=Date.now(),jm=(be(1)-Lt)/le,Ub=p.duration?1e3*p.duration:1e3*jm*.8;function Mm(){var Qe=(Date.now()-Bb)/Ub,$a=Fb(Qe)*jm;Qe<=1?(this._flyToFrame=H(Mm,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(Db($a)/K)),R),this.getScaleZoom(W/Fi($a),R),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Mm.call(this),this},flyToBounds:function(s,u){var p=this._getBoundsCenterZoom(s,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(s){return s=fe(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,fe(s));return p.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var p=j(u.paddingTopLeft||u.padding||[0,0]),_=j(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(s),R=this.getPixelBounds(),W=oe([R.min.add(p),R.max.subtract(_)]),V=W.getSize();if(!W.contains(E)){this._enforcingBounds=!0;var K=E.subtract(W.getCenter()),le=W.extend(E).getSize().subtract(V);b.x+=K.x<0?-le.x:le.x,b.y+=K.y<0?-le.y:le.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=o({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=u.divideBy(2).round(),b=p.divideBy(2).round(),E=_.subtract(b);return!E.x&&!E.y?this:(s.animate&&s.pan?this.panBy(E):(s.pan&&this._rawPanBy(E),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=o({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=l(this._handleGeolocationResponse,this),p=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,s):navigator.geolocation.getCurrentPosition(u,p,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,p=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,p=s.coords.longitude,_=new pe(u,p),b=_.toBounds(s.coords.accuracy*2),E=this._locateOptions;if(E.setView){var R=this.getBoundsZoom(b);this.setView(_,E.maxZoom?Math.min(R,E.maxZoom):R)}var W={latlng:_,bounds:b,timestamp:s.timestamp};for(var V in s.coords)typeof s.coords[V]=="number"&&(W[V]=s.coords[V]);this.fire("locationfound",W)}},addHandler:function(s,u){if(!u)return this;var p=this[s]=new u(this);return this._handlers.push(p),this.options[s]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Ze(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var p="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Ee("div",p,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),p=this.unproject(s.getTopRight());return new O(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,p){s=fe(s),p=j(p||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),R=s.getNorthWest(),W=s.getSouthEast(),V=this.getSize().subtract(p),K=oe(this.project(W,_),this.project(R,_)).getSize(),le=de.any3d?this.options.zoomSnap:1,me=V.x/K.x,be=V.y/K.y,bt=u?Math.max(me,be):Math.min(me,be);return _=this.getScaleZoom(bt,_),le&&(_=Math.round(_/(le/100))*(le/100),_=u?Math.ceil(_/le)*le:Math.floor(_/le)*le),Math.max(b,Math.min(E,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var p=this._getTopLeftPoint(s,u);return new ee(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(s)/p.scale(u)},getScaleZoom:function(s,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var _=p.zoom(s*p.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(ae(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(j(s),u)},layerPointToLatLng:function(s){var u=j(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(ae(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ae(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(fe(s))},distance:function(s,u){return this.options.crs.distance(ae(s),ae(u))},containerPointToLayerPoint:function(s){return j(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return j(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(j(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(s)))},mouseEventToContainerPoint:function(s){return Kp(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=qp(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ve(u,"scroll",this._onScroll,this),this._containerId=f(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&de.any3d,xe(s,"leaflet-container"+(de.touch?" leaflet-touch":"")+(de.retina?" leaflet-retina":"")+(de.ielt9?" leaflet-oldie":"")+(de.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Oo(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ke(this._mapPane,new Z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(s.markerPane,"leaflet-zoom-hide"),xe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,p){Ke(this._mapPane,new Z(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,p)._move(s,u)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,p,_){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?p&&p.pinch&&this.fire("zoom",p):((b||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ke(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[f(this._container)]=this;var u=s?Ae:ve;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),de.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var p=[],_,b=u==="mouseout"||u==="mouseover",E=s.target||s.srcElement,R=!1;E;){if(_=this._targets[f(E)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){R=!0;break}if(_&&_.listens(u,!0)&&(b&&!gc(E,s)||(p.push(_),b))||E===this._container)break;E=E.parentNode}return!p.length&&!R&&!b&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var p=s.type;p==="mousedown"&&cc(u),this._fireDOMEvent(s,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,p){if(s.type==="click"){var _=o({},s);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var b=this._findEventTargets(s,u);if(p){for(var E=[],R=0;R<p.length;R++)p[R].listens(u,!0)&&E.push(p[R]);b=E.concat(b)}if(b.length){u==="contextmenu"&&ut(s);var W=b[0],V={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var K=W.getLatLng&&(!W._radius||W._radius<=10);V.containerPoint=K?this.latLngToContainerPoint(W.getLatLng()):this.mouseEventToContainerPoint(s),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=K?W.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(R=0;R<b.length;R++)if(b[R].fire(u,V,!0),V.originalEvent._stopped||b[R].options.bubblingMouseEvents===!1&&N(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return ti(this._mapPane)||new Z(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var p=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var p=this.getSize()._divideBy(2);return this.project(s,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,p){var _=this._getNewPixelOrigin(p,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,p){var _=this._getNewPixelOrigin(p,u);return oe([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,p){if(!p)return s;var _=this.project(s,u),b=this.getSize().divideBy(2),E=new ee(_.subtract(b),_.add(b)),R=this._getBoundsOffset(E,p,u);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?s:this.unproject(_.add(R),u)},_limitOffset:function(s,u){if(!u)return s;var p=this.getPixelBounds(),_=new ee(p.min.add(s),p.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,p){var _=oe(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),b=_.min.subtract(s.min),E=_.max.subtract(s.max),R=this._rebound(b.x,-E.x),W=this._rebound(b.y,-E.y);return new Z(R,W)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),p=this.getMaxZoom(),_=de.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(p,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var p=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var s=this._proxy=Ee("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var p=rc,_=this._proxy.style[p];ei(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();ei(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),b=this._getCenterOffset(s)._divideBy(1-1/_);return p.animate!==!0&&!this.getSize().contains(b)?!1:(H(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tb(s,u){return new Ce(s,u)}var mn=D.extend({options:{position:"topright"},initialize:function(s){S(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),p=this.getPosition(),_=s._controlCorners[p];return xe(u,"leaflet-control"),p.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Bo=function(s){return new mn(s)};Ce.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",p=this._controlContainer=Ee("div",u+"control-container",this._container);function _(b,E){var R=u+b+" "+u+E;s[b+E]=Ee("div",R,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Ze(this._controlCorners[s]);Ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var em=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,p,_){return p<_?-1:_<p?1:0}},initialize:function(s,u,p){S(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return mn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(f(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Ee("div",s),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Fo(u),mc(u);var _=this._section=Ee("section",s+"-list");p&&(this._map.on("click",this.collapse,this),ve(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Ee("a",s+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),ve(b,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){ut(E),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Ee("div",s+"-base",_),this._separator=Ee("div",s+"-separator",_),this._overlaysList=Ee("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&f(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,p){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(l(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pa(this._baseLayersList),Pa(this._overlaysList),this._layerControlInputs=[];var s,u,p,_,b=0;for(p=0;p<this._layers.length;p++)_=this._layers[p],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&b>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(f(s.target)),p=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(s,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(s){var u=document.createElement("label"),p=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+f(this),p),this._layerControlInputs.push(_),_.layerId=f(s.layer),ve(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+s.name;var E=document.createElement("span");u.appendChild(E),E.appendChild(_),E.appendChild(b);var R=s.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,p,_=[],b=[];this._handlingClick=!0;for(var E=s.length-1;E>=0;E--)u=s[E],p=this._getLayer(u.layerId).layer,u.checked?_.push(p):u.checked||b.push(p);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<_.length;E++)this._map.hasLayer(_[E])||this._map.addLayer(_[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,p,_=this._map.getZoom(),b=s.length-1;b>=0;b--)u=s[b],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&_<p.options.minZoom||p.options.maxZoom!==void 0&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ve(s,"click",ut),this.expand();var u=this;setTimeout(function(){Ae(s,"click",ut),u._preventClick=!1})}}),nb=function(s,u,p){return new em(s,u,p)},yc=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",p=Ee("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,p,_,b){var E=Ee("a",p,_);return E.innerHTML=s,E.href="#",E.title=u,E.setAttribute("role","button"),E.setAttribute("aria-label",u),Fo(E),ve(E,"click",ri),ve(E,"click",b,this),ve(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";Xe(this._zoomInButton,u),Xe(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(xe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(xe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ce.mergeOptions({zoomControl:!0}),Ce.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yc,this.addControl(this.zoomControl))});var rb=function(s){return new yc(s)},tm=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",p=Ee("div",u),_=this.options;return this._addScales(_,u+"-line",p),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),p},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,p){s.metric&&(this._mScale=Ee("div",u,p)),s.imperial&&(this._iScale=Ee("div",u,p))},_update:function(){var s=this._map,u=s.getSize().y/2,p=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/s)},_updateImperial:function(s){var u=s*3.2808399,p,_,b;u>5280?(p=u/5280,_=this._getRoundNum(p),this._updateScale(this._iScale,_+" mi",_/p)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(s,u,p){s.style.width=Math.round(this.options.maxWidth*p)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),p=s/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),ib=function(s){return new tm(s)},ob='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vc=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(de.inlineSvg?ob+" ":"")+"Leaflet</a>"},initialize:function(s){S(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ee("div","leaflet-control-attribution"),Fo(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),s.length&&p.push(s.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Ce.mergeOptions({attributionControl:!0}),Ce.addInitHook(function(){this.options.attributionControl&&new vc().addTo(this)});var sb=function(s){return new vc(s)};mn.Layers=em,mn.Zoom=yc,mn.Scale=tm,mn.Attribution=vc,Bo.layers=nb,Bo.zoom=rb,Bo.scale=ib,Bo.attribution=sb;var Ln=D.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ln.addTo=function(s,u){return s.addHandler(u,this),this};var ab={Events:q},nm=de.touch?"touchstart mousedown":"mousedown",wr=J.extend({options:{clickTolerance:3},initialize:function(s,u,p,_){S(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=p},enable:function(){this._enabled||(ve(this._dragStartTarget,nm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wr._dragging===this&&this.finishDrag(!0),Ae(this._dragStartTarget,nm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ic(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){wr._dragging===this&&this.finishDrag();return}if(!(wr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(wr._dragging=this,this._preventOutline&&cc(this._element),ac(),Io(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,p=Gp(this._element);this._startPoint=new Z(u.clientX,u.clientY),this._startPos=ti(this._element),this._parentScale=fc(p);var _=s.type==="mousedown";ve(document,_?"mousemove":"touchmove",this._onMove,this),ve(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,p=new Z(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,ut(s),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ke(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Xe(document.body,"leaflet-dragging"),this._lastTarget&&(Xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ae(document,"mousemove touchmove",this._onMove,this),Ae(document,"mouseup touchend touchcancel",this._onUp,this),lc(),Ro();var u=this._moved&&this._moving;this._moving=!1,wr._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function rm(s,u,p){var _,b=[1,4,2,8],E,R,W,V,K,le,me,be;for(E=0,le=s.length;E<le;E++)s[E]._code=ii(s[E],u);for(W=0;W<4;W++){for(me=b[W],_=[],E=0,le=s.length,R=le-1;E<le;R=E++)V=s[E],K=s[R],V._code&me?K._code&me||(be=ja(K,V,me,u,p),be._code=ii(be,u),_.push(be)):(K._code&me&&(be=ja(K,V,me,u,p),be._code=ii(be,u),_.push(be)),_.push(V));s=_}return s}function im(s,u){var p,_,b,E,R,W,V,K,le;if(!s||s.length===0)throw new Error("latlngs not passed");en(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var me=ae([0,0]),be=fe(s),bt=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());bt<1700&&(me=_c(s));var ot=s.length,tn=[];for(p=0;p<ot;p++){var Lt=ae(s[p]);tn.push(u.project(ae([Lt.lat-me.lat,Lt.lng-me.lng])))}for(W=V=K=0,p=0,_=ot-1;p<ot;_=p++)b=tn[p],E=tn[_],R=b.y*E.x-E.y*b.x,V+=(b.x+E.x)*R,K+=(b.y+E.y)*R,W+=R*3;W===0?le=tn[0]:le=[V/W,K/W];var Fi=u.unproject(j(le));return ae([Fi.lat+me.lat,Fi.lng+me.lng])}function _c(s){for(var u=0,p=0,_=0,b=0;b<s.length;b++){var E=ae(s[b]);u+=E.lat,p+=E.lng,_++}return ae([u/_,p/_])}var lb={__proto__:null,clipPolygon:rm,polygonCenter:im,centroid:_c};function om(s,u){if(!u||!s.length)return s.slice();var p=u*u;return s=fb(s,p),s=cb(s,p),s}function sm(s,u,p){return Math.sqrt(Uo(s,u,p,!0))}function ub(s,u,p){return Uo(s,u,p)}function cb(s,u){var p=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,b=new _(p);b[0]=b[p-1]=1,xc(s,b,u,0,p-1);var E,R=[];for(E=0;E<p;E++)b[E]&&R.push(s[E]);return R}function xc(s,u,p,_,b){var E=0,R,W,V;for(W=_+1;W<=b-1;W++)V=Uo(s[W],s[_],s[b],!0),V>E&&(R=W,E=V);E>p&&(u[R]=1,xc(s,u,p,_,R),xc(s,u,p,R,b))}function fb(s,u){for(var p=[s[0]],_=1,b=0,E=s.length;_<E;_++)hb(s[_],s[b])>u&&(p.push(s[_]),b=_);return b<E-1&&p.push(s[E-1]),p}var am;function lm(s,u,p,_,b){var E=_?am:ii(s,p),R=ii(u,p),W,V,K;for(am=R;;){if(!(E|R))return[s,u];if(E&R)return!1;W=E||R,V=ja(s,u,W,p,b),K=ii(V,p),W===E?(s=V,E=K):(u=V,R=K)}}function ja(s,u,p,_,b){var E=u.x-s.x,R=u.y-s.y,W=_.min,V=_.max,K,le;return p&8?(K=s.x+E*(V.y-s.y)/R,le=V.y):p&4?(K=s.x+E*(W.y-s.y)/R,le=W.y):p&2?(K=V.x,le=s.y+R*(V.x-s.x)/E):p&1&&(K=W.x,le=s.y+R*(W.x-s.x)/E),new Z(K,le,b)}function ii(s,u){var p=0;return s.x<u.min.x?p|=1:s.x>u.max.x&&(p|=2),s.y<u.min.y?p|=4:s.y>u.max.y&&(p|=8),p}function hb(s,u){var p=u.x-s.x,_=u.y-s.y;return p*p+_*_}function Uo(s,u,p,_){var b=u.x,E=u.y,R=p.x-b,W=p.y-E,V=R*R+W*W,K;return V>0&&(K=((s.x-b)*R+(s.y-E)*W)/V,K>1?(b=p.x,E=p.y):K>0&&(b+=R*K,E+=W*K)),R=s.x-b,W=s.y-E,_?R*R+W*W:new Z(b,E)}function en(s){return!C(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function um(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(s)}function cm(s,u){var p,_,b,E,R,W,V,K;if(!s||s.length===0)throw new Error("latlngs not passed");en(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var le=ae([0,0]),me=fe(s),be=me.getNorthWest().distanceTo(me.getSouthWest())*me.getNorthEast().distanceTo(me.getNorthWest());be<1700&&(le=_c(s));var bt=s.length,ot=[];for(p=0;p<bt;p++){var tn=ae(s[p]);ot.push(u.project(ae([tn.lat-le.lat,tn.lng-le.lng])))}for(p=0,_=0;p<bt-1;p++)_+=ot[p].distanceTo(ot[p+1])/2;if(_===0)K=ot[0];else for(p=0,E=0;p<bt-1;p++)if(R=ot[p],W=ot[p+1],b=R.distanceTo(W),E+=b,E>_){V=(E-_)/b,K=[W.x-V*(W.x-R.x),W.y-V*(W.y-R.y)];break}var Lt=u.unproject(j(K));return ae([Lt.lat+le.lat,Lt.lng+le.lng])}var db={__proto__:null,simplify:om,pointToSegmentDistance:sm,closestPointOnSegment:ub,clipSegment:lm,_getEdgeIntersection:ja,_getBitCode:ii,_sqClosestPointOnSegment:Uo,isFlat:en,_flat:um,polylineCenter:cm},wc={project:function(s){return new Z(s.lng,s.lat)},unproject:function(s){return new pe(s.y,s.x)},bounds:new ee([-180,-90],[180,90])},bc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,p=this.R,_=s.lat*u,b=this.R_MINOR/p,E=Math.sqrt(1-b*b),R=E*Math.sin(_),W=Math.tan(Math.PI/4-_/2)/Math.pow((1-R)/(1+R),E/2);return _=-p*Math.log(Math.max(W,1e-10)),new Z(s.lng*u*p,_)},unproject:function(s){for(var u=180/Math.PI,p=this.R,_=this.R_MINOR/p,b=Math.sqrt(1-_*_),E=Math.exp(-s.y/p),R=Math.PI/2-2*Math.atan(E),W=0,V=.1,K;W<15&&Math.abs(V)>1e-7;W++)K=b*Math.sin(R),K=Math.pow((1-K)/(1+K),b/2),V=Math.PI/2-2*Math.atan(E*K)-R,R+=V;return new pe(R*u,s.x*u/p)}},pb={__proto__:null,LonLat:wc,Mercator:bc,SphericalMercator:we},mb=o({},ue,{code:"EPSG:3395",projection:bc,transformation:function(){var s=.5/(Math.PI*bc.R);return lt(s,.5,-s,.5)}()}),fm=o({},ue,{code:"EPSG:4326",projection:wc,transformation:lt(1/180,1,-1/180,.5)}),gb=o({},se,{projection:wc,transformation:lt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var p=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(p*p+_*_)},infinite:!0});se.Earth=ue,se.EPSG3395=mb,se.EPSG3857=xt,se.EPSG900913=_r,se.EPSG4326=fm,se.Simple=gb;var gn=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[f(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[f(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ce.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=f(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=f(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return f(s)in this._layers},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},_addLayers:function(s){s=s?C(s)?s:[s]:[];for(var u=0,p=s.length;u<p;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[f(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=f(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;s=b.minZoom===void 0?s:Math.min(s,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ai=gn.extend({initialize:function(s,u){S(this,u),this._layers={};var p,_;if(s)for(p=0,_=s.length;p<_;p++)this.addLayer(s[p])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),p,_;for(p in this._layers)_=this._layers[p],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return f(s)}}),yb=function(s,u){return new Ai(s,u)},Xn=Ai.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ai.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ai.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new O;for(var u in this._layers){var p=this._layers[u];s.extend(p.getBounds?p.getBounds():p.getLatLng())}return s}}),vb=function(s,u){return new Xn(s,u)},Oi=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){S(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var p=this._getIconUrl(s);if(!p){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var p=this.options,_=p[u+"Size"];typeof _=="number"&&(_=[_,_]);var b=j(_),E=j(u==="shadow"&&p.shadowAnchor||p.iconAnchor||b&&b.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(p.className||""),E&&(s.style.marginLeft=-E.x+"px",s.style.marginTop=-E.y+"px"),b&&(s.style.width=b.x+"px",s.style.height=b.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return de.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function _b(s){return new Oi(s)}var $o=Oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof $o.imagePath!="string"&&($o.imagePath=this._detectIconPath()),(this.options.imagePath||$o.imagePath)+Oi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(p,_,b){var E=_.exec(p);return E&&E[b]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ee("div","leaflet-default-icon-path",document.body),u=Oo(s,"background-image")||Oo(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),hm=Ln.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new wr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,p=u._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=ti(u._icon),R=p.getPixelBounds(),W=p.getPixelOrigin(),V=oe(R.min._subtract(W).add(b),R.max._subtract(W).subtract(b));if(!V.contains(E)){var K=j((Math.max(V.max.x,E.x)-V.max.x)/(R.max.x-V.max.x)-(Math.min(V.min.x,E.x)-V.min.x)/(R.min.x-V.min.x),(Math.max(V.max.y,E.y)-V.max.y)/(R.max.y-V.max.y)-(Math.min(V.min.y,E.y)-V.min.y)/(R.min.y-V.min.y)).multiplyBy(_);p.panBy(K,{animate:!1}),this._draggable._newPos._add(K),this._draggable._startPos._add(K),Ke(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=H(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,p=u._shadow,_=ti(u._icon),b=u._map.layerPointToLatLng(_);p&&Ke(p,_),u._latlng=b,s.latlng=b,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ma=gn.extend({options:{icon:new $o,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){S(this,u),this._latlng=ae(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=ae(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=s.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(p.title=s.title),p.tagName==="IMG"&&(p.alt=s.alt||"")),xe(p,u),s.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(p,"focus",this._panOnFocus,this);var b=s.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(xe(b,u),b.alt=""),this._shadow=b,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(this._icon,"focus",this._panOnFocus,this),Ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ze(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ke(this._icon,s),this._shadow&&Ke(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hm)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hm(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Jt(this._icon,s),this._shadow&&Jt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,p=u.iconSize?j(u.iconSize):j(0,0),_=u.iconAnchor?j(u.iconAnchor):j(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xb(s,u){return new Ma(s,u)}var br=gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return S(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),za=br.extend({options:{fill:!0,radius:10},initialize:function(s,u){S(this,u),this._latlng=ae(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=ae(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return br.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,p=this._clickTolerance(),_=[s+p,u+p];this._pxBounds=new ee(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wb(s,u){return new za(s,u)}var kc=za.extend({initialize:function(s,u,p){if(typeof u=="number"&&(u=o({},p,{radius:u})),S(this,u),this._latlng=ae(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new O(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:br.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===ue.distance){var b=Math.PI/180,E=this._mRadius/ue.R/b,R=p.project([u+E,s]),W=p.project([u-E,s]),V=R.add(W).divideBy(2),K=p.unproject(V).lat,le=Math.acos((Math.cos(E*b)-Math.sin(u*b)*Math.sin(K*b))/(Math.cos(u*b)*Math.cos(K*b)))/b;(isNaN(le)||le===0)&&(le=E/Math.cos(Math.PI/180*u)),this._point=V.subtract(p.getPixelOrigin()),this._radius=isNaN(le)?0:V.x-p.project([K,s-le]).x,this._radiusY=V.y-R.y}else{var me=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(me).x}this._updateBounds()}});function bb(s,u,p){return new kc(s,u,p)}var Yn=br.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){S(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,p=null,_=Uo,b,E,R=0,W=this._parts.length;R<W;R++)for(var V=this._parts[R],K=1,le=V.length;K<le;K++){b=V[K-1],E=V[K];var me=_(s,b,E,!0);me<u&&(u=me,p=_(s,b,E))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=ae(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new O,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],p=en(s),_=0,b=s.length;_<b;_++)p?(u[_]=ae(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new Z(s,s);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,p){var _=s[0]instanceof pe,b=s.length,E,R;if(_){for(R=[],E=0;E<b;E++)R[E]=this._map.latLngToLayerPoint(s[E]),p.extend(R[E]);u.push(R)}else for(E=0;E<b;E++)this._projectLatlngs(s[E],u,p)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,_,b,E,R,W,V;for(p=0,b=0,E=this._rings.length;p<E;p++)for(V=this._rings[p],_=0,R=V.length;_<R-1;_++)W=lm(V[_],V[_+1],s,_,!0),W&&(u[b]=u[b]||[],u[b].push(W[0]),(W[1]!==V[_+1]||_===R-2)&&(u[b].push(W[1]),b++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,p=0,_=s.length;p<_;p++)s[p]=om(s[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var p,_,b,E,R,W,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(p=0,E=this._parts.length;p<E;p++)for(W=this._parts[p],_=0,R=W.length,b=R-1;_<R;b=_++)if(!(!u&&_===0)&&sm(s,W[b],W[_])<=V)return!0;return!1}});function kb(s,u){return new Yn(s,u)}Yn._flat=um;var Ii=Yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return im(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Yn.prototype._convertLatLngs.call(this,s),p=u.length;return p>=2&&u[0]instanceof pe&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(s){Yn.prototype._setLatLngs.call(this,s),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,p=new Z(u,u);if(s=new ee(s.min.subtract(p),s.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,b=this._rings.length,E;_<b;_++)E=rm(this._rings[_],s,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,p,_,b,E,R,W,V,K;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(E=0,V=this._parts.length;E<V;E++)for(p=this._parts[E],R=0,K=p.length,W=K-1;R<K;W=R++)_=p[R],b=p[W],_.y>s.y!=b.y>s.y&&s.x<(b.x-_.x)*(s.y-_.y)/(b.y-_.y)+_.x&&(u=!u);return u||Yn.prototype._containsPoint.call(this,s,!0)}});function Sb(s,u){return new Ii(s,u)}var Kn=Xn.extend({initialize:function(s,u){S(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=C(s)?s:s.features,p,_,b;if(u){for(p=0,_=u.length;p<_;p++)b=u[p],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(s))return this;var R=Aa(s,E);return R?(R.feature=Ra(s),R.defaultOptions=R.options,this.resetStyle(R),E.onEachFeature&&E.onEachFeature(s,R),this.addLayer(R)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=o({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Aa(s,u){var p=s.type==="Feature"?s.geometry:s,_=p?p.coordinates:null,b=[],E=u&&u.pointToLayer,R=u&&u.coordsToLatLng||Sc,W,V,K,le;if(!_&&!p)return null;switch(p.type){case"Point":return W=R(_),dm(E,s,W,u);case"MultiPoint":for(K=0,le=_.length;K<le;K++)W=R(_[K]),b.push(dm(E,s,W,u));return new Xn(b);case"LineString":case"MultiLineString":return V=Oa(_,p.type==="LineString"?0:1,R),new Yn(V,u);case"Polygon":case"MultiPolygon":return V=Oa(_,p.type==="Polygon"?1:2,R),new Ii(V,u);case"GeometryCollection":for(K=0,le=p.geometries.length;K<le;K++){var me=Aa({geometry:p.geometries[K],type:"Feature",properties:s.properties},u);me&&b.push(me)}return new Xn(b);case"FeatureCollection":for(K=0,le=p.features.length;K<le;K++){var be=Aa(p.features[K],u);be&&b.push(be)}return new Xn(b);default:throw new Error("Invalid GeoJSON object.")}}function dm(s,u,p,_){return s?s(u,p):new Ma(p,_&&_.markersInheritOptions&&_)}function Sc(s){return new pe(s[1],s[0],s[2])}function Oa(s,u,p){for(var _=[],b=0,E=s.length,R;b<E;b++)R=u?Oa(s[b],u-1,p):(p||Sc)(s[b]),_.push(R);return _}function Cc(s,u){return s=ae(s),s.alt!==void 0?[g(s.lng,u),g(s.lat,u),g(s.alt,u)]:[g(s.lng,u),g(s.lat,u)]}function Ia(s,u,p,_){for(var b=[],E=0,R=s.length;E<R;E++)b.push(u?Ia(s[E],en(s[E])?0:u-1,p,_):Cc(s[E],_));return!u&&p&&b.length>0&&b.push(b[0].slice()),b}function Ri(s,u){return s.feature?o({},s.feature,{geometry:u}):Ra(u)}function Ra(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Pc={toGeoJSON:function(s){return Ri(this,{type:"Point",coordinates:Cc(this.getLatLng(),s)})}};Ma.include(Pc),kc.include(Pc),za.include(Pc),Yn.include({toGeoJSON:function(s){var u=!en(this._latlngs),p=Ia(this._latlngs,u?1:0,!1,s);return Ri(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),Ii.include({toGeoJSON:function(s){var u=!en(this._latlngs),p=u&&!en(this._latlngs[0]),_=Ia(this._latlngs,p?2:u?1:0,!0,s);return u||(_=[_]),Ri(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),Ai.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(s).geometry.coordinates)}),Ri(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var p=u==="GeometryCollection",_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(s);if(p)_.push(E.geometry);else{var R=Ra(E);R.type==="FeatureCollection"?_.push.apply(_,R.features):_.push(R)}}}),p?Ri(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function pm(s,u){return new Kn(s,u)}var Cb=pm,Da=gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,p){this._url=s,this._bounds=fe(u),S(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Mi(this._image),this},bringToBack:function(){return this._map&&zi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=fe(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Ee("img");if(xe(u,"leaflet-image-layer"),this._zoomAnimated&&xe(u,"leaflet-zoom-animated"),this.options.className&&xe(u,this.options.className),u.onselectstart=d,u.onmousemove=d,u.onload=l(this.fire,this,"load"),u.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;ei(this._image,p,u)},_reset:function(){var s=this._image,u=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();Ke(s,u.min),s.style.width=p.x+"px",s.style.height=p.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Pb=function(s,u,p){return new Da(s,u,p)},mm=Da.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Ee("video");if(xe(u,"leaflet-image-layer"),this._zoomAnimated&&xe(u,"leaflet-zoom-animated"),this.options.className&&xe(u,this.options.className),u.onselectstart=d,u.onmousemove=d,u.onloadeddata=l(this.fire,this,"load"),s){for(var p=u.getElementsByTagName("source"),_=[],b=0;b<p.length;b++)_.push(p[b].src);this._url=p.length>0?_:[u.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var R=Ee("source");R.src=this._url[E],u.appendChild(R)}}});function Eb(s,u,p){return new mm(s,u,p)}var gm=Da.extend({_initImage:function(){var s=this._image=this._url;xe(s,"leaflet-image-layer"),this._zoomAnimated&&xe(s,"leaflet-zoom-animated"),this.options.className&&xe(s,this.options.className),s.onselectstart=d,s.onmousemove=d}});function Nb(s,u,p){return new gm(s,u,p)}var jn=gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof pe||C(s))?(this._latlng=ae(s),S(this,u)):(S(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(l(Ze,void 0,this._container),200)):Ze(this._container),this.options.interactive&&(Xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ae(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mi(this._container),this},bringToBack:function(){return this._map&&zi(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Xn){u=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){u=p[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=j(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ke(this._container,s.add(p)):u=u.add(s).add(p);var _=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Ce.include({_initOverlay:function(s,u,p,_){var b=u;return b instanceof s||(b=new s(_).setContent(u)),p&&b.setLatLng(p),b}}),gn.include({_initOverlay:function(s,u,p,_){var b=p;return b instanceof s?(S(b,_),b._source=this):(b=u&&!_?u:new s(_,this),b.setContent(p)),b}});var Fa=jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,jn.prototype.openOn.call(this,s)},onAdd:function(s){jn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof br||this._source.on("preclick",ni))},onRemove:function(s){jn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof br||this._source.off("preclick",ni))},getEvents:function(){var s=jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Ee("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Ee("div",s+"-content-wrapper",u);if(this._contentNode=Ee("div",s+"-content",p),Fo(u),mc(this._contentNode),ve(u,"contextmenu",ni),this._tipContainer=Ee("div",s+"-tip-container",u),this._tip=Ee("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ee("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',ve(_,"click",function(b){ut(b),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var p=s.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&_>b?(u.height=b+"px",xe(s,E)):Xe(s,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),p=this._getAnchor();Ke(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Oo(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,_=this._containerWidth,b=new Z(this._containerLeft,-p-this._containerBottom);b._add(ti(this._container));var E=s.layerPointToContainerPoint(b),R=j(this.options.autoPanPadding),W=j(this.options.autoPanPaddingTopLeft||R),V=j(this.options.autoPanPaddingBottomRight||R),K=s.getSize(),le=0,me=0;E.x+_+V.x>K.x&&(le=E.x+_-K.x+V.x),E.x-le-W.x<0&&(le=E.x-W.x),E.y+p+V.y>K.y&&(me=E.y+p-K.y+V.y),E.y-me-W.y<0&&(me=E.y-W.y),(le||me)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([le,me]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tb=function(s,u){return new Fa(s,u)};Ce.mergeOptions({closePopupOnClick:!0}),Ce.include({openPopup:function(s,u,p){return this._initOverlay(Fa,s,u,p).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),gn.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Fa,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Xn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ri(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof br)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ba=jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){jn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){jn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=jn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ee("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,p,_=this._map,b=this._container,E=_.latLngToContainerPoint(_.getCenter()),R=_.layerPointToContainerPoint(s),W=this.options.direction,V=b.offsetWidth,K=b.offsetHeight,le=j(this.options.offset),me=this._getAnchor();W==="top"?(u=V/2,p=K):W==="bottom"?(u=V/2,p=0):W==="center"?(u=V/2,p=K/2):W==="right"?(u=0,p=K/2):W==="left"?(u=V,p=K/2):R.x<E.x?(W="right",u=0,p=K/2):(W="left",u=V+(le.x+me.x)*2,p=K/2),s=s.subtract(j(u,p,!0)).add(le).add(me),Xe(b,"leaflet-tooltip-right"),Xe(b,"leaflet-tooltip-left"),Xe(b,"leaflet-tooltip-top"),Xe(b,"leaflet-tooltip-bottom"),xe(b,"leaflet-tooltip-"+W),Ke(b,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Jt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lb=function(s,u){return new Ba(s,u)};Ce.include({openTooltip:function(s,u,p){return this._initOverlay(Ba,s,u,p).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),gn.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ba,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Xn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(ve(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ve(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,p,_;this._tooltip.options.sticky&&s.originalEvent&&(p=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var ym=Oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Pa(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var _=j(p.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function jb(s){return new ym(s)}Oi.Default=$o;var Ho=gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:de.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){S(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Ze(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof Z?s:new Z(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,p=-s(-1/0,1/0),_=0,b=u.length,E;_<b;_++)E=u[_].style.zIndex,u[_]!==this._container&&E&&(p=s(p,+E));isFinite(p)&&(this.options.zIndex=p+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!de.ielt9){Jt(this._container,this.options.opacity);var s=+new Date,u=!1,p=!1;for(var _ in this._tiles){var b=this._tiles[_];if(!(!b.current||!b.loaded)){var E=Math.min(1,(s-b.loaded)/200);Jt(b.el,E),E<1?u=!0:(b.active?p=!0:this._onOpaqueTile(b),b.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(U(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=Ee("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===s?(this._levels[p].el.style.zIndex=u-Math.abs(s-p),this._onUpdateLevel(p)):(Ze(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[s],b=this._map;return _||(_=this._levels[s]={},_.el=Ee("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=b.project(b.unproject(b.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,b.getCenter(),b.getZoom()),d(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var s,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Ze(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,p,_){var b=Math.floor(s/2),E=Math.floor(u/2),R=p-1,W=new Z(+b,+E);W.z=+R;var V=this._tileCoordsToKey(W),K=this._tiles[V];return K&&K.active?(K.retain=!0,!0):(K&&K.loaded&&(K.retain=!0),R>_?this._retainParent(b,E,R,_):!1)},_retainChildren:function(s,u,p,_){for(var b=2*s;b<2*s+2;b++)for(var E=2*u;E<2*u+2;E++){var R=new Z(b,E);R.z=p+1;var W=this._tileCoordsToKey(R),V=this._tiles[W];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);p+1<_&&this._retainChildren(b,E,p+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,p,_){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var E=this.options.updateWhenZooming&&b!==this._tileZoom;(!_||E)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(s),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],s,u)},_setZoomTransform:function(s,u,p){var _=this._map.getZoomScale(p,s.zoom),b=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,p)).round();de.any3d?ei(s.el,b,_):Ke(s.el,b)},_resetGrid:function(){var s=this._map,u=s.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/p.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/p.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(p,this._tileZoom),b=u.project(s,this._tileZoom).floor(),E=u.getSize().divideBy(_*2);return new ee(b.subtract(E),b.add(E))},_update:function(s){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),b=this._pxBoundsToTileRange(_),E=b.getCenter(),R=[],W=this.options.keepBuffer,V=new ee(b.getBottomLeft().subtract([W,-W]),b.getTopRight().add([W,-W]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var K in this._tiles){var le=this._tiles[K].coords;(le.z!==this._tileZoom||!V.contains(new Z(le.x,le.y)))&&(this._tiles[K].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(s,p);return}for(var me=b.min.y;me<=b.max.y;me++)for(var be=b.min.x;be<=b.max.x;be++){var bt=new Z(be,me);if(bt.z=this._tileZoom,!!this._isValidTile(bt)){var ot=this._tiles[this._tileCoordsToKey(bt)];ot?ot.current=!0:R.push(bt)}}if(R.sort(function(Lt,Fi){return Lt.distanceTo(E)-Fi.distanceTo(E)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var tn=document.createDocumentFragment();for(be=0;be<R.length;be++)this._addTile(R[be],tn);this._level.el.appendChild(tn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(s.x<p.min.x||s.x>p.max.x)||!u.wrapLat&&(s.y<p.min.y||s.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return fe(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,p=this.getTileSize(),_=s.scaleBy(p),b=_.add(p),E=u.unproject(_,s.z),R=u.unproject(b,s.z);return[E,R]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),p=new O(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),p=new Z(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(s){var u=this._tiles[s];u&&(Ze(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){xe(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=d,s.onmousemove=d,de.ielt9&&this.options.opacity<1&&Jt(s,this.options.opacity)},_addTile:function(s,u){var p=this._getTilePos(s),_=this._tileCoordsToKey(s),b=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(b),this.createTile.length<2&&H(l(this._tileReady,this,s,null,b)),Ke(b,p),this._tiles[_]={el:b,coords:s,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:s})},_tileReady:function(s,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:s});var _=this._tileCoordsToKey(s);p=this._tiles[_],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Jt(p.el,0),U(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(xe(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),de.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new Z(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new ee(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Mb(s){return new Ho(s)}var Di=Ho.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=S(this,u),u.detectRetina&&de.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var p=document.createElement("img");return ve(p,"load",l(this._tileOnLoad,this,u,p)),ve(p,"error",l(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(s),p},getTileUrl:function(s){var u={r:de.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=p),u["-y"]=p}return k(this._url,o(u,this.options))},_tileOnLoad:function(s,u){de.ielt9?setTimeout(l(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,p){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(p,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,_=this.options.zoomOffset;return p&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=d,u.onerror=d,!u.complete)){u.src=M;var p=this._tiles[s].coords;Ze(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",M),Ho.prototype._removeTile.call(this,s)},_tileReady:function(s,u,p){if(!(!this._map||p&&p.getAttribute("src")===M))return Ho.prototype._tileReady.call(this,s,u,p)}});function vm(s,u){return new Di(s,u)}var _m=Di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var p=o({},this.defaultWmsParams);for(var _ in u)_ in this.options||(p[_]=u[_]);u=S(this,u);var b=u.detectRetina&&de.retina?2:1,E=this.getTileSize();p.width=E.x*b,p.height=E.y*b,this.wmsParams=p},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Di.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),p=this._crs,_=oe(p.project(u[0]),p.project(u[1])),b=_.min,E=_.max,R=(this._wmsVersion>=1.3&&this._crs===fm?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),W=Di.prototype.getTileUrl.call(this,s);return W+P(this.wmsParams,W,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(s,u){return o(this.wmsParams,s),u||this.redraw(),this}});function zb(s,u){return new _m(s,u)}Di.WMS=_m,vm.wms=zb;var Qn=gn.extend({options:{padding:.1},initialize:function(s){S(this,s),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var p=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),E=_.multiplyBy(-p).add(b).subtract(this._map._getNewPixelOrigin(s,u));de.any3d?ei(this._container,E,p):Ke(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new ee(p,p.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xm=Qn.extend({options:{tolerance:0},getEvents:function(){var s=Qn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ve(s,"mousemove",this._onMouseMove,this),ve(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ve(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Ze(this._container),Ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var s=this._bounds,u=this._container,p=s.getSize(),_=de.retina?2:1;Ke(u,s.min),u.width=_*p.x,u.height=_*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",de.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[f(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,p=u.next,_=u.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete s._order,delete this._layers[f(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),p=[],_,b;for(b=0;b<u.length;b++){if(_=Number(u[b]),isNaN(_))return;p.push(_)}s.options._dashArray=p}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var p,_,b,E,R=s._parts,W=R.length,V=this._ctx;if(W){for(V.beginPath(),p=0;p<W;p++){for(_=0,b=R[p].length;_<b;_++)E=R[p][_],V[_?"lineTo":"moveTo"](E.x,E.y);u&&V.closePath()}this._fillStroke(V,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,p=this._ctx,_=Math.max(Math.round(s._radius),1),b=(Math.max(Math.round(s._radiusY),1)||_)/_;b!==1&&(p.save(),p.scale(1,b)),p.beginPath(),p.arc(u.x,u.y/b,_,0,Math.PI*2,!1),b!==1&&p.restore(),this._fillStroke(p,s)}},_fillStroke:function(s,u){var p=u.options;p.fill&&(s.globalAlpha=p.fillOpacity,s.fillStyle=p.fillColor||p.color,s.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=p.opacity,s.lineWidth=p.weight,s.strokeStyle=p.color,s.lineCap=p.lineCap,s.lineJoin=p.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),p,_,b=this._drawFirst;b;b=b.next)p=b.layer,p.options.interactive&&p._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(Xe(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var p,_,b=this._drawFirst;b;b=b.next)p=b.layer,p.options.interactive&&p._containsPoint(u)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(xe(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,p){this._map._fireDOMEvent(u,p||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var p=u.next,_=u.prev;if(p)p.prev=_;else return;_?_.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var p=u.next,_=u.prev;if(_)_.next=p;else return;p?p.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function wm(s){return de.canvas?new xm(s):null}var Zo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ab={_initContainer:function(){this._container=Ee("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Zo("shape");xe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Zo("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Ze(u),s.removeInteractiveTarget(u),delete this._layers[f(s)]},_updateStyle:function(s){var u=s._stroke,p=s._fill,_=s.options,b=s._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(u||(u=s._stroke=Zo("stroke")),b.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=C(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(b.removeChild(u),s._stroke=null),_.fill?(p||(p=s._fill=Zo("fill")),b.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(b.removeChild(p),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),p=Math.round(s._radius),_=Math.round(s._radiusY||p);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Mi(s._container)},_bringToBack:function(s){zi(s._container)}},Ua=de.vml?Zo:Qr,Wo=Qn.extend({_initContainer:function(){this._container=Ua("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ua("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ze(this._container),Ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),Ke(p,s.min),p.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Ua("path");s.options.className&&xe(u,s.options.className),s.options.interactive&&xe(u,"leaflet-interactive"),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Ze(s._path),s.removeInteractiveTarget(s._path),delete this._layers[f(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,p=s.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Vn(s._parts,u))},_updateCircle:function(s){var u=s._point,p=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||p,b="a"+p+","+_+" 0 1,0 ",E=s._empty()?"M0 0":"M"+(u.x-p)+","+u.y+b+p*2+",0 "+b+-p*2+",0 ";this._setPath(s,E)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Mi(s._path)},_bringToBack:function(s){zi(s._path)}});de.vml&&Wo.include(Ab);function bm(s){return de.svg||de.vml?new Wo(s):null}Ce.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&wm(s)||bm(s)}});var km=Ii.extend({initialize:function(s,u){Ii.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=fe(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Ob(s,u){return new km(s,u)}Wo.create=Ua,Wo.pointsToPath=Vn,Kn.geometryToLayer=Aa,Kn.coordsToLatLng=Sc,Kn.coordsToLatLngs=Oa,Kn.latLngToCoords=Cc,Kn.latLngsToCoords=Ia,Kn.getFeature=Ri,Kn.asFeature=Ra,Ce.mergeOptions({boxZoom:!0});var Sm=Ln.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Io(),ac(),this._startPoint=this._map.mouseEventToContainerPoint(s),ve(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ee("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new ee(this._point,this._startPoint),p=u.getSize();Ke(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Ze(this._box),Xe(this._container,"leaflet-crosshair")),Ro(),lc(),Ae(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var u=new O(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ce.addInitHook("addHandler","boxZoom",Sm),Ce.mergeOptions({doubleClickZoom:!0});var Cm=Ln.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,p=u.getZoom(),_=u.options.zoomDelta,b=s.originalEvent.shiftKey?p-_:p+_;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(s.containerPoint,b)}});Ce.addInitHook("addHandler","doubleClickZoom",Cm),Ce.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Pm=Ln.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new wr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xe(this._map._container,"leaflet-grab"),Xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=fe(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-u+p)%s+u-p,E=(_+u+p)%s-u-p,R=Math.abs(b+p)<Math.abs(E+p)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(s){var u=this._map,p=u.options,_=!p.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,R=p.easeLinearity,W=b.multiplyBy(R/E),V=W.distanceTo([0,0]),K=Math.min(p.inertiaMaxSpeed,V),le=W.multiplyBy(K/V),me=K/(p.inertiaDeceleration*R),be=le.multiplyBy(-me/2).round();!be.x&&!be.y?u.fire("moveend"):(be=u._limitOffset(be,u.options.maxBounds),H(function(){u.panBy(be,{duration:me,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});Ce.addInitHook("addHandler","dragging",Pm),Ce.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Em=Ln.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ve(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,p=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},p=this.keyCodes,_,b;for(_=0,b=p.left.length;_<b;_++)u[p.left[_]]=[-1*s,0];for(_=0,b=p.right.length;_<b;_++)u[p.right[_]]=[s,0];for(_=0,b=p.down.length;_<b;_++)u[p.down[_]]=[0,s];for(_=0,b=p.up.length;_<b;_++)u[p.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},p=this.keyCodes,_,b;for(_=0,b=p.zoomIn.length;_<b;_++)u[p.zoomIn[_]]=s;for(_=0,b=p.zoomOut.length;_<b;_++)u[p.zoomOut[_]]=-s},_addHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,p=this._map,_;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=j(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(j(_),p.options.maxBounds)),p.options.worldCopyJump){var b=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(b)}else p.panBy(_)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;ri(s)}}});Ce.addInitHook("addHandler","keyboard",Em),Ce.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Nm=Ln.extend({addHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Qp(s),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),_),ri(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),p=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,E=p?Math.ceil(b/p)*p:b,R=s._limitZoom(u+(this._delta>0?E:-E))-u;this._delta=0,this._startTime=null,R&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+R):s.setZoomAround(this._lastMousePos,u+R))}});Ce.addInitHook("addHandler","scrollWheelZoom",Nm);var Ib=600;Ce.mergeOptions({tapHold:de.touchNative&&de.safari&&de.mobile,tapTolerance:15});var Tm=Ln.extend({addHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new Z(u.clientX,u.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ve(document,"touchend",ut),ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ib),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ae(document,"touchend",ut),Ae(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new Z(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var p=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Ce.addInitHook("addHandler","tapHold",Tm),Ce.mergeOptions({touchZoom:de.touch,bounceAtZoomLimits:!0});var Lm=Ln.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xe(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),ut(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),b=p.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var E=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(b===1&&E.x===0&&E.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var R=l(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(R,this,!0),ut(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ce.addInitHook("addHandler","touchZoom",Lm),Ce.BoxZoom=Sm,Ce.DoubleClickZoom=Cm,Ce.Drag=Pm,Ce.Keyboard=Em,Ce.ScrollWheelZoom=Nm,Ce.TapHold=Tm,Ce.TouchZoom=Lm,r.Bounds=ee,r.Browser=de,r.CRS=se,r.Canvas=xm,r.Circle=kc,r.CircleMarker=za,r.Class=D,r.Control=mn,r.DivIcon=ym,r.DivOverlay=jn,r.DomEvent=eb,r.DomUtil=Qw,r.Draggable=wr,r.Evented=J,r.FeatureGroup=Xn,r.GeoJSON=Kn,r.GridLayer=Ho,r.Handler=Ln,r.Icon=Oi,r.ImageOverlay=Da,r.LatLng=pe,r.LatLngBounds=O,r.Layer=gn,r.LayerGroup=Ai,r.LineUtil=db,r.Map=Ce,r.Marker=Ma,r.Mixin=ab,r.Path=br,r.Point=Z,r.PolyUtil=lb,r.Polygon=Ii,r.Polyline=Yn,r.Popup=Fa,r.PosAnimation=Jp,r.Projection=pb,r.Rectangle=km,r.Renderer=Qn,r.SVG=Wo,r.SVGOverlay=gm,r.TileLayer=Di,r.Tooltip=Ba,r.Transformation=nt,r.Util=Y,r.VideoOverlay=mm,r.bind=l,r.bounds=oe,r.canvas=wm,r.circle=bb,r.circleMarker=wb,r.control=Bo,r.divIcon=jb,r.extend=o,r.featureGroup=vb,r.geoJSON=pm,r.geoJson=Cb,r.gridLayer=Mb,r.icon=_b,r.imageOverlay=Pb,r.latLng=ae,r.latLngBounds=fe,r.layerGroup=yb,r.map=tb,r.marker=xb,r.point=j,r.polygon=Sb,r.polyline=kb,r.popup=Tb,r.rectangle=Ob,r.setOptions=S,r.stamp=f,r.svg=bm,r.svgOverlay=Nb,r.tileLayer=vm,r.tooltip=Lb,r.transformation=lt,r.version=i,r.videoOverlay=Eb;var Rb=window.L;r.noConflict=function(){return window.L=Rb,this},window.L=r})})(Mh,Mh.exports);var jo=Mh.exports;const Si=la(jo);function Zu(e,n,r){return Object.freeze({instance:e,context:n,container:r})}function Wu(e,n){return n==null?function(i,o){const a=I.useRef();return a.current||(a.current=e(i,o)),a}:function(i,o){const a=I.useRef();a.current||(a.current=e(i,o));const l=I.useRef(i),{instance:c}=a.current;return I.useEffect(function(){l.current!==i&&(n(c,i,l.current),l.current=i)},[c,i,o]),a}}function f1(e,n){I.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var a;(a=n.layerContainer)==null||a.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function h1(e){return function(r){const i=$u(),o=e(Hu(r,i),i);return s1(i.map,r.attribution),yp(o.current,r.eventHandlers),f1(o.current,i),o}}function ML(e,n){const r=I.useRef();I.useEffect(function(){if(n.pathOptions!==r.current){const o=n.pathOptions??{};e.instance.setStyle(o),r.current=o}},[e,n])}function zL(e){return function(r){const i=$u(),o=e(Hu(r,i),i);return yp(o.current,r.eventHandlers),f1(o.current,i),ML(o.current,r),o}}function AL(e,n){const r=Wu(e,n),i=h1(r);return c1(i)}function OL(e,n){const r=Wu(e),i=jL(r,n);return TL(i)}function IL(e,n){const r=Wu(e,n),i=zL(r);return c1(i)}function RL(e,n){const r=Wu(e,n),i=h1(r);return LL(i)}function DL(e,n,r){const{opacity:i,zIndex:o}=n;i!=null&&i!==r.opacity&&e.setOpacity(i),o!=null&&o!==r.zIndex&&e.setZIndex(o)}function d1(){return $u().map}function zh(){return zh=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},zh.apply(this,arguments)}function FL({bounds:e,boundsOptions:n,center:r,children:i,className:o,id:a,placeholder:l,style:c,whenReady:f,zoom:h,...m},d){const[g]=I.useState({className:o,id:a,style:c}),[y,w]=I.useState(null);I.useImperativeHandle(d,()=>(y==null?void 0:y.map)??null,[y]);const S=I.useCallback(x=>{if(x!==null&&y===null){const k=new jo.Map(x,m);r!=null&&h!=null?k.setView(r,h):e!=null&&k.fitBounds(e,n),f!=null&&k.whenReady(f),w(NL(k))}},[]);I.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const P=y?vi.createElement(u1,{value:y},i):l??null;return vi.createElement("div",zh({},g,{ref:S}),P)}const p1=I.forwardRef(FL),Ah=AL(function({position:n,...r},i){const o=new jo.Marker(n,r);return Zu(o,a1(i,{overlayContainer:o}))},function(n,r,i){r.position!==i.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==i.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==i.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==i.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==i.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),BL=IL(function({positions:n,...r},i){const o=new jo.Polyline(n,r);return Zu(o,a1(i,{overlayContainer:o}))},function(n,r,i){r.positions!==i.positions&&n.setLatLngs(r.positions)}),Oh=OL(function(n,r){const i=new jo.Popup(n,r.overlayContainer);return Zu(i,r)},function(n,r,{position:i},o){I.useEffect(function(){const{instance:l}=n;function c(h){h.popup===l&&(l.update(),o(!0))}function f(h){h.popup===l&&o(!1)}return r.map.on({popupopen:c,popupclose:f}),r.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(r.map)):r.overlayContainer.bindPopup(l),function(){var m;r.map.off({popupopen:c,popupclose:f}),(m=r.overlayContainer)==null||m.unbindPopup(),r.map.removeLayer(l)}},[n,r,o,i])}),m1=RL(function({url:n,...r},i){const o=new jo.TileLayer(n,Hu(r,i));return Zu(o,i)},function(n,r,i){DL(n,r,i);const{url:o}=r;o!=null&&o!==i.url&&n.setUrl(o)});delete Si.Icon.Default.prototype._getIconUrl;Si.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const UL=()=>Si.divIcon({className:"custom-marker",html:'<div style="background: #667eea; width: 30px; height: 30px; border-radius: 50%; border: 3px solid #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.5);"></div>',iconSize:[30,30],iconAnchor:[15,15]}),$L=()=>Si.divIcon({className:"custom-marker",html:'<div style="background: #10b981; width: 18px; height: 18px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>',iconSize:[18,18],iconAnchor:[9,9]}),HL=({locations:e})=>{const n=d1();return I.useEffect(()=>{if(e.length>0){const r=Si.latLngBounds(e.map(i=>[i.lat,i.lon]));n.fitBounds(r,{padding:[50,50]})}},[e,n]),null},ZL=({entities:e,claims:n,eventName:r})=>{const[i,o]=I.useState([]),[a,l]=I.useState(!0),[c,f]=I.useState(null);I.useEffect(()=>{h()},[e]);const h=async()=>{l(!0);const y=e.filter(P=>P.entity_type==="LOCATION"||P.entity_type==="GPE");if(y.length===0){l(!1);return}const w=[...y].sort((P,x)=>(x.mention_count||0)-(P.mention_count||0)),S=[];for(const P of w.slice(0,10)){const x=await m(P.canonical_name);x&&S.push({entity:P,lat:x.lat,lon:x.lon}),await new Promise(k=>setTimeout(k,1100))}o(S),S.length>0&&f(S[0]),l(!1)},m=async y=>{try{const w=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(y)}&limit=1`,{headers:{"User-Agent":"HereNews/1.0"}});if(!w.ok)return null;const S=await w.json();return S.length===0?null:{lat:parseFloat(S[0].lat),lon:parseFloat(S[0].lon)}}catch(w){return console.error("Geocoding error:",w),null}},d=y=>n.filter(w=>w.text.toLowerCase().includes(y.toLowerCase())).length;if(a)return v.jsx("div",{className:"h-[600px] bg-gray-900 rounded-lg flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-400",children:"Geocoding locations..."}),v.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"This may take a few moments"})]})});if(i.length===0)return v.jsx("div",{className:"h-[600px] bg-gray-900 rounded-lg flex items-center justify-center",children:v.jsxs("div",{className:"text-center text-gray-400",children:[v.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),v.jsx("p",{className:"text-lg font-medium",children:"Geographic Map"}),v.jsx("p",{className:"text-sm mt-2",children:"No geographic locations found or could not geocode locations"})]})});const g=c?[c.lat,c.lon]:[22.3193,114.1694];return v.jsxs("div",{className:"h-[600px] bg-gray-900 rounded-lg overflow-hidden relative",children:[v.jsxs(p1,{center:g,zoom:10,style:{height:"100%",width:"100%"},zoomControl:!0,children:[v.jsx(m1,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",maxZoom:20}),c&&v.jsx(Ah,{position:[c.lat,c.lon],icon:UL(),children:v.jsx(Oh,{children:v.jsxs("div",{className:"text-sm",children:[v.jsx("div",{className:"text-blue-400 font-semibold text-xs uppercase mb-1",children:"Main Location"}),v.jsx("div",{className:"font-bold text-base mb-1",children:c.entity.canonical_name}),v.jsxs("div",{className:"text-gray-600 text-xs",children:[d(c.entity.canonical_name)," mention(s) in claims"]})]})})}),i.slice(1).map(y=>v.jsx(Ah,{position:[y.lat,y.lon],icon:$L(),children:v.jsx(Oh,{children:v.jsxs("div",{className:"text-sm",children:[v.jsx("div",{className:"text-green-400 font-semibold text-xs uppercase mb-1",children:"Location Entity"}),v.jsx("div",{className:"font-bold text-base mb-1",children:y.entity.canonical_name}),v.jsxs("div",{className:"text-gray-600 text-xs mb-1",children:[d(y.entity.canonical_name)," mention(s) in claims"]}),y.entity.mention_count&&v.jsxs("div",{className:"text-gray-600 text-xs",children:[y.entity.mention_count," total mentions"]})]})})},y.entity.id)),v.jsx(HL,{locations:i})]}),v.jsxs("div",{className:"absolute bottom-4 left-4 bg-gray-800/95 backdrop-blur-sm rounded-lg p-4 border border-gray-700 z-[1000] max-w-xs",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Geographic Distribution"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-blue-400",children:i.length}),v.jsx("div",{className:"text-xs text-gray-400",children:"Locations"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-green-400",children:n.length}),v.jsx("div",{className:"text-xs text-gray-400",children:"Claims"})]})]}),v.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r})]})]})},WL=()=>{const{eventSlug:e}=yx(),[n,r]=I.useState("narrative"),[i,o]=I.useState(null),[a,l]=I.useState(!0),[c,f]=I.useState(null);I.useRef(null),I.useEffect(()=>{h()},[e]);const h=async()=>{try{l(!0);const P=await fetch(`/api/events/${e}`);if(!P.ok)throw new Error("Event not found");const x=await P.json();o(x)}catch(P){f(P.message)}finally{l(!1)}},m=()=>i?v.jsx(CL,{claims:i.claims}):null,d=()=>i?v.jsx(PL,{entities:i.entities,claims:i.claims,eventName:y.canonical_name}):null,g=()=>i?v.jsx(ZL,{entities:i.entities,claims:i.claims,eventName:y.canonical_name}):null;if(a)return v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-400",children:"Loading event..."})]})});if(c||!i)return v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("p",{className:"text-red-500 text-xl mb-4",children:["Error: ",c||"Event not found"]}),v.jsx(no,{to:"/app",className:"text-blue-500 hover:text-blue-400",children:" Back to Home"})]})});const{event:y,entities:w,claims:S}=i;return v.jsxs("div",{className:"min-h-screen bg-black text-white",children:[v.jsx("header",{className:"sticky top-0 z-50 bg-black/95 backdrop-blur-sm border-b border-gray-800",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx(no,{to:"/app",className:"text-blue-500 hover:text-blue-400 text-sm",children:" Back"}),v.jsxs("div",{className:"text-xs text-gray-500",children:["Event ID: ",y.id]})]}),v.jsx("h1",{className:"text-3xl font-bold mb-3",children:y.canonical_name}),v.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{children:""}),v.jsx("span",{className:"text-gray-400",children:new Date(y.event_start).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{children:""}),v.jsx("span",{className:"text-gray-400",children:y.event_type})]}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("span",{className:"px-3 py-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold",children:[" ",Math.round(y.coherence*100),"%"]})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{children:""}),v.jsxs("span",{className:"text-gray-400",children:[S.length," claims"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{children:""}),v.jsxs("span",{className:"text-gray-400",children:[w.length," entities"]})]})]})]})}),v.jsx("div",{className:"sticky top-[140px] z-40 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4",children:v.jsx("div",{className:"flex gap-1",children:[{id:"narrative",label:" Narrative"},{id:"timeline",label:" Timeline"},{id:"graph",label:" Graph"},{id:"map",label:" Map"}].map(P=>v.jsx("button",{onClick:()=>r(P.id),className:`px-6 py-3 font-medium transition-all ${n===P.id?"text-white border-b-2 border-blue-500":"text-gray-400 hover:text-gray-200"}`,children:P.label},P.id))})})}),v.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[n==="narrative"&&v.jsx("div",{className:"max-w-4xl mx-auto",children:v.jsx("div",{className:"bg-gray-900/50 rounded-lg p-8 prose prose-invert prose-lg max-w-none",children:v.jsx(xL,{components:{h2:({node:P,...x})=>v.jsx("h2",{className:"text-2xl font-bold text-blue-400 mt-8 mb-4",...x}),h3:({node:P,...x})=>v.jsx("h3",{className:"text-xl font-bold text-blue-300 mt-6 mb-3",...x}),p:({node:P,...x})=>v.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",...x}),ul:({node:P,...x})=>v.jsx("ul",{className:"list-none space-y-2 my-4",...x}),li:({node:P,...x})=>v.jsx("li",{className:"text-gray-300 pl-6 relative before:content-[''] before:absolute before:left-0 before:text-blue-500 before:font-bold",...x}),strong:({node:P,...x})=>v.jsx("strong",{className:"text-white font-semibold",...x})},children:y.summary})})}),n==="timeline"&&v.jsx("div",{className:"max-w-4xl mx-auto",children:v.jsx("div",{className:"bg-gray-900/50 rounded-lg p-8",children:m()})}),n==="graph"&&v.jsx("div",{children:d()}),n==="map"&&v.jsx("div",{children:g()})]})]})};function VL(){const e=vr(),[n,r]=I.useState([]),[i,o]=I.useState(!0),[a,l]=I.useState("all"),[c,f]=I.useState("");I.useEffect(()=>{h();const g=setInterval(h,2e3);return()=>clearInterval(g)},[]);const h=async()=>{try{const g=await fetch("/api/events/mine",{credentials:"include"});if(g.ok){const y=await g.json();r(y)}o(!1)}catch(g){console.error("Failed to load submissions:",g),o(!1)}},m=n.filter(g=>{var y,w;if(a!=="all"&&g.status!==a)return!1;if(c){const S=c.toLowerCase();return((y=g.urls)==null?void 0:y.toLowerCase().includes(S))||((w=g.content)==null?void 0:w.toLowerCase().includes(S))}return!0}),d={all:n.length,pending:n.filter(g=>g.status==="pending").length,extracting:n.filter(g=>g.status==="extracting").length,completed:n.filter(g=>g.status==="completed").length,failed:n.filter(g=>g.status==="failed").length};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[v.jsx(Es,{}),v.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[v.jsxs("div",{className:"mb-8",children:[v.jsxs("button",{onClick:()=>e("/"),className:"text-indigo-600 hover:text-indigo-800 mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Feed"]}),v.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"My Archive"}),v.jsx("p",{className:"text-slate-600",children:"View and manage your submitted URLs"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[v.jsx("div",{className:"mb-4",children:v.jsx("input",{type:"text",placeholder:"Search by URL or content...",value:c,onChange:g=>f(g.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),v.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","pending","extracting","completed","failed"].map(g=>v.jsxs("button",{onClick:()=>l(g),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===g?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[g.charAt(0).toUpperCase()+g.slice(1),v.jsxs("span",{className:"ml-2 text-sm opacity-75",children:["(",d[g],")"]})]},g))})]}),i?v.jsxs("div",{className:"text-center py-16",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),v.jsx("p",{className:"mt-4 text-slate-600",children:"Loading your archive..."})]}):m.length===0?v.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-sm",children:[v.jsx("svg",{className:"w-16 h-16 mx-auto text-slate-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),v.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No submissions found"}),v.jsx("p",{className:"text-slate-600 mb-4",children:c||a!=="all"?"Try adjusting your filters or search query":"Start by submitting your first URL from the home page"}),(c||a!=="all")&&v.jsx("button",{onClick:()=>{f(""),l("all")},className:"text-indigo-600 hover:text-indigo-800 font-medium",children:"Clear filters"})]}):v.jsx("div",{className:"space-y-4",children:m.map(g=>v.jsx(bx,{submission:g},g.id))}),!i&&n.length>0&&v.jsxs("div",{className:"mt-8 text-center text-sm text-slate-500",children:["Showing ",m.length," of ",n.length," submission",n.length!==1?"s":""]})]})]})}function qL(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,c=[],f=!0,h=!1;try{if(a=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);f=!0);}catch(m){h=!0,o=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}function GL(e,n,r){return n=nj(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function W0(e,n){return KL(e)||qL(e,n)||g1(e,n)||ej()}function XL(e){return YL(e)||QL(e)||g1(e)||JL()}function YL(e){if(Array.isArray(e))return Ih(e)}function KL(e){if(Array.isArray(e))return e}function QL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g1(e,n){if(e){if(typeof e=="string")return Ih(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ih(e,n)}}function Ih(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function JL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ej(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tj(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function nj(e){var n=tj(e,"string");return typeof n=="symbol"?n:String(n)}var rj=function(n,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(XL(Object.entries(n).filter(function(o){var a=W0(o,1),l=a[0];return!i.has(l)}).map(function(o){var a=W0(o,2),l=a[0],c=a[1];return GL({},l,c)}))))};function Rh(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function ij(e){if(Array.isArray(e))return e}function oj(e){if(Array.isArray(e))return Rh(e)}function sj(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aj(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,c=[],f=!0,h=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(f=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);f=!0);}catch(m){h=!0,o=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}function lj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cj(e,n){return ij(e)||aj(e,n)||y1(e,n)||lj()}function V0(e){return oj(e)||sj(e)||y1(e)||uj()}function y1(e,n){if(e){if(typeof e=="string")return Rh(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rh(e,n):void 0}}function fj(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,i=r===void 0?"div":r,o=n.nodeMapper,a=o===void 0?function(m){return m}:o,l=n.methodNames,c=l===void 0?[]:l,f=n.initPropNames,h=f===void 0?[]:f;return I.forwardRef(function(m,d){var g=I.useRef(),y=I.useMemo(function(){var P=Object.fromEntries(h.filter(function(x){return m.hasOwnProperty(x)}).map(function(x){return[x,m[x]]}));return e(P)},[]);q0(function(){y(a(g.current))},I.useLayoutEffect),q0(function(){return y._destructor instanceof Function?y._destructor:void 0});var w=I.useCallback(function(P){for(var x=arguments.length,k=new Array(x>1?x-1:0),C=1;C<x;C++)k[C-1]=arguments[C];return y[P]instanceof Function?y[P].apply(y,k):void 0},[y]),S=I.useRef({});return Object.keys(rj(m,[].concat(V0(c),V0(h)))).filter(function(P){return S.current[P]!==m[P]}).forEach(function(P){return w(P,m[P])}),S.current=m,I.useImperativeHandle(d,function(){return Object.fromEntries(c.map(function(P){return[P,function(){for(var x=arguments.length,k=new Array(x),C=0;C<x;C++)k[C]=arguments[C];return w.apply(void 0,[P].concat(k))}]}))},[w]),vi.createElement(i,{ref:g})})}function q0(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.useEffect,r=I.useRef(),i=I.useRef(!1),o=I.useRef(!1),a=I.useState(0),l=cj(a,2);l[0];var c=l[1];i.current&&(o.current=!0),n(function(){return i.current||(r.current=e(),i.current=!0),c(function(f){return f+1}),function(){o.current&&r.current&&r.current()}},[])}var Dh="http://www.w3.org/1999/xhtml";const G0={svg:"http://www.w3.org/2000/svg",xhtml:Dh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vu(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),G0.hasOwnProperty(n)?{space:G0[n],local:e}:e}function hj(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Dh&&n.documentElement.namespaceURI===Dh?n.createElement(e):n.createElementNS(r,e)}}function dj(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function v1(e){var n=Vu(e);return(n.local?dj:hj)(n)}function pj(){}function vp(e){return e==null?pj:function(){return this.querySelector(e)}}function mj(e){typeof e!="function"&&(e=vp(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,c=i[o]=new Array(l),f,h,m=0;m<l;++m)(f=a[m])&&(h=e.call(f,f.__data__,m,a))&&("__data__"in f&&(h.__data__=f.__data__),c[m]=h);return new Gt(i,this._parents)}function gj(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function yj(){return[]}function _1(e){return e==null?yj:function(){return this.querySelectorAll(e)}}function vj(e){return function(){return gj(e.apply(this,arguments))}}function _j(e){typeof e=="function"?e=vj(e):e=_1(e);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var l=n[a],c=l.length,f,h=0;h<c;++h)(f=l[h])&&(i.push(e.call(f,f.__data__,h,l)),o.push(f));return new Gt(i,o)}function x1(e){return function(){return this.matches(e)}}function w1(e){return function(n){return n.matches(e)}}var xj=Array.prototype.find;function wj(e){return function(){return xj.call(this.children,e)}}function bj(){return this.firstElementChild}function kj(e){return this.select(e==null?bj:wj(typeof e=="function"?e:w1(e)))}var Sj=Array.prototype.filter;function Cj(){return Array.from(this.children)}function Pj(e){return function(){return Sj.call(this.children,e)}}function Ej(e){return this.selectAll(e==null?Cj:Pj(typeof e=="function"?e:w1(e)))}function Nj(e){typeof e!="function"&&(e=x1(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,c=i[o]=[],f,h=0;h<l;++h)(f=a[h])&&e.call(f,f.__data__,h,a)&&c.push(f);return new Gt(i,this._parents)}function b1(e){return new Array(e.length)}function Tj(){return new Gt(this._enter||this._groups.map(b1),this._parents)}function uu(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}uu.prototype={constructor:uu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Lj(e){return function(){return e}}function jj(e,n,r,i,o,a){for(var l=0,c,f=n.length,h=a.length;l<h;++l)(c=n[l])?(c.__data__=a[l],i[l]=c):r[l]=new uu(e,a[l]);for(;l<f;++l)(c=n[l])&&(o[l]=c)}function Mj(e,n,r,i,o,a,l){var c,f,h=new Map,m=n.length,d=a.length,g=new Array(m),y;for(c=0;c<m;++c)(f=n[c])&&(g[c]=y=l.call(f,f.__data__,c,n)+"",h.has(y)?o[c]=f:h.set(y,f));for(c=0;c<d;++c)y=l.call(e,a[c],c,a)+"",(f=h.get(y))?(i[c]=f,f.__data__=a[c],h.delete(y)):r[c]=new uu(e,a[c]);for(c=0;c<m;++c)(f=n[c])&&h.get(g[c])===f&&(o[c]=f)}function zj(e){return e.__data__}function Aj(e,n){if(!arguments.length)return Array.from(this,zj);var r=n?Mj:jj,i=this._parents,o=this._groups;typeof e!="function"&&(e=Lj(e));for(var a=o.length,l=new Array(a),c=new Array(a),f=new Array(a),h=0;h<a;++h){var m=i[h],d=o[h],g=d.length,y=Oj(e.call(m,m&&m.__data__,h,i)),w=y.length,S=c[h]=new Array(w),P=l[h]=new Array(w),x=f[h]=new Array(g);r(m,d,S,P,x,y,n);for(var k=0,C=0,N,M;k<w;++k)if(N=S[k]){for(k>=C&&(C=k+1);!(M=P[C])&&++C<w;);N._next=M||null}}return l=new Gt(l,i),l._enter=c,l._exit=f,l}function Oj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ij(){return new Gt(this._exit||this._groups.map(b1),this._parents)}function Rj(e,n,r){var i=this.enter(),o=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(o=n(o),o&&(o=o.selection())),r==null?a.remove():r(a),i&&o?i.merge(o).order():o}function Dj(e){for(var n=e.selection?e.selection():e,r=this._groups,i=n._groups,o=r.length,a=i.length,l=Math.min(o,a),c=new Array(o),f=0;f<l;++f)for(var h=r[f],m=i[f],d=h.length,g=c[f]=new Array(d),y,w=0;w<d;++w)(y=h[w]||m[w])&&(g[w]=y);for(;f<o;++f)c[f]=r[f];return new Gt(c,this._parents)}function Fj(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var i=e[n],o=i.length-1,a=i[o],l;--o>=0;)(l=i[o])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function Bj(e){e||(e=Uj);function n(d,g){return d&&g?e(d.__data__,g.__data__):!d-!g}for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a){for(var l=r[a],c=l.length,f=o[a]=new Array(c),h,m=0;m<c;++m)(h=l[m])&&(f[m]=h);f.sort(n)}return new Gt(o,this._parents).order()}function Uj(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function $j(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Hj(){return Array.from(this)}function Zj(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;++o){var l=i[o];if(l)return l}return null}function Wj(){let e=0;for(const n of this)++e;return e}function Vj(){return!this.node()}function qj(e){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,l=o.length,c;a<l;++a)(c=o[a])&&e.call(c,c.__data__,a,o);return this}function Gj(e){return function(){this.removeAttribute(e)}}function Xj(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Yj(e,n){return function(){this.setAttribute(e,n)}}function Kj(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function Qj(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Jj(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function e3(e,n){var r=Vu(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((n==null?r.local?Xj:Gj:typeof n=="function"?r.local?Jj:Qj:r.local?Kj:Yj)(r,n))}function k1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function t3(e){return function(){this.style.removeProperty(e)}}function n3(e,n,r){return function(){this.style.setProperty(e,n,r)}}function r3(e,n,r){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function i3(e,n,r){return arguments.length>1?this.each((n==null?t3:typeof n=="function"?r3:n3)(e,n,r??"")):bo(this.node(),e)}function bo(e,n){return e.style.getPropertyValue(n)||k1(e).getComputedStyle(e,null).getPropertyValue(n)}function o3(e){return function(){delete this[e]}}function s3(e,n){return function(){this[e]=n}}function a3(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function l3(e,n){return arguments.length>1?this.each((n==null?o3:typeof n=="function"?a3:s3)(e,n)):this.node()[e]}function S1(e){return e.trim().split(/^|\s+/)}function _p(e){return e.classList||new C1(e)}function C1(e){this._node=e,this._names=S1(e.getAttribute("class")||"")}C1.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function P1(e,n){for(var r=_p(e),i=-1,o=n.length;++i<o;)r.add(n[i])}function E1(e,n){for(var r=_p(e),i=-1,o=n.length;++i<o;)r.remove(n[i])}function u3(e){return function(){P1(this,e)}}function c3(e){return function(){E1(this,e)}}function f3(e,n){return function(){(n.apply(this,arguments)?P1:E1)(this,e)}}function h3(e,n){var r=S1(e+"");if(arguments.length<2){for(var i=_p(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof n=="function"?f3:n?u3:c3)(r,n))}function d3(){this.textContent=""}function p3(e){return function(){this.textContent=e}}function m3(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function g3(e){return arguments.length?this.each(e==null?d3:(typeof e=="function"?m3:p3)(e)):this.node().textContent}function y3(){this.innerHTML=""}function v3(e){return function(){this.innerHTML=e}}function _3(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function x3(e){return arguments.length?this.each(e==null?y3:(typeof e=="function"?_3:v3)(e)):this.node().innerHTML}function w3(){this.nextSibling&&this.parentNode.appendChild(this)}function b3(){return this.each(w3)}function k3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S3(){return this.each(k3)}function C3(e){var n=typeof e=="function"?e:v1(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function P3(){return null}function E3(e,n){var r=typeof e=="function"?e:v1(e),i=n==null?P3:typeof n=="function"?n:vp(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function N3(){var e=this.parentNode;e&&e.removeChild(this)}function T3(){return this.each(N3)}function L3(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function j3(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function M3(e){return this.select(e?j3:L3)}function z3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function A3(e){return function(n){e.call(this,n,this.__data__)}}function O3(e){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");return i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),{type:n,name:r}})}function I3(e){return function(){var n=this.__on;if(n){for(var r=0,i=-1,o=n.length,a;r<o;++r)a=n[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):n[++i]=a;++i?n.length=i:delete this.__on}}}function R3(e,n,r){return function(){var i=this.__on,o,a=A3(n);if(i){for(var l=0,c=i.length;l<c;++l)if((o=i[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=n;return}}this.addEventListener(e.type,a,r),o={type:e.type,name:e.name,value:n,listener:a,options:r},i?i.push(o):this.__on=[o]}}function D3(e,n,r){var i=O3(e+""),o,a=i.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,h=c.length,m;f<h;++f)for(o=0,m=c[f];o<a;++o)if((l=i[o]).type===m.type&&l.name===m.name)return m.value}return}for(c=n?R3:I3,o=0;o<a;++o)this.each(c(i[o],n,r));return this}function N1(e,n,r){var i=k1(e),o=i.CustomEvent;typeof o=="function"?o=new o(n,r):(o=i.document.createEvent("Event"),r?(o.initEvent(n,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(n,!1,!1)),e.dispatchEvent(o)}function F3(e,n){return function(){return N1(this,e,n)}}function B3(e,n){return function(){return N1(this,e,n.apply(this,arguments))}}function U3(e,n){return this.each((typeof n=="function"?B3:F3)(e,n))}function*$3(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&(yield l)}var T1=[null];function Gt(e,n){this._groups=e,this._parents=n}function va(){return new Gt([[document.documentElement]],T1)}function H3(){return this}Gt.prototype=va.prototype={constructor:Gt,select:mj,selectAll:_j,selectChild:kj,selectChildren:Ej,filter:Nj,data:Aj,enter:Tj,exit:Ij,join:Rj,merge:Dj,selection:H3,order:Fj,sort:Bj,call:$j,nodes:Hj,node:Zj,size:Wj,empty:Vj,each:qj,attr:e3,style:i3,property:l3,classed:h3,text:g3,html:x3,raise:b3,lower:S3,append:C3,insert:E3,remove:T3,clone:M3,datum:z3,on:D3,dispatch:U3,[Symbol.iterator]:$3};function ln(e){return typeof e=="string"?new Gt([[document.querySelector(e)]],[document.documentElement]):new Gt([[e]],T1)}function Z3(e){let n;for(;n=e.sourceEvent;)e=n;return e}function In(e,n){if(e=Z3(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}}return[e.pageX,e.pageY]}var W3={value:()=>{}};function _a(){for(var e=0,n=arguments.length,r={},i;e<n;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new jl(r)}function jl(e){this._=e}function V3(e,n){return e.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}jl.prototype=_a.prototype={constructor:jl,on:function(e,n){var r=this._,i=V3(e+"",r),o,a=-1,l=i.length;if(arguments.length<2){for(;++a<l;)if((o=(e=i[a]).type)&&(o=q3(r[o],e.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<l;)if(o=(e=i[a]).type)r[o]=X0(r[o],e.name,n);else if(n==null)for(o in r)r[o]=X0(r[o],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new jl(e)},call:function(e,n){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,a;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(n,r)}};function q3(e,n){for(var r=0,i=e.length,o;r<i;++r)if((o=e[r]).name===n)return o.value}function X0(e,n,r){for(var i=0,o=e.length;i<o;++i)if(e[i].name===n){e[i]=W3,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:n,value:r}),e}const G3={passive:!1},ta={capture:!0,passive:!1};function mf(e){e.stopImmediatePropagation()}function fo(e){e.preventDefault(),e.stopImmediatePropagation()}function L1(e){var n=e.document.documentElement,r=ln(e).on("dragstart.drag",fo,ta);"onselectstart"in n?r.on("selectstart.drag",fo,ta):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function j1(e,n){var r=e.document.documentElement,i=ln(e).on("dragstart.drag",null);n&&(i.on("click.drag",fo,ta),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const cl=e=>()=>e;function Fh(e,{sourceEvent:n,subject:r,target:i,identifier:o,active:a,x:l,y:c,dx:f,dy:h,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:m}})}Fh.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function X3(e){return!e.ctrlKey&&!e.button}function Y3(){return this.parentNode}function K3(e,n){return n??{x:e.x,y:e.y}}function Q3(){return navigator.maxTouchPoints||"ontouchstart"in this}function J3(){var e=X3,n=Y3,r=K3,i=Q3,o={},a=_a("start","drag","end"),l=0,c,f,h,m,d=0;function g(N){N.on("mousedown.drag",y).filter(i).on("touchstart.drag",P).on("touchmove.drag",x,G3).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(N,M){if(!(m||!e.call(this,N,M))){var T=C(this,n.call(this,N,M),N,M,"mouse");T&&(ln(N.view).on("mousemove.drag",w,ta).on("mouseup.drag",S,ta),L1(N.view),mf(N),h=!1,c=N.clientX,f=N.clientY,T("start",N))}}function w(N){if(fo(N),!h){var M=N.clientX-c,T=N.clientY-f;h=M*M+T*T>d}o.mouse("drag",N)}function S(N){ln(N.view).on("mousemove.drag mouseup.drag",null),j1(N.view,h),fo(N),o.mouse("end",N)}function P(N,M){if(e.call(this,N,M)){var T=N.changedTouches,z=n.call(this,N,M),A=T.length,$,F;for($=0;$<A;++$)(F=C(this,z,N,M,T[$].identifier,T[$]))&&(mf(N),F("start",N,T[$]))}}function x(N){var M=N.changedTouches,T=M.length,z,A;for(z=0;z<T;++z)(A=o[M[z].identifier])&&(fo(N),A("drag",N,M[z]))}function k(N){var M=N.changedTouches,T=M.length,z,A;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),z=0;z<T;++z)(A=o[M[z].identifier])&&(mf(N),A("end",N,M[z]))}function C(N,M,T,z,A,$){var F=a.copy(),H=In($||T,M),U,Y,D;if((D=r.call(N,new Fh("beforestart",{sourceEvent:T,target:g,identifier:A,active:l,x:H[0],y:H[1],dx:0,dy:0,dispatch:F}),z))!=null)return U=D.x-H[0]||0,Y=D.y-H[1]||0,function G(q,J,Z){var Q=H,j;switch(q){case"start":o[A]=G,j=l++;break;case"end":delete o[A],--l;case"drag":H=In(Z||J,M),j=l;break}F.call(q,N,new Fh(q,{sourceEvent:J,subject:D,target:g,identifier:A,active:j,x:H[0]+U,y:H[1]+Y,dx:H[0]-Q[0],dy:H[1]-Q[1],dispatch:F}),z)}}return g.filter=function(N){return arguments.length?(e=typeof N=="function"?N:cl(!!N),g):e},g.container=function(N){return arguments.length?(n=typeof N=="function"?N:cl(N),g):n},g.subject=function(N){return arguments.length?(r=typeof N=="function"?N:cl(N),g):r},g.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:cl(!!N),g):i},g.on=function(){var N=a.on.apply(a,arguments);return N===a?g:N},g.clickDistance=function(N){return arguments.length?(d=(N=+N)*N,g):Math.sqrt(d)},g}function xp(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function M1(e,n){var r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r}function xa(){}var na=.7,cu=1/na,ho="\\s*([+-]?\\d+)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eM=/^#([0-9a-f]{3,8})$/,tM=new RegExp(`^rgb\\(${ho},${ho},${ho}\\)$`),nM=new RegExp(`^rgb\\(${$n},${$n},${$n}\\)$`),rM=new RegExp(`^rgba\\(${ho},${ho},${ho},${ra}\\)$`),iM=new RegExp(`^rgba\\(${$n},${$n},${$n},${ra}\\)$`),oM=new RegExp(`^hsl\\(${ra},${$n},${$n}\\)$`),sM=new RegExp(`^hsla\\(${ra},${$n},${$n},${ra}\\)$`),Y0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xp(xa,ia,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:K0,formatHex:K0,formatHex8:aM,formatHsl:lM,formatRgb:Q0,toString:Q0});function K0(){return this.rgb().formatHex()}function aM(){return this.rgb().formatHex8()}function lM(){return z1(this).formatHsl()}function Q0(){return this.rgb().formatRgb()}function ia(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=eM.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?J0(n):r===3?new At(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?fl(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?fl(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=tM.exec(e))?new At(n[1],n[2],n[3],1):(n=nM.exec(e))?new At(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=rM.exec(e))?fl(n[1],n[2],n[3],n[4]):(n=iM.exec(e))?fl(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=oM.exec(e))?ny(n[1],n[2]/100,n[3]/100,1):(n=sM.exec(e))?ny(n[1],n[2]/100,n[3]/100,n[4]):Y0.hasOwnProperty(e)?J0(Y0[e]):e==="transparent"?new At(NaN,NaN,NaN,0):null}function J0(e){return new At(e>>16&255,e>>8&255,e&255,1)}function fl(e,n,r,i){return i<=0&&(e=n=r=NaN),new At(e,n,r,i)}function uM(e){return e instanceof xa||(e=ia(e)),e?(e=e.rgb(),new At(e.r,e.g,e.b,e.opacity)):new At}function Bh(e,n,r,i){return arguments.length===1?uM(e):new At(e,n,r,i??1)}function At(e,n,r,i){this.r=+e,this.g=+n,this.b=+r,this.opacity=+i}xp(At,Bh,M1(xa,{brighter(e){return e=e==null?cu:Math.pow(cu,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?na:Math.pow(na,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new At(gi(this.r),gi(this.g),gi(this.b),fu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ey,formatHex:ey,formatHex8:cM,formatRgb:ty,toString:ty}));function ey(){return`#${di(this.r)}${di(this.g)}${di(this.b)}`}function cM(){return`#${di(this.r)}${di(this.g)}${di(this.b)}${di((isNaN(this.opacity)?1:this.opacity)*255)}`}function ty(){const e=fu(this.opacity);return`${e===1?"rgb(":"rgba("}${gi(this.r)}, ${gi(this.g)}, ${gi(this.b)}${e===1?")":`, ${e})`}`}function fu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function di(e){return e=gi(e),(e<16?"0":"")+e.toString(16)}function ny(e,n,r,i){return i<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new bn(e,n,r,i)}function z1(e){if(e instanceof bn)return new bn(e.h,e.s,e.l,e.opacity);if(e instanceof xa||(e=ia(e)),!e)return new bn;if(e instanceof bn)return e;e=e.rgb();var n=e.r/255,r=e.g/255,i=e.b/255,o=Math.min(n,r,i),a=Math.max(n,r,i),l=NaN,c=a-o,f=(a+o)/2;return c?(n===a?l=(r-i)/c+(r<i)*6:r===a?l=(i-n)/c+2:l=(n-r)/c+4,c/=f<.5?a+o:2-a-o,l*=60):c=f>0&&f<1?0:l,new bn(l,c,f,e.opacity)}function fM(e,n,r,i){return arguments.length===1?z1(e):new bn(e,n,r,i??1)}function bn(e,n,r,i){this.h=+e,this.s=+n,this.l=+r,this.opacity=+i}xp(bn,fM,M1(xa,{brighter(e){return e=e==null?cu:Math.pow(cu,e),new bn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?na:Math.pow(na,e),new bn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,o=2*r-i;return new At(gf(e>=240?e-240:e+120,o,i),gf(e,o,i),gf(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new bn(ry(this.h),hl(this.s),hl(this.l),fu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fu(this.opacity);return`${e===1?"hsl(":"hsla("}${ry(this.h)}, ${hl(this.s)*100}%, ${hl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ry(e){return e=(e||0)%360,e<0?e+360:e}function hl(e){return Math.max(0,Math.min(1,e||0))}function gf(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const A1=e=>()=>e;function hM(e,n){return function(r){return e+r*n}}function dM(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(i){return Math.pow(e+i*n,r)}}function pM(e){return(e=+e)==1?O1:function(n,r){return r-n?dM(n,r,e):A1(isNaN(n)?r:n)}}function O1(e,n){var r=n-e;return r?hM(e,r):A1(isNaN(e)?n:e)}const iy=function e(n){var r=pM(n);function i(o,a){var l=r((o=Bh(o)).r,(a=Bh(a)).r),c=r(o.g,a.g),f=r(o.b,a.b),h=O1(o.opacity,a.opacity);return function(m){return o.r=l(m),o.g=c(m),o.b=f(m),o.opacity=h(m),o+""}}return i.gamma=e,i}(1);function Lr(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var Uh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yf=new RegExp(Uh.source,"g");function mM(e){return function(){return e}}function gM(e){return function(n){return e(n)+""}}function yM(e,n){var r=Uh.lastIndex=yf.lastIndex=0,i,o,a,l=-1,c=[],f=[];for(e=e+"",n=n+"";(i=Uh.exec(e))&&(o=yf.exec(n));)(a=o.index)>r&&(a=n.slice(r,a),c[l]?c[l]+=a:c[++l]=a),(i=i[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,f.push({i:l,x:Lr(i,o)})),r=yf.lastIndex;return r<n.length&&(a=n.slice(r),c[l]?c[l]+=a:c[++l]=a),c.length<2?f[0]?gM(f[0].x):mM(n):(n=f.length,function(h){for(var m=0,d;m<n;++m)c[(d=f[m]).i]=d.x(h);return c.join("")})}var oy=180/Math.PI,$h={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function I1(e,n,r,i,o,a){var l,c,f;return(l=Math.sqrt(e*e+n*n))&&(e/=l,n/=l),(f=e*r+n*i)&&(r-=e*f,i-=n*f),(c=Math.sqrt(r*r+i*i))&&(r/=c,i/=c,f/=c),e*i<n*r&&(e=-e,n=-n,f=-f,l=-l),{translateX:o,translateY:a,rotate:Math.atan2(n,e)*oy,skewX:Math.atan(f)*oy,scaleX:l,scaleY:c}}var dl;function vM(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?$h:I1(n.a,n.b,n.c,n.d,n.e,n.f)}function _M(e){return e==null||(dl||(dl=document.createElementNS("http://www.w3.org/2000/svg","g")),dl.setAttribute("transform",e),!(e=dl.transform.baseVal.consolidate()))?$h:(e=e.matrix,I1(e.a,e.b,e.c,e.d,e.e,e.f))}function R1(e,n,r,i){function o(h){return h.length?h.pop()+" ":""}function a(h,m,d,g,y,w){if(h!==d||m!==g){var S=y.push("translate(",null,n,null,r);w.push({i:S-4,x:Lr(h,d)},{i:S-2,x:Lr(m,g)})}else(d||g)&&y.push("translate("+d+n+g+r)}function l(h,m,d,g){h!==m?(h-m>180?m+=360:m-h>180&&(h+=360),g.push({i:d.push(o(d)+"rotate(",null,i)-2,x:Lr(h,m)})):m&&d.push(o(d)+"rotate("+m+i)}function c(h,m,d,g){h!==m?g.push({i:d.push(o(d)+"skewX(",null,i)-2,x:Lr(h,m)}):m&&d.push(o(d)+"skewX("+m+i)}function f(h,m,d,g,y,w){if(h!==d||m!==g){var S=y.push(o(y)+"scale(",null,",",null,")");w.push({i:S-4,x:Lr(h,d)},{i:S-2,x:Lr(m,g)})}else(d!==1||g!==1)&&y.push(o(y)+"scale("+d+","+g+")")}return function(h,m){var d=[],g=[];return h=e(h),m=e(m),a(h.translateX,h.translateY,m.translateX,m.translateY,d,g),l(h.rotate,m.rotate,d,g),c(h.skewX,m.skewX,d,g),f(h.scaleX,h.scaleY,m.scaleX,m.scaleY,d,g),h=m=null,function(y){for(var w=-1,S=g.length,P;++w<S;)d[(P=g[w]).i]=P.x(y);return d.join("")}}}var xM=R1(vM,"px, ","px)","deg)"),wM=R1(_M,", ",")",")"),bM=1e-12;function sy(e){return((e=Math.exp(e))+1/e)/2}function kM(e){return((e=Math.exp(e))-1/e)/2}function SM(e){return((e=Math.exp(2*e))-1)/(e+1)}const CM=function e(n,r,i){function o(a,l){var c=a[0],f=a[1],h=a[2],m=l[0],d=l[1],g=l[2],y=m-c,w=d-f,S=y*y+w*w,P,x;if(S<bM)x=Math.log(g/h)/n,P=function(z){return[c+z*y,f+z*w,h*Math.exp(n*z*x)]};else{var k=Math.sqrt(S),C=(g*g-h*h+i*S)/(2*h*r*k),N=(g*g-h*h-i*S)/(2*g*r*k),M=Math.log(Math.sqrt(C*C+1)-C),T=Math.log(Math.sqrt(N*N+1)-N);x=(T-M)/n,P=function(z){var A=z*x,$=sy(M),F=h/(r*k)*($*SM(n*A+M)-kM(M));return[c+F*y,f+F*w,h*$/sy(n*A+M)]}}return P.duration=x*1e3*n/Math.SQRT2,P}return o.rho=function(a){var l=Math.max(.001,+a),c=l*l,f=c*c;return e(l,c,f)},o}(Math.SQRT2,2,4);var ko=0,ps=0,ns=0,D1=1e3,hu,ms,du=0,Ci=0,qu=0,oa=typeof performance=="object"&&performance.now?performance:Date,F1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wp(){return Ci||(F1(PM),Ci=oa.now()+qu)}function PM(){Ci=0}function pu(){this._call=this._time=this._next=null}pu.prototype=bp.prototype={constructor:pu,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?wp():+r)+(n==null?0:+n),!this._next&&ms!==this&&(ms?ms._next=this:hu=this,ms=this),this._call=e,this._time=r,Hh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hh())}};function bp(e,n,r){var i=new pu;return i.restart(e,n,r),i}function EM(){wp(),++ko;for(var e=hu,n;e;)(n=Ci-e._time)>=0&&e._call.call(void 0,n),e=e._next;--ko}function ay(){Ci=(du=oa.now())+qu,ko=ps=0;try{EM()}finally{ko=0,TM(),Ci=0}}function NM(){var e=oa.now(),n=e-du;n>D1&&(qu-=n,du=e)}function TM(){for(var e,n=hu,r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:hu=r);ms=e,Hh(i)}function Hh(e){if(!ko){ps&&(ps=clearTimeout(ps));var n=e-Ci;n>24?(e<1/0&&(ps=setTimeout(ay,e-oa.now()-qu)),ns&&(ns=clearInterval(ns))):(ns||(du=oa.now(),ns=setInterval(NM,D1)),ko=1,F1(ay))}}function ly(e,n,r){var i=new pu;return n=n==null?0:+n,i.restart(o=>{i.stop(),e(o+n)},n,r),i}var LM=_a("start","end","cancel","interrupt"),jM=[],B1=0,uy=1,Zh=2,Ml=3,cy=4,Wh=5,zl=6;function Gu(e,n,r,i,o,a){var l=e.__transition;if(!l)e.__transition={};else if(r in l)return;MM(e,r,{name:n,index:i,group:o,on:LM,tween:jM,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:B1})}function kp(e,n){var r=En(e,n);if(r.state>B1)throw new Error("too late; already scheduled");return r}function Wn(e,n){var r=En(e,n);if(r.state>Ml)throw new Error("too late; already running");return r}function En(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function MM(e,n,r){var i=e.__transition,o;i[n]=r,r.timer=bp(a,0,r.time);function a(h){r.state=uy,r.timer.restart(l,r.delay,r.time),r.delay<=h&&l(h-r.delay)}function l(h){var m,d,g,y;if(r.state!==uy)return f();for(m in i)if(y=i[m],y.name===r.name){if(y.state===Ml)return ly(l);y.state===cy?(y.state=zl,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete i[m]):+m<n&&(y.state=zl,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete i[m])}if(ly(function(){r.state===Ml&&(r.state=cy,r.timer.restart(c,r.delay,r.time),c(h))}),r.state=Zh,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Zh){for(r.state=Ml,o=new Array(g=r.tween.length),m=0,d=-1;m<g;++m)(y=r.tween[m].value.call(e,e.__data__,r.index,r.group))&&(o[++d]=y);o.length=d+1}}function c(h){for(var m=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(f),r.state=Wh,1),d=-1,g=o.length;++d<g;)o[d].call(e,m);r.state===Wh&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}function f(){r.state=zl,r.timer.stop(),delete i[n];for(var h in i)return;delete e.__transition}}function Al(e,n){var r=e.__transition,i,o,a=!0,l;if(r){n=n==null?null:n+"";for(l in r){if((i=r[l]).name!==n){a=!1;continue}o=i.state>Zh&&i.state<Wh,i.state=zl,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[l]}a&&delete e.__transition}}function zM(e){return this.each(function(){Al(this,e)})}function AM(e,n){var r,i;return function(){var o=Wn(this,e),a=o.tween;if(a!==r){i=r=a;for(var l=0,c=i.length;l<c;++l)if(i[l].name===n){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function OM(e,n,r){var i,o;if(typeof r!="function")throw new Error;return function(){var a=Wn(this,e),l=a.tween;if(l!==i){o=(i=l).slice();for(var c={name:n,value:r},f=0,h=o.length;f<h;++f)if(o[f].name===n){o[f]=c;break}f===h&&o.push(c)}a.tween=o}}function IM(e,n){var r=this._id;if(e+="",arguments.length<2){for(var i=En(this.node(),r).tween,o=0,a=i.length,l;o<a;++o)if((l=i[o]).name===e)return l.value;return null}return this.each((n==null?AM:OM)(r,e,n))}function Sp(e,n,r){var i=e._id;return e.each(function(){var o=Wn(this,i);(o.value||(o.value={}))[n]=r.apply(this,arguments)}),function(o){return En(o,i).value[n]}}function U1(e,n){var r;return(typeof n=="number"?Lr:n instanceof ia?iy:(r=ia(n))?(n=r,iy):yM)(e,n)}function RM(e){return function(){this.removeAttribute(e)}}function DM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function FM(e,n,r){var i,o=r+"",a;return function(){var l=this.getAttribute(e);return l===o?null:l===i?a:a=n(i=l,r)}}function BM(e,n,r){var i,o=r+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===i?a:a=n(i=l,r)}}function UM(e,n,r){var i,o,a;return function(){var l,c=r(this),f;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),f=c+"",l===f?null:l===i&&f===o?a:(o=f,a=n(i=l,c)))}}function $M(e,n,r){var i,o,a;return function(){var l,c=r(this),f;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),f=c+"",l===f?null:l===i&&f===o?a:(o=f,a=n(i=l,c)))}}function HM(e,n){var r=Vu(e),i=r==="transform"?wM:U1;return this.attrTween(e,typeof n=="function"?(r.local?$M:UM)(r,i,Sp(this,"attr."+e,n)):n==null?(r.local?DM:RM)(r):(r.local?BM:FM)(r,i,n))}function ZM(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function WM(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function VM(e,n){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&WM(e,a)),r}return o._value=n,o}function qM(e,n){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&ZM(e,a)),r}return o._value=n,o}function GM(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var i=Vu(e);return this.tween(r,(i.local?VM:qM)(i,n))}function XM(e,n){return function(){kp(this,e).delay=+n.apply(this,arguments)}}function YM(e,n){return n=+n,function(){kp(this,e).delay=n}}function KM(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?XM:YM)(n,e)):En(this.node(),n).delay}function QM(e,n){return function(){Wn(this,e).duration=+n.apply(this,arguments)}}function JM(e,n){return n=+n,function(){Wn(this,e).duration=n}}function e4(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?QM:JM)(n,e)):En(this.node(),n).duration}function t4(e,n){if(typeof n!="function")throw new Error;return function(){Wn(this,e).ease=n}}function n4(e){var n=this._id;return arguments.length?this.each(t4(n,e)):En(this.node(),n).ease}function r4(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;Wn(this,e).ease=r}}function i4(e){if(typeof e!="function")throw new Error;return this.each(r4(this._id,e))}function o4(e){typeof e!="function"&&(e=x1(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,c=i[o]=[],f,h=0;h<l;++h)(f=a[h])&&e.call(f,f.__data__,h,a)&&c.push(f);return new gr(i,this._parents,this._name,this._id)}function s4(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),c=0;c<a;++c)for(var f=n[c],h=r[c],m=f.length,d=l[c]=new Array(m),g,y=0;y<m;++y)(g=f[y]||h[y])&&(d[y]=g);for(;c<i;++c)l[c]=n[c];return new gr(l,this._parents,this._name,this._id)}function a4(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function l4(e,n,r){var i,o,a=a4(n)?kp:Wn;return function(){var l=a(this,e),c=l.on;c!==i&&(o=(i=c).copy()).on(n,r),l.on=o}}function u4(e,n){var r=this._id;return arguments.length<2?En(this.node(),r).on.on(e):this.each(l4(r,e,n))}function c4(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function f4(){return this.on("end.remove",c4(this._id))}function h4(e){var n=this._name,r=this._id;typeof e!="function"&&(e=vp(e));for(var i=this._groups,o=i.length,a=new Array(o),l=0;l<o;++l)for(var c=i[l],f=c.length,h=a[l]=new Array(f),m,d,g=0;g<f;++g)(m=c[g])&&(d=e.call(m,m.__data__,g,c))&&("__data__"in m&&(d.__data__=m.__data__),h[g]=d,Gu(h[g],n,r,g,h,En(m,r)));return new gr(a,this._parents,n,r)}function d4(e){var n=this._name,r=this._id;typeof e!="function"&&(e=_1(e));for(var i=this._groups,o=i.length,a=[],l=[],c=0;c<o;++c)for(var f=i[c],h=f.length,m,d=0;d<h;++d)if(m=f[d]){for(var g=e.call(m,m.__data__,d,f),y,w=En(m,r),S=0,P=g.length;S<P;++S)(y=g[S])&&Gu(y,n,r,S,g,w);a.push(g),l.push(m)}return new gr(a,l,n,r)}var p4=va.prototype.constructor;function m4(){return new p4(this._groups,this._parents)}function g4(e,n){var r,i,o;return function(){var a=bo(this,e),l=(this.style.removeProperty(e),bo(this,e));return a===l?null:a===r&&l===i?o:o=n(r=a,i=l)}}function $1(e){return function(){this.style.removeProperty(e)}}function y4(e,n,r){var i,o=r+"",a;return function(){var l=bo(this,e);return l===o?null:l===i?a:a=n(i=l,r)}}function v4(e,n,r){var i,o,a;return function(){var l=bo(this,e),c=r(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(e),bo(this,e))),l===f?null:l===i&&f===o?a:(o=f,a=n(i=l,c))}}function _4(e,n){var r,i,o,a="style."+n,l="end."+a,c;return function(){var f=Wn(this,e),h=f.on,m=f.value[a]==null?c||(c=$1(n)):void 0;(h!==r||o!==m)&&(i=(r=h).copy()).on(l,o=m),f.on=i}}function x4(e,n,r){var i=(e+="")=="transform"?xM:U1;return n==null?this.styleTween(e,g4(e,i)).on("end.style."+e,$1(e)):typeof n=="function"?this.styleTween(e,v4(e,i,Sp(this,"style."+e,n))).each(_4(this._id,e)):this.styleTween(e,y4(e,i,n),r).on("end.style."+e,null)}function w4(e,n,r){return function(i){this.style.setProperty(e,n.call(this,i),r)}}function b4(e,n,r){var i,o;function a(){var l=n.apply(this,arguments);return l!==o&&(i=(o=l)&&w4(e,l,r)),i}return a._value=n,a}function k4(e,n,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,b4(e,n,r??""))}function S4(e){return function(){this.textContent=e}}function C4(e){return function(){var n=e(this);this.textContent=n??""}}function P4(e){return this.tween("text",typeof e=="function"?C4(Sp(this,"text",e)):S4(e==null?"":e+""))}function E4(e){return function(n){this.textContent=e.call(this,n)}}function N4(e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&E4(o)),n}return i._value=e,i}function T4(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,N4(e))}function L4(){for(var e=this._name,n=this._id,r=H1(),i=this._groups,o=i.length,a=0;a<o;++a)for(var l=i[a],c=l.length,f,h=0;h<c;++h)if(f=l[h]){var m=En(f,n);Gu(f,e,r,h,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new gr(i,this._parents,e,r)}function j4(){var e,n,r=this,i=r._id,o=r.size();return new Promise(function(a,l){var c={value:l},f={value:function(){--o===0&&a()}};r.each(function(){var h=Wn(this,i),m=h.on;m!==e&&(n=(e=m).copy(),n._.cancel.push(c),n._.interrupt.push(c),n._.end.push(f)),h.on=n}),o===0&&a()})}var M4=0;function gr(e,n,r,i){this._groups=e,this._parents=n,this._name=r,this._id=i}function H1(){return++M4}var Jn=va.prototype;gr.prototype={constructor:gr,select:h4,selectAll:d4,selectChild:Jn.selectChild,selectChildren:Jn.selectChildren,filter:o4,merge:s4,selection:m4,transition:L4,call:Jn.call,nodes:Jn.nodes,node:Jn.node,size:Jn.size,empty:Jn.empty,each:Jn.each,on:u4,attr:HM,attrTween:GM,style:x4,styleTween:k4,text:P4,textTween:T4,remove:f4,tween:IM,delay:KM,duration:e4,ease:n4,easeVarying:i4,end:j4,[Symbol.iterator]:Jn[Symbol.iterator]};function z4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var A4={time:null,delay:0,duration:250,ease:z4};function O4(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function I4(e){var n,r;e instanceof gr?(n=e._id,e=e._name):(n=H1(),(r=A4).time=wp(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var l=i[a],c=l.length,f,h=0;h<c;++h)(f=l[h])&&Gu(f,e,n,h,l,r||O4(f,n));return new gr(i,this._parents,e,n)}va.prototype.interrupt=zM;va.prototype.transition=I4;const pl=e=>()=>e;function R4(e,{sourceEvent:n,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function lr(e,n,r){this.k=e,this.x=n,this.y=r}lr.prototype={constructor:lr,scale:function(e){return e===1?this:new lr(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new lr(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cp=new lr(1,0,0);On.prototype=lr.prototype;function On(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Cp;return e.__zoom}function vf(e){e.stopImmediatePropagation()}function rs(e){e.preventDefault(),e.stopImmediatePropagation()}function D4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function F4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fy(){return this.__zoom||Cp}function B4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function U4(){return navigator.maxTouchPoints||"ontouchstart"in this}function $4(e,n,r){var i=e.invertX(n[0][0])-r[0][0],o=e.invertX(n[1][0])-r[1][0],a=e.invertY(n[0][1])-r[0][1],l=e.invertY(n[1][1])-r[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function H4(){var e=D4,n=F4,r=$4,i=B4,o=U4,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,f=CM,h=_a("start","zoom","end"),m,d,g,y=500,w=150,S=0,P=10;function x(D){D.property("__zoom",fy).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",F).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(D,G,q,J){var Z=D.selection?D.selection():D;Z.property("__zoom",fy),D!==Z?M(D,G,q,J):Z.interrupt().each(function(){T(this,arguments).event(J).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},x.scaleBy=function(D,G,q,J){x.scaleTo(D,function(){var Z=this.__zoom.k,Q=typeof G=="function"?G.apply(this,arguments):G;return Z*Q},q,J)},x.scaleTo=function(D,G,q,J){x.transform(D,function(){var Z=n.apply(this,arguments),Q=this.__zoom,j=q==null?N(Z):typeof q=="function"?q.apply(this,arguments):q,ee=Q.invert(j),oe=typeof G=="function"?G.apply(this,arguments):G;return r(C(k(Q,oe),j,ee),Z,l)},q,J)},x.translateBy=function(D,G,q,J){x.transform(D,function(){return r(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof q=="function"?q.apply(this,arguments):q),n.apply(this,arguments),l)},null,J)},x.translateTo=function(D,G,q,J,Z){x.transform(D,function(){var Q=n.apply(this,arguments),j=this.__zoom,ee=J==null?N(Q):typeof J=="function"?J.apply(this,arguments):J;return r(Cp.translate(ee[0],ee[1]).scale(j.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof q=="function"?-q.apply(this,arguments):-q),Q,l)},J,Z)};function k(D,G){return G=Math.max(a[0],Math.min(a[1],G)),G===D.k?D:new lr(G,D.x,D.y)}function C(D,G,q){var J=G[0]-q[0]*D.k,Z=G[1]-q[1]*D.k;return J===D.x&&Z===D.y?D:new lr(D.k,J,Z)}function N(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function M(D,G,q,J){D.on("start.zoom",function(){T(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(J).end()}).tween("zoom",function(){var Z=this,Q=arguments,j=T(Z,Q).event(J),ee=n.apply(Z,Q),oe=q==null?N(ee):typeof q=="function"?q.apply(Z,Q):q,O=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),fe=Z.__zoom,pe=typeof G=="function"?G.apply(Z,Q):G,ae=f(fe.invert(oe).concat(O/fe.k),pe.invert(oe).concat(O/pe.k));return function(se){if(se===1)se=pe;else{var ue=ae(se),Te=O/ue[2];se=new lr(Te,oe[0]-ue[0]*Te,oe[1]-ue[1]*Te)}j.zoom(null,se)}})}function T(D,G,q){return!q&&D.__zooming||new z(D,G)}function z(D,G){this.that=D,this.args=G,this.active=0,this.sourceEvent=null,this.extent=n.apply(D,G),this.taps=0}z.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,G){return this.mouse&&D!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var G=ln(this.that).datum();h.call(D,this.that,new R4(D,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:h}),G)}};function A(D,...G){if(!e.apply(this,arguments))return;var q=T(this,G).event(D),J=this.__zoom,Z=Math.max(a[0],Math.min(a[1],J.k*Math.pow(2,i.apply(this,arguments)))),Q=In(D);if(q.wheel)(q.mouse[0][0]!==Q[0]||q.mouse[0][1]!==Q[1])&&(q.mouse[1]=J.invert(q.mouse[0]=Q)),clearTimeout(q.wheel);else{if(J.k===Z)return;q.mouse=[Q,J.invert(Q)],Al(this),q.start()}rs(D),q.wheel=setTimeout(j,w),q.zoom("mouse",r(C(k(J,Z),q.mouse[0],q.mouse[1]),q.extent,l));function j(){q.wheel=null,q.end()}}function $(D,...G){if(g||!e.apply(this,arguments))return;var q=D.currentTarget,J=T(this,G,!0).event(D),Z=ln(D.view).on("mousemove.zoom",oe,!0).on("mouseup.zoom",O,!0),Q=In(D,q),j=D.clientX,ee=D.clientY;L1(D.view),vf(D),J.mouse=[Q,this.__zoom.invert(Q)],Al(this),J.start();function oe(fe){if(rs(fe),!J.moved){var pe=fe.clientX-j,ae=fe.clientY-ee;J.moved=pe*pe+ae*ae>S}J.event(fe).zoom("mouse",r(C(J.that.__zoom,J.mouse[0]=In(fe,q),J.mouse[1]),J.extent,l))}function O(fe){Z.on("mousemove.zoom mouseup.zoom",null),j1(fe.view,J.moved),rs(fe),J.event(fe).end()}}function F(D,...G){if(e.apply(this,arguments)){var q=this.__zoom,J=In(D.changedTouches?D.changedTouches[0]:D,this),Z=q.invert(J),Q=q.k*(D.shiftKey?.5:2),j=r(C(k(q,Q),J,Z),n.apply(this,G),l);rs(D),c>0?ln(this).transition().duration(c).call(M,j,J,D):ln(this).call(x.transform,j,J,D)}}function H(D,...G){if(e.apply(this,arguments)){var q=D.touches,J=q.length,Z=T(this,G,D.changedTouches.length===J).event(D),Q,j,ee,oe;for(vf(D),j=0;j<J;++j)ee=q[j],oe=In(ee,this),oe=[oe,this.__zoom.invert(oe),ee.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==oe[2]&&(Z.touch1=oe,Z.taps=0):(Z.touch0=oe,Q=!0,Z.taps=1+!!m);m&&(m=clearTimeout(m)),Q&&(Z.taps<2&&(d=oe[0],m=setTimeout(function(){m=null},y)),Al(this),Z.start())}}function U(D,...G){if(this.__zooming){var q=T(this,G).event(D),J=D.changedTouches,Z=J.length,Q,j,ee,oe;for(rs(D),Q=0;Q<Z;++Q)j=J[Q],ee=In(j,this),q.touch0&&q.touch0[2]===j.identifier?q.touch0[0]=ee:q.touch1&&q.touch1[2]===j.identifier&&(q.touch1[0]=ee);if(j=q.that.__zoom,q.touch1){var O=q.touch0[0],fe=q.touch0[1],pe=q.touch1[0],ae=q.touch1[1],se=(se=pe[0]-O[0])*se+(se=pe[1]-O[1])*se,ue=(ue=ae[0]-fe[0])*ue+(ue=ae[1]-fe[1])*ue;j=k(j,Math.sqrt(se/ue)),ee=[(O[0]+pe[0])/2,(O[1]+pe[1])/2],oe=[(fe[0]+ae[0])/2,(fe[1]+ae[1])/2]}else if(q.touch0)ee=q.touch0[0],oe=q.touch0[1];else return;q.zoom("touch",r(C(j,ee,oe),q.extent,l))}}function Y(D,...G){if(this.__zooming){var q=T(this,G).event(D),J=D.changedTouches,Z=J.length,Q,j;for(vf(D),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),Q=0;Q<Z;++Q)j=J[Q],q.touch0&&q.touch0[2]===j.identifier?delete q.touch0:q.touch1&&q.touch1[2]===j.identifier&&delete q.touch1;if(q.touch1&&!q.touch0&&(q.touch0=q.touch1,delete q.touch1),q.touch0)q.touch0[1]=this.__zoom.invert(q.touch0[0]);else if(q.end(),q.taps===2&&(j=In(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<P)){var ee=ln(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return x.wheelDelta=function(D){return arguments.length?(i=typeof D=="function"?D:pl(+D),x):i},x.filter=function(D){return arguments.length?(e=typeof D=="function"?D:pl(!!D),x):e},x.touchable=function(D){return arguments.length?(o=typeof D=="function"?D:pl(!!D),x):o},x.extent=function(D){return arguments.length?(n=typeof D=="function"?D:pl([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),x):n},x.scaleExtent=function(D){return arguments.length?(a[0]=+D[0],a[1]=+D[1],x):[a[0],a[1]]},x.translateExtent=function(D){return arguments.length?(l[0][0]=+D[0][0],l[1][0]=+D[1][0],l[0][1]=+D[0][1],l[1][1]=+D[1][1],x):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},x.constrain=function(D){return arguments.length?(r=D,x):r},x.duration=function(D){return arguments.length?(c=+D,x):c},x.interpolate=function(D){return arguments.length?(f=D,x):f},x.on=function(){var D=h.on.apply(h,arguments);return D===h?x:D},x.clickDistance=function(D){return arguments.length?(S=(D=+D)*D,x):Math.sqrt(S)},x.tapDistance=function(D){return arguments.length?(P=+D,x):P},x}class hy extends Map{constructor(n,r=V4){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[i,o]of n)this.set(i,o)}get(n){return super.get(dy(this,n))}has(n){return super.has(dy(this,n))}set(n,r){return super.set(Z4(this,n),r)}delete(n){return super.delete(W4(this,n))}}function dy({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):r}function Z4({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function W4({_intern:e,_key:n},r){const i=n(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function V4(e){return e!==null&&typeof e=="object"?e.valueOf():e}function py(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=n(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function my(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=n(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function q4(e,n){let r=0;for(let i of e)(i=+i)&&(r+=i);return r}var G4=typeof global=="object"&&global&&global.Object===Object&&global,X4=typeof self=="object"&&self&&self.Object===Object&&self,Z1=G4||X4||Function("return this")(),mu=Z1.Symbol,W1=Object.prototype,Y4=W1.hasOwnProperty,K4=W1.toString,is=mu?mu.toStringTag:void 0;function Q4(e){var n=Y4.call(e,is),r=e[is];try{e[is]=void 0;var i=!0}catch{}var o=K4.call(e);return i&&(n?e[is]=r:delete e[is]),o}var J4=Object.prototype,e5=J4.toString;function t5(e){return e5.call(e)}var n5="[object Null]",r5="[object Undefined]",gy=mu?mu.toStringTag:void 0;function i5(e){return e==null?e===void 0?r5:n5:gy&&gy in Object(e)?Q4(e):t5(e)}function o5(e){return e!=null&&typeof e=="object"}var s5="[object Symbol]";function a5(e){return typeof e=="symbol"||o5(e)&&i5(e)==s5}var l5=/\s/;function u5(e){for(var n=e.length;n--&&l5.test(e.charAt(n)););return n}var c5=/^\s+/;function f5(e){return e&&e.slice(0,u5(e)+1).replace(c5,"")}function gu(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var yy=NaN,h5=/^[-+]0x[0-9a-f]+$/i,d5=/^0b[01]+$/i,p5=/^0o[0-7]+$/i,m5=parseInt;function vy(e){if(typeof e=="number")return e;if(a5(e))return yy;if(gu(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=gu(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=f5(e);var r=d5.test(e);return r||p5.test(e)?m5(e.slice(2),r?2:8):h5.test(e)?yy:+e}var _f=function(){return Z1.Date.now()},g5="Expected a function",y5=Math.max,v5=Math.min;function V1(e,n,r){var i,o,a,l,c,f,h=0,m=!1,d=!1,g=!0;if(typeof e!="function")throw new TypeError(g5);n=vy(n)||0,gu(r)&&(m=!!r.leading,d="maxWait"in r,a=d?y5(vy(r.maxWait)||0,n):a,g="trailing"in r?!!r.trailing:g);function y(T){var z=i,A=o;return i=o=void 0,h=T,l=e.apply(A,z),l}function w(T){return h=T,c=setTimeout(x,n),m?y(T):l}function S(T){var z=T-f,A=T-h,$=n-z;return d?v5($,a-A):$}function P(T){var z=T-f,A=T-h;return f===void 0||z>=n||z<0||d&&A>=a}function x(){var T=_f();if(P(T))return k(T);c=setTimeout(x,S(T))}function k(T){return c=void 0,g&&i?y(T):(i=o=void 0,l)}function C(){c!==void 0&&clearTimeout(c),h=0,i=f=o=c=void 0}function N(){return c===void 0?l:k(_f())}function M(){var T=_f(),z=P(T);if(i=arguments,o=this,f=T,z){if(c===void 0)return w(f);if(d)return clearTimeout(c),c=setTimeout(x,n),y(f)}return c===void 0&&(c=setTimeout(x,n)),l}return M.cancel=C,M.flush=N,M}var _5="Expected a function";function x5(e,n,r){var i=!0,o=!0;if(typeof e!="function")throw new TypeError(_5);return gu(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),V1(e,n,{leading:i,maxWait:n,trailing:o})}var yi=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-yi.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?yi.Bounce.In(e*2)*.5:yi.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),gs=function(){return performance.now()},q1=function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var l=a[o];(n=l._group)===null||n===void 0||n.remove(l),l._group=this,this._tweens[l.getId()]=l,this._tweensAddedDuringUpdate[l.getId()]=l}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=gs()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var a=this._tweens[i[o]],l=!r;a&&a.update(n,l)===!1&&!r&&this.remove(a)}i=Object.keys(this._tweensAddedDuringUpdate)}},e}(),Vh={Linear:function(e,n){var r=e.length-1,i=r*n,o=Math.floor(i),a=Vh.Utils.Linear;return n<0?a(e[0],e[1],i):n>1?a(e[r],e[r-1],r-i):a(e[o],e[o+1>r?r:o+1],i-o)},Utils:{Linear:function(e,n,r){return(n-e)*r+e}}},G1=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),qh=new q1,_y=function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=yi.Linear.None,this._interpolationFunction=Vh.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=G1.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=qh,qh.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=gs()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var a in this._valuesEnd)o[a]=this._valuesEnd[a];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,i,o,a){for(var l in i){var c=n[l],f=Array.isArray(c),h=f?"array":typeof c,m=!f&&Array.isArray(i[l]);if(!(h==="undefined"||h==="function")){if(m){var d=i[l];if(d.length===0)continue;for(var g=[c],y=0,w=d.length;y<w;y+=1){var S=this._handleRelativeValue(c,d[y]);if(isNaN(S)){m=!1,console.warn("Found invalid interpolation list. Skipping.");break}g.push(S)}m&&(i[l]=g)}if((h==="object"||f)&&c&&!m){r[l]=f?[]:{};var P=c;for(var x in P)r[l][x]=P[x];o[l]=f?[]:{};var d=i[l];if(!this._isDynamic){var k={};for(var x in d)k[x]=d[x];i[l]=d=k}this._setupProperties(P,r[l],d,o[l],a)}else(typeof r[l]>"u"||a)&&(r[l]=c),f||(r[l]*=1),m?o[l]=i[l].slice().reverse():o[l]=r[l]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=gs()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=gs()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=yi.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=Vh.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var i=this,o;if(n===void 0&&(n=gs()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=n-this._startTime,c=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),f=this._duration+this._repeat*c,h=function(){if(i._duration===0||l>f)return 1;var S=Math.trunc(l/c),P=l-S*c,x=Math.min(P/i._duration,1);return x===0&&l===i._duration?1:x},m=h(),d=this._easingFunction(m);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,d),this._onUpdateCallback&&this._onUpdateCallback(this._object,m),this._duration===0||l>=this._duration)if(this._repeat>0){var g=Math.min(Math.trunc((l-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=g);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*g,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var y=0,w=this._chainedTweens.length;y<w;y++)this._chainedTweens[y].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,i,o){for(var a in i)if(r[a]!==void 0){var l=r[a]||0,c=i[a],f=Array.isArray(n[a]),h=Array.isArray(c),m=!f&&h;m?n[a]=this._interpolationFunction(c,o):typeof c=="object"&&c?this._updateProperties(n[a],l,c,o):(c=this._handleRelativeValue(l,c),typeof c=="number"&&(n[a]=l+(c-l)*o))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],i=this._valuesEnd[n];typeof i=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(i):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e}();G1.nextId;var Zn=qh;Zn.getAll.bind(Zn);Zn.removeAll.bind(Zn);Zn.add.bind(Zn);Zn.remove.bind(Zn);Zn.update.bind(Zn);function xy(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function w5(e){if(Array.isArray(e))return e}function b5(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function k5(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function S5(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,c=[],f=!0,h=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(f=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);f=!0);}catch(m){h=!0,o=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}function C5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P5(e,n){return w5(e)||S5(e,n)||E5(e,n)||C5()}function E5(e,n){if(e){if(typeof e=="string")return xy(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xy(e,n):void 0}}var N5=k5(function e(n,r){var i=r.default,o=i===void 0?null:i,a=r.triggerUpdate,l=a===void 0?!0:a,c=r.onChange,f=c===void 0?function(h,m){}:c;b5(this,e),this.name=n,this.defaultVal=o,this.triggerUpdate=l,this.onChange=f});function Pp(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,i=e.props,o=i===void 0?{}:i,a=e.methods,l=a===void 0?{}:a,c=e.aliases,f=c===void 0?{}:c,h=e.init,m=h===void 0?function(){}:h,d=e.update,g=d===void 0?function(){}:d,y=Object.keys(o).map(function(w){return new N5(w,o[w])});return function w(){for(var S=arguments.length,P=new Array(S),x=0;x<S;x++)P[x]=arguments[x];var k=!!(this instanceof w&&this.constructor),C=k?P.shift():void 0,N=P[0],M=N===void 0?{}:N,T=Object.assign({},r instanceof Function?r(M):r,{initialised:!1}),z={};function A(H){return $(H,M),F(),A}var $=function(U,Y){m.call(A,U,T,Y),T.initialised=!0},F=V1(function(){T.initialised&&(g.call(A,T,z),z={})},1);return y.forEach(function(H){A[H.name]=U(H);function U(Y){var D=Y.name,G=Y.triggerUpdate,q=G===void 0?!1:G,J=Y.onChange,Z=J===void 0?function(ee,oe){}:J,Q=Y.defaultVal,j=Q===void 0?null:Q;return function(ee){var oe=T[D];if(!arguments.length)return oe;var O=ee===void 0?j:ee;return T[D]=O,Z.call(A,O,T,oe),!z.hasOwnProperty(D)&&(z[D]=oe),q&&F(),A}}}),Object.keys(l).forEach(function(H){A[H]=function(){for(var U,Y=arguments.length,D=new Array(Y),G=0;G<Y;G++)D[G]=arguments[G];return(U=l[H]).call.apply(U,[A,T].concat(D))}}),Object.entries(f).forEach(function(H){var U=P5(H,2),Y=U[0],D=U[1];return A[Y]=A[D]}),A.resetProps=function(){return y.forEach(function(H){A[H.name](H.defaultVal)}),A},A.resetProps(),T._rerender=F,k&&C&&A(C),A}}var je=function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}};function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yu(e)}var T5=/^\s+/,L5=/\s+$/;function he(e,n){if(e=e||"",n=n||{},e instanceof he)return e;if(!(this instanceof he))return new he(e,n);var r=j5(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}he.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,i,o,a,l,c;return r=n.r/255,i=n.g/255,o=n.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),o<=.03928?c=o/12.92:c=Math.pow((o+.055)/1.055,2.4),.2126*a+.7152*l+.0722*c},setAlpha:function(n){return this._a=X1(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=by(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=by(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),o=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+o+"%)":"hsva("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var n=wy(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=wy(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),o=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+o+"%)":"hsla("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(n){return ky(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return O5(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ue(this._r,255)*100)+"%",g:Math.round(Ue(this._g,255)*100)+"%",b:Math.round(Ue(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ue(this._r,255)*100)+"%, "+Math.round(Ue(this._g,255)*100)+"%, "+Math.round(Ue(this._b,255)*100)+"%)":"rgba("+Math.round(Ue(this._r,255)*100)+"%, "+Math.round(Ue(this._g,255)*100)+"%, "+Math.round(Ue(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:q5[ky(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+Sy(this._r,this._g,this._b,this._a),i=r,o=this._gradientType?"GradientType = 1, ":"";if(n){var a=he(n);i="#"+Sy(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+i+")"},toString:function(n){var r=!!n;n=n||this._format;var i=!1,o=this._a<1&&this._a>=0,a=!r&&o&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return a?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return he(this.toString())},_applyModification:function(n,r){var i=n.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(F5,arguments)},brighten:function(){return this._applyModification(B5,arguments)},darken:function(){return this._applyModification(U5,arguments)},desaturate:function(){return this._applyModification(I5,arguments)},saturate:function(){return this._applyModification(R5,arguments)},greyscale:function(){return this._applyModification(D5,arguments)},spin:function(){return this._applyModification($5,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(W5,arguments)},complement:function(){return this._applyCombination(H5,arguments)},monochromatic:function(){return this._applyCombination(V5,arguments)},splitcomplement:function(){return this._applyCombination(Z5,arguments)},triad:function(){return this._applyCombination(Cy,[3])},tetrad:function(){return this._applyCombination(Cy,[4])}};he.fromRatio=function(e,n){if(yu(e)=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=ys(e[i]));e=r}return he(e,n)};function j5(e){var n={r:0,g:0,b:0},r=1,i=null,o=null,a=null,l=!1,c=!1;return typeof e=="string"&&(e=K5(e)),yu(e)=="object"&&(er(e.r)&&er(e.g)&&er(e.b)?(n=M5(e.r,e.g,e.b),l=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):er(e.h)&&er(e.s)&&er(e.v)?(i=ys(e.s),o=ys(e.v),n=A5(e.h,i,o),l=!0,c="hsv"):er(e.h)&&er(e.s)&&er(e.l)&&(i=ys(e.s),a=ys(e.l),n=z5(e.h,i,a),l=!0,c="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=X1(r),{ok:l,format:e.format||c,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function M5(e,n,r){return{r:Ue(e,255)*255,g:Ue(n,255)*255,b:Ue(r,255)*255}}function wy(e,n,r){e=Ue(e,255),n=Ue(n,255),r=Ue(r,255);var i=Math.max(e,n,r),o=Math.min(e,n,r),a,l,c=(i+o)/2;if(i==o)a=l=0;else{var f=i-o;switch(l=c>.5?f/(2-i-o):f/(i+o),i){case e:a=(n-r)/f+(n<r?6:0);break;case n:a=(r-e)/f+2;break;case r:a=(e-n)/f+4;break}a/=6}return{h:a,s:l,l:c}}function z5(e,n,r){var i,o,a;e=Ue(e,360),n=Ue(n,100),r=Ue(r,100);function l(h,m,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?h+(m-h)*6*d:d<1/2?m:d<2/3?h+(m-h)*(2/3-d)*6:h}if(n===0)i=o=a=r;else{var c=r<.5?r*(1+n):r+n-r*n,f=2*r-c;i=l(f,c,e+1/3),o=l(f,c,e),a=l(f,c,e-1/3)}return{r:i*255,g:o*255,b:a*255}}function by(e,n,r){e=Ue(e,255),n=Ue(n,255),r=Ue(r,255);var i=Math.max(e,n,r),o=Math.min(e,n,r),a,l,c=i,f=i-o;if(l=i===0?0:f/i,i==o)a=0;else{switch(i){case e:a=(n-r)/f+(n<r?6:0);break;case n:a=(r-e)/f+2;break;case r:a=(e-n)/f+4;break}a/=6}return{h:a,s:l,v:c}}function A5(e,n,r){e=Ue(e,360)*6,n=Ue(n,100),r=Ue(r,100);var i=Math.floor(e),o=e-i,a=r*(1-n),l=r*(1-o*n),c=r*(1-(1-o)*n),f=i%6,h=[r,l,a,a,c,r][f],m=[c,r,r,l,a,a][f],d=[a,a,c,r,r,l][f];return{r:h*255,g:m*255,b:d*255}}function ky(e,n,r,i){var o=[kn(Math.round(e).toString(16)),kn(Math.round(n).toString(16)),kn(Math.round(r).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function O5(e,n,r,i,o){var a=[kn(Math.round(e).toString(16)),kn(Math.round(n).toString(16)),kn(Math.round(r).toString(16)),kn(Y1(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Sy(e,n,r,i){var o=[kn(Y1(i)),kn(Math.round(e).toString(16)),kn(Math.round(n).toString(16)),kn(Math.round(r).toString(16))];return o.join("")}he.equals=function(e,n){return!e||!n?!1:he(e).toRgbString()==he(n).toRgbString()};he.random=function(){return he.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function I5(e,n){n=n===0?0:n||10;var r=he(e).toHsl();return r.s-=n/100,r.s=Xu(r.s),he(r)}function R5(e,n){n=n===0?0:n||10;var r=he(e).toHsl();return r.s+=n/100,r.s=Xu(r.s),he(r)}function D5(e){return he(e).desaturate(100)}function F5(e,n){n=n===0?0:n||10;var r=he(e).toHsl();return r.l+=n/100,r.l=Xu(r.l),he(r)}function B5(e,n){n=n===0?0:n||10;var r=he(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),he(r)}function U5(e,n){n=n===0?0:n||10;var r=he(e).toHsl();return r.l-=n/100,r.l=Xu(r.l),he(r)}function $5(e,n){var r=he(e).toHsl(),i=(r.h+n)%360;return r.h=i<0?360+i:i,he(r)}function H5(e){var n=he(e).toHsl();return n.h=(n.h+180)%360,he(n)}function Cy(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=he(e).toHsl(),i=[he(e)],o=360/n,a=1;a<n;a++)i.push(he({h:(r.h+a*o)%360,s:r.s,l:r.l}));return i}function Z5(e){var n=he(e).toHsl(),r=n.h;return[he(e),he({h:(r+72)%360,s:n.s,l:n.l}),he({h:(r+216)%360,s:n.s,l:n.l})]}function W5(e,n,r){n=n||6,r=r||30;var i=he(e).toHsl(),o=360/r,a=[he(e)];for(i.h=(i.h-(o*n>>1)+720)%360;--n;)i.h=(i.h+o)%360,a.push(he(i));return a}function V5(e,n){n=n||6;for(var r=he(e).toHsv(),i=r.h,o=r.s,a=r.v,l=[],c=1/n;n--;)l.push(he({h:i,s:o,v:a})),a=(a+c)%1;return l}he.mix=function(e,n,r){r=r===0?0:r||50;var i=he(e).toRgb(),o=he(n).toRgb(),a=r/100,l={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return he(l)};he.readability=function(e,n){var r=he(e),i=he(n);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};he.isReadable=function(e,n,r){var i=he.readability(e,n),o,a;switch(a=!1,o=Q5(r),o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};he.mostReadable=function(e,n,r){var i=null,o=0,a,l,c,f;r=r||{},l=r.includeFallbackColors,c=r.level,f=r.size;for(var h=0;h<n.length;h++)a=he.readability(e,n[h]),a>o&&(o=a,i=he(n[h]));return he.isReadable(e,i,{level:c,size:f})||!l?i:(r.includeFallbackColors=!1,he.mostReadable(e,["#fff","#000"],r))};var Gh=he.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q5=he.hexNames=G5(Gh);function G5(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function X1(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ue(e,n){X5(e)&&(e="100%");var r=Y5(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Xu(e){return Math.min(1,Math.max(0,e))}function $t(e){return parseInt(e,16)}function X5(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Y5(e){return typeof e=="string"&&e.indexOf("%")!=-1}function kn(e){return e.length==1?"0"+e:""+e}function ys(e){return e<=1&&(e=e*100+"%"),e}function Y1(e){return Math.round(parseFloat(e)*255).toString(16)}function Py(e){return $t(e)/255}var vn=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function er(e){return!!vn.CSS_UNIT.exec(e)}function K5(e){e=e.replace(T5,"").replace(L5,"").toLowerCase();var n=!1;if(Gh[e])e=Gh[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=vn.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=vn.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=vn.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=vn.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=vn.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=vn.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=vn.hex8.exec(e))?{r:$t(r[1]),g:$t(r[2]),b:$t(r[3]),a:Py(r[4]),format:n?"name":"hex8"}:(r=vn.hex6.exec(e))?{r:$t(r[1]),g:$t(r[2]),b:$t(r[3]),format:n?"name":"hex"}:(r=vn.hex4.exec(e))?{r:$t(r[1]+""+r[1]),g:$t(r[2]+""+r[2]),b:$t(r[3]+""+r[3]),a:Py(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=vn.hex3.exec(e))?{r:$t(r[1]+""+r[1]),g:$t(r[2]+""+r[2]),b:$t(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function Q5(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function Xh(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function J5(e){if(Array.isArray(e))return Xh(e)}function K1(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function ez(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tz(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function nn(e,n){return e.get(K1(e,n))}function Ey(e,n,r){ez(e,n),n.set(e,r)}function Ny(e,n,r){return e.set(K1(e,n),r),r}function nz(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,lz(i.key),i)}}function rz(e,n,r){return n&&nz(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sz(e){return J5(e)||iz(e)||uz(e)||oz()}function az(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lz(e){var n=az(e,"string");return typeof n=="symbol"?n:n+""}function uz(e,n){if(e){if(typeof e=="string")return Xh(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xh(e,n):void 0}}var cz=123,fz=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},Q1=function(n,r,i){return(n<<16)+(r<<8)+i},hz=function(n){var r=he(n).toRgb(),i=r.r,o=r.g,a=r.b;return Q1(i,o,a)},Ty=function(n,r){return n*cz%Math.pow(2,r)},oi=new WeakMap,tr=new WeakMap,dz=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;tz(this,e),Ey(this,oi,void 0),Ey(this,tr,void 0),Ny(tr,this,n),this.reset()}return rz(e,[{key:"reset",value:function(){Ny(oi,this,["__reserved for background__"])}},{key:"register",value:function(r){if(nn(oi,this).length>=Math.pow(2,24-nn(tr,this)))return null;var i=nn(oi,this).length,o=Ty(i,nn(tr,this)),a=fz(i+(o<<24-nn(tr,this)));return nn(oi,this).push(r),a}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?hz(r):Q1.apply(void 0,sz(r));if(!i)return null;var o=i&Math.pow(2,24-nn(tr,this))-1,a=i>>24-nn(tr,this)&Math.pow(2,nn(tr,this))-1;return Ty(o,nn(tr,this))!==a||o>=nn(oi,this).length?null:nn(oi,this)[o]}}])}(),wa,He,J1,ew,ui,Ly,tw,nw,rw,Ep,Yh,Kh,sa={},iw=[],pz=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Yu=Array.isArray;function Fn(e,n){for(var r in n)e[r]=n[r];return e}function Np(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function mz(e,n,r){var i,o,a,l={};for(a in n)a=="key"?i=n[a]:a=="ref"?o=n[a]:l[a]=n[a];if(arguments.length>2&&(l.children=arguments.length>3?wa.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)l[a]===void 0&&(l[a]=e.defaultProps[a]);return js(e,l,i,o,null)}function js(e,n,r,i,o){var a={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++J1,__i:-1,__u:0};return o==null&&He.vnode!=null&&He.vnode(a),a}function Ku(e){return e.children}function Ol(e,n){this.props=e,this.context=n}function So(e,n){if(n==null)return e.__?So(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?So(e):null}function ow(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return ow(e)}}function jy(e){(!e.__d&&(e.__d=!0)&&ui.push(e)&&!vu.__r++||Ly!=He.debounceRendering)&&((Ly=He.debounceRendering)||tw)(vu)}function vu(){for(var e,n,r,i,o,a,l,c=1;ui.length;)ui.length>c&&ui.sort(nw),e=ui.shift(),c=ui.length,e.__d&&(r=void 0,i=void 0,o=(i=(n=e).__v).__e,a=[],l=[],n.__P&&((r=Fn({},i)).__v=i.__v+1,He.vnode&&He.vnode(r),Tp(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[o]:null,a,o??So(i),!!(32&i.__u),l),r.__v=i.__v,r.__.__k[r.__i]=r,lw(a,r,l),i.__e=i.__=null,r.__e!=o&&ow(r)));vu.__r=0}function sw(e,n,r,i,o,a,l,c,f,h,m){var d,g,y,w,S,P,x,k=i&&i.__k||iw,C=n.length;for(f=gz(r,n,k,f,C),d=0;d<C;d++)(y=r.__k[d])!=null&&(g=y.__i==-1?sa:k[y.__i]||sa,y.__i=d,P=Tp(e,y,g,o,a,l,c,f,h,m),w=y.__e,y.ref&&g.ref!=y.ref&&(g.ref&&Lp(g.ref,null,y),m.push(y.ref,y.__c||w,y)),S==null&&w!=null&&(S=w),(x=!!(4&y.__u))||g.__k===y.__k?f=aw(y,f,e,x):typeof y.type=="function"&&P!==void 0?f=P:w&&(f=w.nextSibling),y.__u&=-7);return r.__e=S,f}function gz(e,n,r,i,o){var a,l,c,f,h,m=r.length,d=m,g=0;for(e.__k=new Array(o),a=0;a<o;a++)(l=n[a])!=null&&typeof l!="boolean"&&typeof l!="function"?(typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?l=e.__k[a]=js(null,l,null,null,null):Yu(l)?l=e.__k[a]=js(Ku,{children:l},null,null,null):l.constructor==null&&l.__b>0?l=e.__k[a]=js(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):e.__k[a]=l,f=a+g,l.__=e,l.__b=e.__b+1,(h=l.__i=yz(l,r,f,d))!=-1&&(d--,(c=r[h])&&(c.__u|=2)),c==null||c.__v==null?(h==-1&&(o>m?g--:o<m&&g++),typeof l.type!="function"&&(l.__u|=4)):h!=f&&(h==f-1?g--:h==f+1?g++:(h>f?g--:g++,l.__u|=4))):e.__k[a]=null;if(d)for(a=0;a<m;a++)(c=r[a])!=null&&!(2&c.__u)&&(c.__e==i&&(i=So(c)),cw(c,c));return i}function aw(e,n,r,i){var o,a;if(typeof e.type=="function"){for(o=e.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=e,n=aw(o[a],n,r,i));return n}e.__e!=n&&(i&&(n&&e.type&&!n.parentNode&&(n=So(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function yz(e,n,r,i){var o,a,l,c=e.key,f=e.type,h=n[r],m=h!=null&&(2&h.__u)==0;if(h===null&&c==null||m&&c==h.key&&f==h.type)return r;if(i>(m?1:0)){for(o=r-1,a=r+1;o>=0||a<n.length;)if((h=n[l=o>=0?o--:a++])!=null&&!(2&h.__u)&&c==h.key&&f==h.type)return l}return-1}function My(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||pz.test(n)?r:r+"px"}function ml(e,n,r,i,o){var a,l;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(n in i)r&&n in r||My(e.style,n,"");if(r)for(n in r)i&&r[n]==i[n]||My(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")a=n!=(n=n.replace(rw,"$1")),l=n.toLowerCase(),n=l in e||n=="onFocusOut"||n=="onFocusIn"?l.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+a]=r,r?i?r.u=i.u:(r.u=Ep,e.addEventListener(n,a?Kh:Yh,a)):e.removeEventListener(n,a?Kh:Yh,a);else{if(o=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function zy(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=Ep++;else if(n.t<r.u)return;return r(He.event?He.event(n):n)}}}function Tp(e,n,r,i,o,a,l,c,f,h){var m,d,g,y,w,S,P,x,k,C,N,M,T,z,A,$,F,H=n.type;if(n.constructor!=null)return null;128&r.__u&&(f=!!(32&r.__u),a=[c=n.__e=r.__e]),(m=He.__b)&&m(n);e:if(typeof H=="function")try{if(x=n.props,k="prototype"in H&&H.prototype.render,C=(m=H.contextType)&&i[m.__c],N=m?C?C.props.value:m.__:i,r.__c?P=(d=n.__c=r.__c).__=d.__E:(k?n.__c=d=new H(x,N):(n.__c=d=new Ol(x,N),d.constructor=H,d.render=_z),C&&C.sub(d),d.state||(d.state={}),d.__n=i,g=d.__d=!0,d.__h=[],d._sb=[]),k&&d.__s==null&&(d.__s=d.state),k&&H.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Fn({},d.__s)),Fn(d.__s,H.getDerivedStateFromProps(x,d.__s))),y=d.props,w=d.state,d.__v=n,g)k&&H.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),k&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(k&&H.getDerivedStateFromProps==null&&x!==y&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(x,N),n.__v==r.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(x,d.__s,N)===!1){for(n.__v!=r.__v&&(d.props=x,d.state=d.__s,d.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(U){U&&(U.__=n)}),M=0;M<d._sb.length;M++)d.__h.push(d._sb[M]);d._sb=[],d.__h.length&&l.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(x,d.__s,N),k&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(y,w,S)})}if(d.context=N,d.props=x,d.__P=e,d.__e=!1,T=He.__r,z=0,k){for(d.state=d.__s,d.__d=!1,T&&T(n),m=d.render(d.props,d.state,d.context),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[]}else do d.__d=!1,T&&T(n),m=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++z<25);d.state=d.__s,d.getChildContext!=null&&(i=Fn(Fn({},i),d.getChildContext())),k&&!g&&d.getSnapshotBeforeUpdate!=null&&(S=d.getSnapshotBeforeUpdate(y,w)),$=m,m!=null&&m.type===Ku&&m.key==null&&($=uw(m.props.children)),c=sw(e,Yu($)?$:[$],n,r,i,o,a,l,c,f,h),d.base=n.__e,n.__u&=-161,d.__h.length&&l.push(d),P&&(d.__E=d.__=null)}catch(U){if(n.__v=null,f||a!=null)if(U.then){for(n.__u|=f?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,n.__e=c}else{for(F=a.length;F--;)Np(a[F]);Qh(n)}else n.__e=r.__e,n.__k=r.__k,U.then||Qh(n);He.__e(U,n,r)}else a==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):c=n.__e=vz(r.__e,n,r,i,o,a,l,f,h);return(m=He.diffed)&&m(n),128&n.__u?void 0:c}function Qh(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Qh)}function lw(e,n,r){for(var i=0;i<r.length;i++)Lp(r[i],r[++i],r[++i]);He.__c&&He.__c(n,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(a){a.call(o)})}catch(a){He.__e(a,o.__v)}})}function uw(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Yu(e)?e.map(uw):Fn({},e)}function vz(e,n,r,i,o,a,l,c,f){var h,m,d,g,y,w,S,P=r.props||sa,x=n.props,k=n.type;if(k=="svg"?o="http://www.w3.org/2000/svg":k=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(h=0;h<a.length;h++)if((y=a[h])&&"setAttribute"in y==!!k&&(k?y.localName==k:y.nodeType==3)){e=y,a[h]=null;break}}if(e==null){if(k==null)return document.createTextNode(x);e=document.createElementNS(o,k,x.is&&x),c&&(He.__m&&He.__m(n,a),c=!1),a=null}if(k==null)P===x||c&&e.data==x||(e.data=x);else{if(a=a&&wa.call(e.childNodes),!c&&a!=null)for(P={},h=0;h<e.attributes.length;h++)P[(y=e.attributes[h]).name]=y.value;for(h in P)if(y=P[h],h!="children"){if(h=="dangerouslySetInnerHTML")d=y;else if(!(h in x)){if(h=="value"&&"defaultValue"in x||h=="checked"&&"defaultChecked"in x)continue;ml(e,h,null,y,o)}}for(h in x)y=x[h],h=="children"?g=y:h=="dangerouslySetInnerHTML"?m=y:h=="value"?w=y:h=="checked"?S=y:c&&typeof y!="function"||P[h]===y||ml(e,h,y,P[h],o);if(m)c||d&&(m.__html==d.__html||m.__html==e.innerHTML)||(e.innerHTML=m.__html),n.__k=[];else if(d&&(e.innerHTML=""),sw(n.type=="template"?e.content:e,Yu(g)?g:[g],n,r,i,k=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,l,a?a[0]:r.__k&&So(r,0),c,f),a!=null)for(h=a.length;h--;)Np(a[h]);c||(h="value",k=="progress"&&w==null?e.removeAttribute("value"):w!=null&&(w!==e[h]||k=="progress"&&!w||k=="option"&&w!=P[h])&&ml(e,h,w,P[h],o),h="checked",S!=null&&S!=e[h]&&ml(e,h,S,P[h],o))}return e}function Lp(e,n,r){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&n==null||(e.__u=e(n))}else e.current=n}catch(o){He.__e(o,r)}}function cw(e,n,r){var i,o;if(He.unmount&&He.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||Lp(i,null,n)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){He.__e(a,n)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&cw(i[o],n,r||typeof e.type!="function");r||Np(e.__e),e.__c=e.__=e.__e=void 0}function _z(e,n,r){return this.constructor(e,r)}function xz(e,n,r){var i,o,a,l;n==document&&(n=document.documentElement),He.__&&He.__(e,n),o=(i=!1)?null:n.__k,a=[],l=[],Tp(n,e=n.__k=mz(Ku,null,[e]),o||sa,sa,n.namespaceURI,o?null:n.firstChild?wa.call(n.childNodes):null,a,o?o.__e:n.firstChild,i,l),lw(a,e,l)}function fw(e,n,r){var i,o,a,l,c=Fn({},e.props);for(a in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),n)a=="key"?i=n[a]:a=="ref"?o=n[a]:c[a]=n[a]===void 0&&l!=null?l[a]:n[a];return arguments.length>2&&(c.children=arguments.length>3?wa.call(arguments,2):r),js(e.type,c,i||e.key,o||e.ref,null)}wa=iw.slice,He={__e:function(e,n,r,i){for(var o,a,l;n=n.__;)if((o=n.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(e)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,i||{}),l=o.__d),l)return o.__E=o}catch(c){e=c}throw e}},J1=0,ew=function(e){return e!=null&&e.constructor==null},Ol.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Fn({},this.state),typeof e=="function"&&(e=e(Fn({},r),this.props)),e&&Fn(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),jy(this))},Ol.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),jy(this))},Ol.prototype.render=Ku,ui=[],tw=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nw=function(e,n){return e.__v.__b-n.__v.__b},vu.__r=0,rw=/(PointerCapture)$|Capture$/i,Ep=0,Yh=zy(!1),Kh=zy(!0);function Ay(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function wz(e){if(Array.isArray(e))return e}function bz(e,n,r){return(n=Nz(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function kz(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,c=[],f=!0,h=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(f=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);f=!0);}catch(m){h=!0,o=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}function Sz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oy(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Cz(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Oy(Object(r),!0).forEach(function(i){bz(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oy(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Pz(e,n){return wz(e)||kz(e,n)||Tz(e,n)||Sz()}function Ez(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Nz(e){var n=Ez(e,"string");return typeof n=="symbol"?n:n+""}function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_u(e)}function Tz(e,n){if(e){if(typeof e=="string")return Ay(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ay(e,n):void 0}}var Jh=function(n){if(_u(n)!=="object")return n;var r=fw(n);if(r.props){var i;r.props=Cz({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(Jh):Jh(r.props.children))}return r},Lz=function(n){return ew(fw(n))},jz=function(n,r){delete r.__k,xz(Jh(n),r)};function Mz(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var zz=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Mz(zz);var Az=Pp({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.style,a=o===void 0?{}:o,l=!!n&&_u(n)==="object"&&!!n.node&&typeof n.node=="function",c=ln(l?n.node():n);c.style("position")==="static"&&c.style("position","relative"),r.tooltipEl=c.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(h){var m=Pz(h,2),d=m[0],g=m[1];return r.tooltipEl.style(d,g)}),r.tooltipEl.style("left","-10000px").style("display","none");var f="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,c.on("mousemove.".concat(f),function(h){r.mouseInside=!0;var m=In(h),d=c.node(),g=d.offsetWidth,y=d.offsetHeight,w=[r.offsetX===null||r.offsetX===void 0?"-".concat(m[0]/g*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?y>130&&y-m[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",m[0]+"px").style("top",m[1]+"px").style("transform","translate(".concat(w.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseover.".concat(f),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseout.".concat(f),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):Lz(n.content)?(n.tooltipEl.text(""),jz(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function Oz(e,n,r){var i,o=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function a(){var l,c=i.length,f,h=0,m=0,d=0;for(l=0;l<c;++l)f=i[l],h+=f.x||0,m+=f.y||0,d+=f.z||0;for(h=(h/c-e)*o,m=(m/c-n)*o,d=(d/c-r)*o,l=0;l<c;++l)f=i[l],h&&(f.x-=h),m&&(f.y-=m),d&&(f.z-=d)}return a.initialize=function(l){i=l},a.x=function(l){return arguments.length?(e=+l,a):e},a.y=function(l){return arguments.length?(n=+l,a):n},a.z=function(l){return arguments.length?(r=+l,a):r},a.strength=function(l){return arguments.length?(o=+l,a):o},a}function Iz(e){const n=+this._x.call(null,e);return hw(this.cover(n),n,e)}function hw(e,n,r){if(isNaN(n))return e;var i,o=e._root,a={data:r},l=e._x0,c=e._x1,f,h,m,d,g;if(!o)return e._root=a,e;for(;o.length;)if((m=n>=(f=(l+c)/2))?l=f:c=f,i=o,!(o=o[d=+m]))return i[d]=a,e;if(h=+e._x.call(null,o.data),n===h)return a.next=o,i?i[d]=a:e._root=a,e;do i=i?i[d]=new Array(2):e._root=new Array(2),(m=n>=(f=(l+c)/2))?l=f:c=f;while((d=+m)==(g=+(h>=f)));return i[g]=o,i[d]=a,e}function Rz(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let i=1/0,o=-1/0;for(let a=0,l;a<n;++a)isNaN(l=+this._x.call(null,e[a]))||(r[a]=l,l<i&&(i=l),l>o&&(o=l));if(i>o)return this;this.cover(i).cover(o);for(let a=0;a<n;++a)hw(this,r[a],e[a]);return this}function Dz(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var i=r-n||1,o=this._root,a,l;n>e||e>=r;)switch(l=+(e<n),a=new Array(2),a[l]=o,o=a,i*=2,l){case 0:r=n+i;break;case 1:n=r-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._x1=r,this}function Fz(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Bz(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function fr(e,n,r){this.node=e,this.x0=n,this.x1=r}function Uz(e,n){var r,i=this._x0,o,a,l=this._x1,c=[],f=this._root,h,m;for(f&&c.push(new fr(f,i,l)),n==null?n=1/0:(i=e-n,l=e+n);h=c.pop();)if(!(!(f=h.node)||(o=h.x0)>l||(a=h.x1)<i))if(f.length){var d=(o+a)/2;c.push(new fr(f[1],d,a),new fr(f[0],o,d)),(m=+(e>=d))&&(h=c[c.length-1],c[c.length-1]=c[c.length-1-m],c[c.length-1-m]=h)}else{var g=Math.abs(e-+this._x.call(null,f.data));g<n&&(n=g,i=e-g,l=e+g,r=f.data)}return r}function $z(e){if(isNaN(f=+this._x.call(null,e)))return this;var n,r=this._root,i,o,a,l=this._x0,c=this._x1,f,h,m,d,g;if(!r)return this;if(r.length)for(;;){if((m=f>=(h=(l+c)/2))?l=h:c=h,n=r,!(r=r[d=+m]))return this;if(!r.length)break;n[d+1&1]&&(i=n,g=d)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[d]=a:delete n[d],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(i?i[g]=r:this._root=r),this):(this._root=a,this)}function Hz(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Zz(){return this._root}function Wz(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Vz(e){var n=[],r,i=this._root,o,a,l;for(i&&n.push(new fr(i,this._x0,this._x1));r=n.pop();)if(!e(i=r.node,a=r.x0,l=r.x1)&&i.length){var c=(a+l)/2;(o=i[1])&&n.push(new fr(o,c,l)),(o=i[0])&&n.push(new fr(o,a,c))}return this}function qz(e){var n=[],r=[],i;for(this._root&&n.push(new fr(this._root,this._x0,this._x1));i=n.pop();){var o=i.node;if(o.length){var a,l=i.x0,c=i.x1,f=(l+c)/2;(a=o[0])&&n.push(new fr(a,l,f)),(a=o[1])&&n.push(new fr(a,f,c))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.x1);return this}function Gz(e){return e[0]}function Xz(e){return arguments.length?(this._x=e,this):this._x}function dw(e,n){var r=new jp(n??Gz,NaN,NaN);return e==null?r:r.addAll(e)}function jp(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function Iy(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Bt=dw.prototype=jp.prototype;Bt.copy=function(){var e=new jp(this._x,this._x0,this._x1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=Iy(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var o=0;o<2;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(2)}):n.target[o]=Iy(i));return e};Bt.add=Iz;Bt.addAll=Rz;Bt.cover=Dz;Bt.data=Fz;Bt.extent=Bz;Bt.find=Uz;Bt.remove=$z;Bt.removeAll=Hz;Bt.root=Zz;Bt.size=Wz;Bt.visit=Vz;Bt.visitAfter=qz;Bt.x=Xz;function Yz(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return pw(this.cover(n,r),n,r,e)}function pw(e,n,r,i){if(isNaN(n)||isNaN(r))return e;var o,a=e._root,l={data:i},c=e._x0,f=e._y0,h=e._x1,m=e._y1,d,g,y,w,S,P,x,k;if(!a)return e._root=l,e;for(;a.length;)if((S=n>=(d=(c+h)/2))?c=d:h=d,(P=r>=(g=(f+m)/2))?f=g:m=g,o=a,!(a=a[x=P<<1|S]))return o[x]=l,e;if(y=+e._x.call(null,a.data),w=+e._y.call(null,a.data),n===y&&r===w)return l.next=a,o?o[x]=l:e._root=l,e;do o=o?o[x]=new Array(4):e._root=new Array(4),(S=n>=(d=(c+h)/2))?c=d:h=d,(P=r>=(g=(f+m)/2))?f=g:m=g;while((x=P<<1|S)===(k=(w>=g)<<1|y>=d));return o[k]=a,o[x]=l,e}function Kz(e){var n,r,i=e.length,o,a,l=new Array(i),c=new Array(i),f=1/0,h=1/0,m=-1/0,d=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,n=e[r]))||isNaN(a=+this._y.call(null,n))||(l[r]=o,c[r]=a,o<f&&(f=o),o>m&&(m=o),a<h&&(h=a),a>d&&(d=a));if(f>m||h>d)return this;for(this.cover(f,h).cover(m,d),r=0;r<i;++r)pw(this,l[r],c[r],e[r]);return this}function Qz(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(r))o=(r=Math.floor(e))+1,a=(i=Math.floor(n))+1;else{for(var l=o-r||1,c=this._root,f,h;r>e||e>=o||i>n||n>=a;)switch(h=(n<i)<<1|e<r,f=new Array(4),f[h]=c,c=f,l*=2,h){case 0:o=r+l,a=i+l;break;case 1:r=o-l,a=i+l;break;case 2:o=r+l,i=a-l;break;case 3:r=o-l,i=a-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=i,this._x1=o,this._y1=a,this}function Jz(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function eA(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function St(e,n,r,i,o){this.node=e,this.x0=n,this.y0=r,this.x1=i,this.y1=o}function tA(e,n,r){var i,o=this._x0,a=this._y0,l,c,f,h,m=this._x1,d=this._y1,g=[],y=this._root,w,S;for(y&&g.push(new St(y,o,a,m,d)),r==null?r=1/0:(o=e-r,a=n-r,m=e+r,d=n+r,r*=r);w=g.pop();)if(!(!(y=w.node)||(l=w.x0)>m||(c=w.y0)>d||(f=w.x1)<o||(h=w.y1)<a))if(y.length){var P=(l+f)/2,x=(c+h)/2;g.push(new St(y[3],P,x,f,h),new St(y[2],l,x,P,h),new St(y[1],P,c,f,x),new St(y[0],l,c,P,x)),(S=(n>=x)<<1|e>=P)&&(w=g[g.length-1],g[g.length-1]=g[g.length-1-S],g[g.length-1-S]=w)}else{var k=e-+this._x.call(null,y.data),C=n-+this._y.call(null,y.data),N=k*k+C*C;if(N<r){var M=Math.sqrt(r=N);o=e-M,a=n-M,m=e+M,d=n+M,i=y.data}}return i}function nA(e){if(isNaN(m=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var n,r=this._root,i,o,a,l=this._x0,c=this._y0,f=this._x1,h=this._y1,m,d,g,y,w,S,P,x;if(!r)return this;if(r.length)for(;;){if((w=m>=(g=(l+f)/2))?l=g:f=g,(S=d>=(y=(c+h)/2))?c=y:h=y,n=r,!(r=r[P=S<<1|w]))return this;if(!r.length)break;(n[P+1&3]||n[P+2&3]||n[P+3&3])&&(i=n,x=P)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[P]=a:delete n[P],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[x]=r:this._root=r),this):(this._root=a,this)}function rA(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function iA(){return this._root}function oA(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function sA(e){var n=[],r,i=this._root,o,a,l,c,f;for(i&&n.push(new St(i,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(i=r.node,a=r.x0,l=r.y0,c=r.x1,f=r.y1)&&i.length){var h=(a+c)/2,m=(l+f)/2;(o=i[3])&&n.push(new St(o,h,m,c,f)),(o=i[2])&&n.push(new St(o,a,m,h,f)),(o=i[1])&&n.push(new St(o,h,l,c,m)),(o=i[0])&&n.push(new St(o,a,l,h,m))}return this}function aA(e){var n=[],r=[],i;for(this._root&&n.push(new St(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var o=i.node;if(o.length){var a,l=i.x0,c=i.y0,f=i.x1,h=i.y1,m=(l+f)/2,d=(c+h)/2;(a=o[0])&&n.push(new St(a,l,c,m,d)),(a=o[1])&&n.push(new St(a,m,c,f,d)),(a=o[2])&&n.push(new St(a,l,d,m,h)),(a=o[3])&&n.push(new St(a,m,d,f,h))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function lA(e){return e[0]}function uA(e){return arguments.length?(this._x=e,this):this._x}function cA(e){return e[1]}function fA(e){return arguments.length?(this._y=e,this):this._y}function mw(e,n,r){var i=new Mp(n??lA,r??cA,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Mp(e,n,r,i,o,a){this._x=e,this._y=n,this._x0=r,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function Ry(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Nt=mw.prototype=Mp.prototype;Nt.copy=function(){var e=new Mp(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=Ry(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var o=0;o<4;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(4)}):n.target[o]=Ry(i));return e};Nt.add=Yz;Nt.addAll=Kz;Nt.cover=Qz;Nt.data=Jz;Nt.extent=eA;Nt.find=tA;Nt.remove=nA;Nt.removeAll=rA;Nt.root=iA;Nt.size=oA;Nt.visit=sA;Nt.visitAfter=aA;Nt.x=uA;Nt.y=fA;function hA(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),i=+this._z.call(null,e);return gw(this.cover(n,r,i),n,r,i,e)}function gw(e,n,r,i,o){if(isNaN(n)||isNaN(r)||isNaN(i))return e;var a,l=e._root,c={data:o},f=e._x0,h=e._y0,m=e._z0,d=e._x1,g=e._y1,y=e._z1,w,S,P,x,k,C,N,M,T,z,A;if(!l)return e._root=c,e;for(;l.length;)if((N=n>=(w=(f+d)/2))?f=w:d=w,(M=r>=(S=(h+g)/2))?h=S:g=S,(T=i>=(P=(m+y)/2))?m=P:y=P,a=l,!(l=l[z=T<<2|M<<1|N]))return a[z]=c,e;if(x=+e._x.call(null,l.data),k=+e._y.call(null,l.data),C=+e._z.call(null,l.data),n===x&&r===k&&i===C)return c.next=l,a?a[z]=c:e._root=c,e;do a=a?a[z]=new Array(8):e._root=new Array(8),(N=n>=(w=(f+d)/2))?f=w:d=w,(M=r>=(S=(h+g)/2))?h=S:g=S,(T=i>=(P=(m+y)/2))?m=P:y=P;while((z=T<<2|M<<1|N)===(A=(C>=P)<<2|(k>=S)<<1|x>=w));return a[A]=l,a[z]=c,e}function dA(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),i=new Float64Array(n),o=new Float64Array(n);let a=1/0,l=1/0,c=1/0,f=-1/0,h=-1/0,m=-1/0;for(let d=0,g,y,w,S;d<n;++d)isNaN(y=+this._x.call(null,g=e[d]))||isNaN(w=+this._y.call(null,g))||isNaN(S=+this._z.call(null,g))||(r[d]=y,i[d]=w,o[d]=S,y<a&&(a=y),y>f&&(f=y),w<l&&(l=w),w>h&&(h=w),S<c&&(c=S),S>m&&(m=S));if(a>f||l>h||c>m)return this;this.cover(a,l,c).cover(f,h,m);for(let d=0;d<n;++d)gw(this,r[d],i[d],o[d],e[d]);return this}function pA(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,a=this._z0,l=this._x1,c=this._y1,f=this._z1;if(isNaN(i))l=(i=Math.floor(e))+1,c=(o=Math.floor(n))+1,f=(a=Math.floor(r))+1;else{for(var h=l-i||1,m=this._root,d,g;i>e||e>=l||o>n||n>=c||a>r||r>=f;)switch(g=(r<a)<<2|(n<o)<<1|e<i,d=new Array(8),d[g]=m,m=d,h*=2,g){case 0:l=i+h,c=o+h,f=a+h;break;case 1:i=l-h,c=o+h,f=a+h;break;case 2:l=i+h,o=c-h,f=a+h;break;case 3:i=l-h,o=c-h,f=a+h;break;case 4:l=i+h,c=o+h,a=f-h;break;case 5:i=l-h,c=o+h,a=f-h;break;case 6:l=i+h,o=c-h,a=f-h;break;case 7:i=l-h,o=c-h,a=f-h;break}this._root&&this._root.length&&(this._root=m)}return this._x0=i,this._y0=o,this._z0=a,this._x1=l,this._y1=c,this._z1=f,this}function mA(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function gA(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ze(e,n,r,i,o,a,l){this.node=e,this.x0=n,this.y0=r,this.z0=i,this.x1=o,this.y1=a,this.z1=l}function yA(e,n,r,i){var o,a=this._x0,l=this._y0,c=this._z0,f,h,m,d,g,y,w=this._x1,S=this._y1,P=this._z1,x=[],k=this._root,C,N;for(k&&x.push(new ze(k,a,l,c,w,S,P)),i==null?i=1/0:(a=e-i,l=n-i,c=r-i,w=e+i,S=n+i,P=r+i,i*=i);C=x.pop();)if(!(!(k=C.node)||(f=C.x0)>w||(h=C.y0)>S||(m=C.z0)>P||(d=C.x1)<a||(g=C.y1)<l||(y=C.z1)<c))if(k.length){var M=(f+d)/2,T=(h+g)/2,z=(m+y)/2;x.push(new ze(k[7],M,T,z,d,g,y),new ze(k[6],f,T,z,M,g,y),new ze(k[5],M,h,z,d,T,y),new ze(k[4],f,h,z,M,T,y),new ze(k[3],M,T,m,d,g,z),new ze(k[2],f,T,m,M,g,z),new ze(k[1],M,h,m,d,T,z),new ze(k[0],f,h,m,M,T,z)),(N=(r>=z)<<2|(n>=T)<<1|e>=M)&&(C=x[x.length-1],x[x.length-1]=x[x.length-1-N],x[x.length-1-N]=C)}else{var A=e-+this._x.call(null,k.data),$=n-+this._y.call(null,k.data),F=r-+this._z.call(null,k.data),H=A*A+$*$+F*F;if(H<i){var U=Math.sqrt(i=H);a=e-U,l=n-U,c=r-U,w=e+U,S=n+U,P=r+U,o=k.data}}return o}const vA=(e,n,r,i,o,a)=>Math.sqrt((e-i)**2+(n-o)**2+(r-a)**2);function _A(e,n,r,i){const o=[],a=e-i,l=n-i,c=r-i,f=e+i,h=n+i,m=r+i;return this.visit((d,g,y,w,S,P,x)=>{if(!d.length)do{const k=d.data;vA(e,n,r,this._x(k),this._y(k),this._z(k))<=i&&o.push(k)}while(d=d.next);return g>f||y>h||w>m||S<a||P<l||x<c}),o}function xA(e){if(isNaN(g=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e))||isNaN(w=+this._z.call(null,e)))return this;var n,r=this._root,i,o,a,l=this._x0,c=this._y0,f=this._z0,h=this._x1,m=this._y1,d=this._z1,g,y,w,S,P,x,k,C,N,M,T;if(!r)return this;if(r.length)for(;;){if((k=g>=(S=(l+h)/2))?l=S:h=S,(C=y>=(P=(c+m)/2))?c=P:m=P,(N=w>=(x=(f+d)/2))?f=x:d=x,n=r,!(r=r[M=N<<2|C<<1|k]))return this;if(!r.length)break;(n[M+1&7]||n[M+2&7]||n[M+3&7]||n[M+4&7]||n[M+5&7]||n[M+6&7]||n[M+7&7])&&(i=n,T=M)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[M]=a:delete n[M],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[T]=r:this._root=r),this):(this._root=a,this)}function wA(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function bA(){return this._root}function kA(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function SA(e){var n=[],r,i=this._root,o,a,l,c,f,h,m;for(i&&n.push(new ze(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(i=r.node,a=r.x0,l=r.y0,c=r.z0,f=r.x1,h=r.y1,m=r.z1)&&i.length){var d=(a+f)/2,g=(l+h)/2,y=(c+m)/2;(o=i[7])&&n.push(new ze(o,d,g,y,f,h,m)),(o=i[6])&&n.push(new ze(o,a,g,y,d,h,m)),(o=i[5])&&n.push(new ze(o,d,l,y,f,g,m)),(o=i[4])&&n.push(new ze(o,a,l,y,d,g,m)),(o=i[3])&&n.push(new ze(o,d,g,c,f,h,y)),(o=i[2])&&n.push(new ze(o,a,g,c,d,h,y)),(o=i[1])&&n.push(new ze(o,d,l,c,f,g,y)),(o=i[0])&&n.push(new ze(o,a,l,c,d,g,y))}return this}function CA(e){var n=[],r=[],i;for(this._root&&n.push(new ze(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=n.pop();){var o=i.node;if(o.length){var a,l=i.x0,c=i.y0,f=i.z0,h=i.x1,m=i.y1,d=i.z1,g=(l+h)/2,y=(c+m)/2,w=(f+d)/2;(a=o[0])&&n.push(new ze(a,l,c,f,g,y,w)),(a=o[1])&&n.push(new ze(a,g,c,f,h,y,w)),(a=o[2])&&n.push(new ze(a,l,y,f,g,m,w)),(a=o[3])&&n.push(new ze(a,g,y,f,h,m,w)),(a=o[4])&&n.push(new ze(a,l,c,w,g,y,d)),(a=o[5])&&n.push(new ze(a,g,c,w,h,y,d)),(a=o[6])&&n.push(new ze(a,l,y,w,g,m,d)),(a=o[7])&&n.push(new ze(a,g,y,w,h,m,d))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function PA(e){return e[0]}function EA(e){return arguments.length?(this._x=e,this):this._x}function NA(e){return e[1]}function TA(e){return arguments.length?(this._y=e,this):this._y}function LA(e){return e[2]}function jA(e){return arguments.length?(this._z=e,this):this._z}function yw(e,n,r,i){var o=new zp(n??PA,r??NA,i??LA,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function zp(e,n,r,i,o,a,l,c,f){this._x=e,this._y=n,this._z=r,this._x0=i,this._y0=o,this._z0=a,this._x1=l,this._y1=c,this._z1=f,this._root=void 0}function Dy(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var dt=yw.prototype=zp.prototype;dt.copy=function(){var e=new zp(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=Dy(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var o=0;o<8;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(8)}):n.target[o]=Dy(i));return e};dt.add=hA;dt.addAll=dA;dt.cover=pA;dt.data=mA;dt.extent=gA;dt.find=yA;dt.findAllWithinRadius=_A;dt.remove=xA;dt.removeAll=wA;dt.root=bA;dt.size=kA;dt.visit=SA;dt.visitAfter=CA;dt.x=EA;dt.y=TA;dt.z=jA;function ur(e){return function(){return e}}function or(e){return(e()-.5)*1e-6}function MA(e){return e.index}function Fy(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function zA(e){var n=MA,r=g,i,o=ur(30),a,l,c,f,h,m,d=1;e==null&&(e=[]);function g(x){return 1/Math.min(f[x.source.index],f[x.target.index])}function y(x){for(var k=0,C=e.length;k<d;++k)for(var N=0,M,T,z,A=0,$=0,F=0,H,U;N<C;++N)M=e[N],T=M.source,z=M.target,A=z.x+z.vx-T.x-T.vx||or(m),c>1&&($=z.y+z.vy-T.y-T.vy||or(m)),c>2&&(F=z.z+z.vz-T.z-T.vz||or(m)),H=Math.sqrt(A*A+$*$+F*F),H=(H-a[N])/H*x*i[N],A*=H,$*=H,F*=H,z.vx-=A*(U=h[N]),c>1&&(z.vy-=$*U),c>2&&(z.vz-=F*U),T.vx+=A*(U=1-U),c>1&&(T.vy+=$*U),c>2&&(T.vz+=F*U)}function w(){if(l){var x,k=l.length,C=e.length,N=new Map(l.map((T,z)=>[n(T,z,l),T])),M;for(x=0,f=new Array(k);x<C;++x)M=e[x],M.index=x,typeof M.source!="object"&&(M.source=Fy(N,M.source)),typeof M.target!="object"&&(M.target=Fy(N,M.target)),f[M.source.index]=(f[M.source.index]||0)+1,f[M.target.index]=(f[M.target.index]||0)+1;for(x=0,h=new Array(C);x<C;++x)M=e[x],h[x]=f[M.source.index]/(f[M.source.index]+f[M.target.index]);i=new Array(C),S(),a=new Array(C),P()}}function S(){if(l)for(var x=0,k=e.length;x<k;++x)i[x]=+r(e[x],x,e)}function P(){if(l)for(var x=0,k=e.length;x<k;++x)a[x]=+o(e[x],x,e)}return y.initialize=function(x,...k){l=x,m=k.find(C=>typeof C=="function")||Math.random,c=k.find(C=>[1,2,3].includes(C))||2,w()},y.links=function(x){return arguments.length?(e=x,w(),y):e},y.id=function(x){return arguments.length?(n=x,y):n},y.iterations=function(x){return arguments.length?(d=+x,y):d},y.strength=function(x){return arguments.length?(r=typeof x=="function"?x:ur(+x),S(),y):r},y.distance=function(x){return arguments.length?(o=typeof x=="function"?x:ur(+x),P(),y):o},y}const AA=1664525,OA=1013904223,By=4294967296;function IA(){let e=1;return()=>(e=(AA*e+OA)%By)/By}var Uy=3;function xf(e){return e.x}function $y(e){return e.y}function RA(e){return e.z}var DA=10,FA=Math.PI*(3-Math.sqrt(5)),BA=Math.PI*20/(9+Math.sqrt(221));function UA(e,n){n=n||2;var r=Math.min(Uy,Math.max(1,Math.round(n))),i,o=1,a=.001,l=1-Math.pow(a,1/300),c=0,f=.6,h=new Map,m=bp(y),d=_a("tick","end"),g=IA();e==null&&(e=[]);function y(){w(),d.call("tick",i),o<a&&(m.stop(),d.call("end",i))}function w(x){var k,C=e.length,N;x===void 0&&(x=1);for(var M=0;M<x;++M)for(o+=(c-o)*l,h.forEach(function(T){T(o)}),k=0;k<C;++k)N=e[k],N.fx==null?N.x+=N.vx*=f:(N.x=N.fx,N.vx=0),r>1&&(N.fy==null?N.y+=N.vy*=f:(N.y=N.fy,N.vy=0)),r>2&&(N.fz==null?N.z+=N.vz*=f:(N.z=N.fz,N.vz=0));return i}function S(){for(var x=0,k=e.length,C;x<k;++x){if(C=e[x],C.index=x,C.fx!=null&&(C.x=C.fx),C.fy!=null&&(C.y=C.fy),C.fz!=null&&(C.z=C.fz),isNaN(C.x)||r>1&&isNaN(C.y)||r>2&&isNaN(C.z)){var N=DA*(r>2?Math.cbrt(.5+x):r>1?Math.sqrt(.5+x):x),M=x*FA,T=x*BA;r===1?C.x=N:r===2?(C.x=N*Math.cos(M),C.y=N*Math.sin(M)):(C.x=N*Math.sin(M)*Math.cos(T),C.y=N*Math.cos(M),C.z=N*Math.sin(M)*Math.sin(T))}(isNaN(C.vx)||r>1&&isNaN(C.vy)||r>2&&isNaN(C.vz))&&(C.vx=0,r>1&&(C.vy=0),r>2&&(C.vz=0))}}function P(x){return x.initialize&&x.initialize(e,g,r),x}return S(),i={tick:w,restart:function(){return m.restart(y),i},stop:function(){return m.stop(),i},numDimensions:function(x){return arguments.length?(r=Math.min(Uy,Math.max(1,Math.round(x))),h.forEach(P),i):r},nodes:function(x){return arguments.length?(e=x,S(),h.forEach(P),i):e},alpha:function(x){return arguments.length?(o=+x,i):o},alphaMin:function(x){return arguments.length?(a=+x,i):a},alphaDecay:function(x){return arguments.length?(l=+x,i):+l},alphaTarget:function(x){return arguments.length?(c=+x,i):c},velocityDecay:function(x){return arguments.length?(f=1-x,i):1-f},randomSource:function(x){return arguments.length?(g=x,h.forEach(P),i):g},force:function(x,k){return arguments.length>1?(k==null?h.delete(x):h.set(x,P(k)),i):h.get(x)},find:function(){var x=Array.prototype.slice.call(arguments),k=x.shift()||0,C=(r>1?x.shift():null)||0,N=(r>2?x.shift():null)||0,M=x.shift()||1/0,T=0,z=e.length,A,$,F,H,U,Y;for(M*=M,T=0;T<z;++T)U=e[T],A=k-U.x,$=C-(U.y||0),F=N-(U.z||0),H=A*A+$*$+F*F,H<M&&(Y=U,M=H);return Y},on:function(x,k){return arguments.length>1?(d.on(x,k),i):d.on(x)}}}function $A(){var e,n,r,i,o,a=ur(-30),l,c=1,f=1/0,h=.81;function m(w){var S,P=e.length,x=(n===1?dw(e,xf):n===2?mw(e,xf,$y):n===3?yw(e,xf,$y,RA):null).visitAfter(g);for(o=w,S=0;S<P;++S)r=e[S],x.visit(y)}function d(){if(e){var w,S=e.length,P;for(l=new Array(S),w=0;w<S;++w)P=e[w],l[P.index]=+a(P,w,e)}}function g(w){var S=0,P,x,k=0,C,N,M,T,z=w.length;if(z){for(C=N=M=T=0;T<z;++T)(P=w[T])&&(x=Math.abs(P.value))&&(S+=P.value,k+=x,C+=x*(P.x||0),N+=x*(P.y||0),M+=x*(P.z||0));S*=Math.sqrt(4/z),w.x=C/k,n>1&&(w.y=N/k),n>2&&(w.z=M/k)}else{P=w,P.x=P.data.x,n>1&&(P.y=P.data.y),n>2&&(P.z=P.data.z);do S+=l[P.data.index];while(P=P.next)}w.value=S}function y(w,S,P,x,k){if(!w.value)return!0;var C=[P,x,k][n-1],N=w.x-r.x,M=n>1?w.y-r.y:0,T=n>2?w.z-r.z:0,z=C-S,A=N*N+M*M+T*T;if(z*z/h<A)return A<f&&(N===0&&(N=or(i),A+=N*N),n>1&&M===0&&(M=or(i),A+=M*M),n>2&&T===0&&(T=or(i),A+=T*T),A<c&&(A=Math.sqrt(c*A)),r.vx+=N*w.value*o/A,n>1&&(r.vy+=M*w.value*o/A),n>2&&(r.vz+=T*w.value*o/A)),!0;if(w.length||A>=f)return;(w.data!==r||w.next)&&(N===0&&(N=or(i),A+=N*N),n>1&&M===0&&(M=or(i),A+=M*M),n>2&&T===0&&(T=or(i),A+=T*T),A<c&&(A=Math.sqrt(c*A)));do w.data!==r&&(z=l[w.data.index]*o/A,r.vx+=N*z,n>1&&(r.vy+=M*z),n>2&&(r.vz+=T*z));while(w=w.next)}return m.initialize=function(w,...S){e=w,i=S.find(P=>typeof P=="function")||Math.random,n=S.find(P=>[1,2,3].includes(P))||2,d()},m.strength=function(w){return arguments.length?(a=typeof w=="function"?w:ur(+w),d(),m):a},m.distanceMin=function(w){return arguments.length?(c=w*w,m):Math.sqrt(c)},m.distanceMax=function(w){return arguments.length?(f=w*w,m):Math.sqrt(f)},m.theta=function(w){return arguments.length?(h=w*w,m):Math.sqrt(h)},m}function HA(e,n,r,i){var o,a,l=ur(.1),c,f;typeof e!="function"&&(e=ur(+e)),n==null&&(n=0),r==null&&(r=0),i==null&&(i=0);function h(d){for(var g=0,y=o.length;g<y;++g){var w=o[g],S=w.x-n||1e-6,P=(w.y||0)-r||1e-6,x=(w.z||0)-i||1e-6,k=Math.sqrt(S*S+P*P+x*x),C=(f[g]-k)*c[g]*d/k;w.vx+=S*C,a>1&&(w.vy+=P*C),a>2&&(w.vz+=x*C)}}function m(){if(o){var d,g=o.length;for(c=new Array(g),f=new Array(g),d=0;d<g;++d)f[d]=+e(o[d],d,o),c[d]=isNaN(f[d])?0:+l(o[d],d,o)}}return h.initialize=function(d,...g){o=d,a=g.find(y=>[1,2,3].includes(y))||2,m()},h.strength=function(d){return arguments.length?(l=typeof d=="function"?d:ur(+d),m(),h):l},h.radius=function(d){return arguments.length?(e=typeof d=="function"?d:ur(+d),m(),h):e},h.x=function(d){return arguments.length?(n=+d,h):n},h.y=function(d){return arguments.length?(r=+d,h):r},h.z=function(d){return arguments.length?(i=+d,h):i},h}const{abs:os,cos:nr,sin:$i,acos:ZA,atan2:ss,sqrt:Cr,pow:rn}=Math;function as(e){return e<0?-rn(-e,1/3):rn(e,1/3)}const vw=Math.PI,gl=2*vw,Pr=vw/2,WA=1e-6,wf=Number.MAX_SAFE_INTEGER||9007199254740991,bf=Number.MIN_SAFE_INTEGER||-9007199254740991,VA={x:0,y:0,z:0},re={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),Cr(i)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const i=n.length-1;if(e===1)return n[i].t=1,n[i];const o=1-e;let a=n;if(i===0)return n[0].t=e,n[0];if(i===1){const c={x:o*a[0].x+e*a[1].x,y:o*a[0].y+e*a[1].y,t:e};return r&&(c.z=o*a[0].z+e*a[1].z),c}if(i<4){let c=o*o,f=e*e,h,m,d,g=0;i===2?(a=[a[0],a[1],a[2],VA],h=c,m=o*e*2,d=f):i===3&&(h=c*o,m=c*e*3,d=o*f*3,g=e*f);const y={x:h*a[0].x+m*a[1].x+d*a[2].x+g*a[3].x,y:h*a[0].y+m*a[1].y+d*a[2].y+g*a[3].y,t:e};return r&&(y.z=h*a[0].z+m*a[1].z+d*a[2].z+g*a[3].z),y}const l=JSON.parse(JSON.stringify(n));for(;l.length>1;){for(let c=0;c<l.length-1;c++)l[c]={x:l[c].x+(l[c+1].x-l[c].x)*e,y:l[c].y+(l[c+1].y-l[c].y)*e},typeof l[c].z<"u"&&(l[c].z=l[c].z+(l[c+1].z-l[c].z)*e);l.splice(l.length-1,1)}return l[0].t=e,l[0]},computeWithRatios:function(e,n,r,i){const o=1-e,a=r,l=n;let c=a[0],f=a[1],h=a[2],m=a[3],d;if(c*=o,f*=e,l.length===2)return d=c+f,{x:(c*l[0].x+f*l[1].x)/d,y:(c*l[0].y+f*l[1].y)/d,z:i?(c*l[0].z+f*l[1].z)/d:!1,t:e};if(c*=o,f*=2*o,h*=e*e,l.length===3)return d=c+f+h,{x:(c*l[0].x+f*l[1].x+h*l[2].x)/d,y:(c*l[0].y+f*l[1].y+h*l[2].y)/d,z:i?(c*l[0].z+f*l[1].z+h*l[2].z)/d:!1,t:e};if(c*=o,f*=1.5*o,h*=3*o,m*=e*e*e,l.length===4)return d=c+f+h+m,{x:(c*l[0].x+f*l[1].x+h*l[2].x+m*l[3].x)/d,y:(c*l[0].y+f*l[1].y+h*l[2].y+m*l[3].y)/d,z:i?(c*l[0].z+f*l[1].z+h*l[2].z+m*l[3].z)/d:!1,t:e}},derive:function(e,n){const r=[];for(let i=e,o=i.length,a=o-1;o>1;o--,a--){const l=[];for(let c=0,f;c<a;c++)f={x:a*(i[c+1].x-i[c].x),y:a*(i[c+1].y-i[c].y)},n&&(f.z=a*(i[c+1].z-i[c].z)),l.push(f);r.push(l),i=l}return r},between:function(e,n,r){return n<=e&&e<=r||re.approximately(e,n)||re.approximately(e,r)},approximately:function(e,n,r){return os(e-n)<=(r||WA)},length:function(e){const r=re.Tvalues.length;let i=0;for(let o=0,a;o<r;o++)a=.5*re.Tvalues[o]+.5,i+=re.Cvalues[o]*re.arcfn(a,e);return .5*i},map:function(e,n,r,i,o){const a=r-n,l=o-i,c=e-n,f=c/a;return i+l*f},lerp:function(e,n,r){const i={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(i.z=n.z+e*(r.z-n.z)),i},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(re.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,l=r.y-e.y,c=i*l-o*a,f=i*a+o*l;return ss(c,f)},round:function(e,n){const r=""+e,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+n))},dist:function(e,n){const r=e.x-n.x,i=e.y-n.y;return Cr(r*r+i*i)},closest:function(e,n){let r=rn(2,63),i,o;return e.forEach(function(a,l){o=re.dist(n,a),o<r&&(r=o,i=l)}),{mdist:r,mpos:i}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=rn(e,n)+rn(1-e,n),i=r-1;return os(i/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=rn(1-e,n),i=rn(e,n)+r;return r/i},lli8:function(e,n,r,i,o,a,l,c){const f=(e*i-n*r)*(o-l)-(e-r)*(o*c-a*l),h=(e*i-n*r)*(a-c)-(n-i)*(o*c-a*l),m=(e-r)*(a-c)-(n-i)*(o-l);return m==0?!1:{x:f/m,y:h/m}},lli4:function(e,n,r,i){const o=e.x,a=e.y,l=n.x,c=n.y,f=r.x,h=r.y,m=i.x,d=i.y;return re.lli8(o,a,l,c,f,h,m,d)},lli:function(e,n){return re.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new Fe(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=wf,r=wf,i=bf,o=bf;return e.forEach(function(a){const l=a.bbox();n>l.x.min&&(n=l.x.min),r>l.y.min&&(r=l.y.min),i<l.x.max&&(i=l.x.max),o<l.y.max&&(o=l.y.max)}),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(e,n,r,i,o){if(!re.bboxoverlap(n,i))return[];const a=[],l=[e.startcap,e.forward,e.back,e.endcap],c=[r.startcap,r.forward,r.back,r.endcap];return l.forEach(function(f){f.virtual||c.forEach(function(h){if(h.virtual)return;const m=f.intersects(h,o);m.length>0&&(m.c1=f,m.c2=h,m.s1=e,m.s2=r,a.push(m))})}),a},makeshape:function(e,n,r){const i=n.points.length,o=e.points.length,a=re.makeline(n.points[i-1],e.points[0]),l=re.makeline(e.points[o-1],n.points[0]),c={startcap:a,forward:e,back:n,endcap:l,bbox:re.findbbox([a,e,n,l])};return c.intersections=function(f){return re.shapeintersections(c,c.bbox,f,f.bbox,r)},c},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let i=wf,o=bf,a,l;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let c=0,f=r.length;c<f;c++)a=r[c],l=e.get(a),l[n]<i&&(i=l[n]),l[n]>o&&(o=l[n]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(e,n){const r=n.p1.x,i=n.p1.y,o=-ss(n.p2.y-i,n.p2.x-r),a=function(l){return{x:(l.x-r)*nr(o)-(l.y-i)*$i(o),y:(l.x-r)*$i(o)+(l.y-i)*nr(o)}};return e.map(a)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,i=re.align(e,n),o=function(z){return 0<=z&&z<=1};if(r===2){const z=i[0].y,A=i[1].y,$=i[2].y,F=z-2*A+$;if(F!==0){const H=-Cr(A*A-z*$),U=-z+A,Y=-(H+U)/F,D=-(-H+U)/F;return[Y,D].filter(o)}else if(A!==$&&F===0)return[(2*A-$)/(2*A-2*$)].filter(o);return[]}const a=i[0].y,l=i[1].y,c=i[2].y,f=i[3].y;let h=-a+3*l-3*c+f,m=3*a-6*l+3*c,d=-3*a+3*l,g=a;if(re.approximately(h,0)){if(re.approximately(m,0))return re.approximately(d,0)?[]:[-g/d].filter(o);const z=Cr(d*d-4*m*g),A=2*m;return[(z-d)/A,(-d-z)/A].filter(o)}m/=h,d/=h,g/=h;const y=(3*d-m*m)/3,w=y/3,S=(2*m*m*m-9*m*d+27*g)/27,P=S/2,x=P*P+w*w*w;let k,C,N,M,T;if(x<0){const z=-y/3,A=z*z*z,$=Cr(A),F=-S/(2*$),H=F<-1?-1:F>1?1:F,U=ZA(H),Y=as($),D=2*Y;return N=D*nr(U/3)-m/3,M=D*nr((U+gl)/3)-m/3,T=D*nr((U+2*gl)/3)-m/3,[N,M,T].filter(o)}else{if(x===0)return k=P<0?as(-P):-as(P),N=2*k-m/3,M=-k-m/3,[N,M].filter(o);{const z=Cr(x);return k=as(-P+z),C=as(P+z),[k-C-m/3].filter(o)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],i=e[2],o=n-2*r+i;if(o!==0){const a=-Cr(r*r-n*i),l=-n+r,c=-(a+l)/o,f=-(-a+l)/o;return[c,f]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,i,o){let a,l,c,f,h=0,m=0;const d=re.compute(e,n),g=re.compute(e,r),y=d.x*d.x+d.y*d.y;if(i?(a=Cr(rn(d.y*g.z-g.y*d.z,2)+rn(d.z*g.x-g.z*d.x,2)+rn(d.x*g.y-g.x*d.y,2)),l=rn(y+d.z*d.z,3/2)):(a=d.x*g.y-d.y*g.x,l=rn(y,3/2)),a===0||l===0)return{k:0,r:0};if(h=a/l,m=l/a,!o){const w=re.curvature(e-.001,n,r,i,!0).k,S=re.curvature(e+.001,n,r,i,!0).k;f=(S-h+(h-w))/2,c=(os(S-h)+os(h-w))/2}return{k:h,r:m,dk:f,adk:c}},inflections:function(e){if(e.length<4)return[];const n=re.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,i=n[3].x*n[1].y,o=n[1].x*n[2].y,a=n[3].x*n[2].y,l=18*(-3*r+2*i+3*o-a),c=18*(3*r-i-3*o),f=18*(o-r);if(re.approximately(l,0)){if(!re.approximately(c,0)){let g=-f/c;if(0<=g&&g<=1)return[g]}return[]}const h=2*l;if(re.approximately(h,0))return[];const m=c*c-4*l*f;if(m<0)return[];const d=Math.sqrt(m);return[(d-c)/h,-(c+d)/h].filter(function(g){return 0<=g&&g<=1})},bboxoverlap:function(e,n){const r=["x","y"],i=r.length;for(let o=0,a,l,c,f;o<i;o++)if(a=r[o],l=e[a].mid,c=n[a].mid,f=(e[a].size+n[a].size)/2,os(l-c)>=f)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const i=e.bbox(),o=n.bbox(),a=1e5,l=r||.5;if(i.x.size+i.y.size<l&&o.x.size+o.y.size<l)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(n._t1+n._t2)/2|0)/a];let c=e.split(.5),f=n.split(.5),h=[{left:c.left,right:f.left},{left:c.left,right:f.right},{left:c.right,right:f.right},{left:c.right,right:f.left}];h=h.filter(function(d){return re.bboxoverlap(d.left.bbox(),d.right.bbox())});let m=[];return h.length===0||(h.forEach(function(d){m=m.concat(re.pairiteration(d.left,d.right,l))}),m=m.filter(function(d,g){return m.indexOf(d)===g})),m},getccenter:function(e,n,r){const i=n.x-e.x,o=n.y-e.y,a=r.x-n.x,l=r.y-n.y,c=i*nr(Pr)-o*$i(Pr),f=i*$i(Pr)+o*nr(Pr),h=a*nr(Pr)-l*$i(Pr),m=a*$i(Pr)+l*nr(Pr),d=(e.x+n.x)/2,g=(e.y+n.y)/2,y=(n.x+r.x)/2,w=(n.y+r.y)/2,S=d+c,P=g+f,x=y+h,k=w+m,C=re.lli8(d,g,S,P,y,w,x,k),N=re.dist(C,e);let M=ss(e.y-C.y,e.x-C.x),T=ss(n.y-C.y,n.x-C.x),z=ss(r.y-C.y,r.x-C.x),A;return M<z?((M>T||T>z)&&(M+=gl),M>z&&(A=z,z=M,M=A)):z<T&&T<M?(A=z,z=M,M=A):z+=gl,C.s=M,C.e=z,C.r=N,C},numberSort:function(e,n){return e-n}};class Ms{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return re.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),i=1;i<n.length;i++)re.expandbox(r,n[i].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(n))}),new Ms(r)}}const{abs:ls,min:Hy,max:Zy,cos:qA,sin:GA,acos:XA,sqrt:us}=Math,YA=Math.PI;class Fe{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const y=[];r.forEach(function(w){["x","y","z"].forEach(function(S){typeof w[S]<"u"&&y.push(w[S])})}),r=y}let o=!1;const a=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!o&&(a===9||a===12)||n&&n[0]&&typeof n[0].z<"u",c=this.points=[];for(let y=0,w=l?3:2;y<a;y+=w){var f={x:r[y],y:r[y+1]};l&&(f.z=r[y+2]),c.push(f)}const h=this.order=c.length-1,m=this.dims=["x","y"];l&&m.push("z"),this.dimlen=m.length;const d=re.align(c,{p1:c[0],p2:c[h]}),g=re.dist(c[0],c[h]);this._linear=d.reduce((y,w)=>y+ls(w.y),0)<g/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,i,o){if(typeof o>"u"&&(o=.5),o===0)return new Fe(r,r,i);if(o===1)return new Fe(n,r,r);const a=Fe.getABC(2,n,r,i,o);return new Fe(n,a.A,i)}static cubicFromPoints(n,r,i,o,a){typeof o>"u"&&(o=.5);const l=Fe.getABC(3,n,r,i,o);typeof a>"u"&&(a=re.dist(r,l.C));const c=a*(1-o)/o,f=re.dist(n,i),h=(i.x-n.x)/f,m=(i.y-n.y)/f,d=a*h,g=a*m,y=c*h,w=c*m,S={x:r.x-d,y:r.y-g},P={x:r.x+y,y:r.y+w},x=l.A,k={x:x.x+(S.x-x.x)/(1-o),y:x.y+(S.y-x.y)/(1-o)},C={x:x.x+(P.x-x.x)/o,y:x.y+(P.y-x.y)/o},N={x:n.x+(k.x-n.x)/o,y:n.y+(k.y-n.y)/o},M={x:i.x+(C.x-i.x)/(1-o),y:i.y+(C.y-i.y)/(1-o)};return new Fe(n,N,M,i)}static getUtils(){return re}getUtils(){return Fe.getUtils()}static get PolyBezier(){return Ms}valueOf(){return this.toString()}toString(){return re.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,i=n[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let a=1,l=n.length;a<l;a++)o.push(n[a].x),o.push(n[a].y);return o.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=re.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=re.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return re.length(this.derivative.bind(this))}static getABC(n=2,r,i,o,a=.5){const l=re.projectionratio(a,n),c=1-l,f={x:l*r.x+c*o.x,y:l*r.y+c*o.y},h=re.abcratio(a,n);return{A:{x:i.x+(i.x-f.x)/h,y:i.y+(i.y-f.y)/h},B:i,C:f,S:r,E:o}}getABC(n,r){r=r||this.get(n);let i=this.points[0],o=this.points[this.order];return Fe.getABC(this.order,i,r,o,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,i,o;r<n;r++)o=r/(n-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(n,r){r=r||5;const i=this.getLUT(),o=[];for(let a=0,l,c=0;a<i.length;a++)l=i[a],re.dist(l,n)<r&&(o.push(l),c+=a/i.length);return o.length?t/=o.length:!1}project(n){const r=this.getLUT(),i=r.length-1,o=re.closest(r,n),a=o.mpos,l=(a-1)/i,c=(a+1)/i,f=.1/i;let h=o.mdist,m=l,d=m,g;h+=1;for(let y;m<c+f;m+=f)g=this.compute(m),y=re.dist(n,g),y<h&&(h=y,d=m);return d=d<0?0:d>1?1:d,g=this.compute(d),g.t=d,g.d=h,g}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?re.computeWithRatios(n,this.points,this.ratios,this._3d):re.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],i=n.length;for(let o=1,a,l;o<i;o++)a=n[o],l=n[o-1],r[o]={x:(i-o)/i*a.x+o/i*l.x,y:(i-o)/i*a.y+o/i*l.y};return r[i]=n[i-1],new Fe(r)}derivative(n){return re.compute(n,this.dpoints[0],this._3d)}dderivative(n){return re.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new Fe(re.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return re.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return re.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),i=us(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/i,y:r.x/i}}__normal3(n){const r=this.derivative(n),i=this.derivative(n+.01),o=us(r.x*r.x+r.y*r.y+r.z*r.z),a=us(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=a,i.y/=a,i.z/=a;const l={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},c=us(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=c,l.y/=c,l.z/=c;const f=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:n,x:f[0]*r.x+f[1]*r.y+f[2]*r.z,y:f[3]*r.x+f[4]*r.y+f[5]*r.z,z:f[6]*r.x+f[7]*r.y+f[8]*r.z}}hull(n){let r=this.points,i=[],o=[],a=0;for(o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],this.order===3&&(o[a++]=r[3]);r.length>1;){i=[];for(let l=0,c,f=r.length-1;l<f;l++)c=re.lerp(n,r[l],r[l+1]),o[a++]=c,i.push(c);r=i}return o}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const i=this.hull(n),o={left:this.order===2?new Fe([i[0],i[3],i[5]]):new Fe([i[0],i[4],i[7],i[9]]),right:this.order===2?new Fe([i[5],i[4],i[2]]):new Fe([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=re.map(0,0,1,this._t1,this._t2),o.left._t2=re.map(n,0,1,this._t1,this._t2),o.right._t1=re.map(n,0,1,this._t1,this._t2),o.right._t2=re.map(1,0,1,this._t1,this._t2),r?(r=re.map(r,n,1,0,1),o.right.split(r).left):o}extrema(){const n={};let r=[];return this.dims.forEach((function(i){let o=function(l){return l[i]},a=this.dpoints[0].map(o);n[i]=re.droots(a),this.order===3&&(a=this.dpoints[1].map(o),n[i]=n[i].concat(re.droots(a))),n[i]=n[i].filter(function(l){return l>=0&&l<=1}),r=r.concat(n[i].sort(re.numberSort))}).bind(this)),n.values=r.sort(re.numberSort).filter(function(i,o){return r.indexOf(i)===o}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=re.getminmax(this,i,n[i])}).bind(this)),r}overlaps(n){const r=this.bbox(),i=n.bbox();return re.bboxoverlap(r,i)}offset(n,r){if(typeof r<"u"){const i=this.get(n),o=this.normal(n),a={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(a.z=i.z+o.z*r),a}if(this._linear){const i=this.normal(0),o=this.points.map(function(a){const l={x:a.x+n*i.x,y:a.y+n*i.y};return a.z&&i.z&&(l.z=a.z+n*i.z),l});return[new Fe(o)]}return this.reduce().map(function(i){return i._linear?i.offset(n)[0]:i.scale(n)})}simple(){if(this.order===3){const o=re.angle(this.points[0],this.points[3],this.points[1]),a=re.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}const n=this.normal(0),r=this.normal(1);let i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),ls(XA(i))<YA/3}reduce(){let n,r=0,i=0,o=.01,a,l=[],c=[],f=this.extrema().values;for(f.indexOf(0)===-1&&(f=[0].concat(f)),f.indexOf(1)===-1&&f.push(1),r=f[0],n=1;n<f.length;n++)i=f[n],a=this.split(r,i),a._t1=r,a._t2=i,l.push(a),r=i;return l.forEach(function(h){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(a=h.split(r,i),!a.simple()){if(i-=o,ls(r-i)<o)return[];a=h.split(r,i),a._t1=re.map(r,0,1,h._t1,h._t2),a._t2=re.map(i,0,1,h._t1,h._t2),c.push(a),r=i;break}r<1&&(a=h.split(r,1),a._t1=re.map(r,0,1,h._t1,h._t2),a._t2=h._t2,c.push(a))}),c}translate(n,r,i){i=typeof i=="number"?i:r;const o=this.order;let a=this.points.map((l,c)=>(1-c/o)*r+c/o*i);return new Fe(this.points.map((l,c)=>({x:l.x+n.x*a[c],y:l.y+n.y*a[c]})))}scale(n){const r=this.order;let i=!1;if(typeof n=="function"&&(i=n),i&&r===2)return this.raise().scale(i);const o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):n,i?i(1):n);const l=i?i(0):n,c=i?i(1):n,f=[this.offset(0,10),this.offset(1,10)],h=[],m=re.lli4(f[0],f[0].c,f[1],f[1].c);if(!m)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(d){const g=h[d*r]=re.copy(a[d*r]);g.x+=(d?c:l)*f[d].n.x,g.y+=(d?c:l)*f[d].n.y}),i?([0,1].forEach(function(d){if(!(r===2&&d)){var g=a[d+1],y={x:g.x-m.x,y:g.y-m.y},w=i?i((d+1)/r):n;i&&!o&&(w=-w);var S=us(y.x*y.x+y.y*y.y);y.x/=S,y.y/=S,h[d+1]={x:g.x+w*y.x,y:g.y+w*y.y}}}),new Fe(h)):([0,1].forEach(d=>{if(r===2&&d)return;const g=h[d*r],y=this.derivative(d),w={x:g.x+y.x,y:g.y+y.y};h[d+1]=re.lli4(g,w,m,a[d+1])}),new Fe(h))}outline(n,r,i,o){if(r=r===void 0?n:r,this._linear){const M=this.normal(0),T=this.points[0],z=this.points[this.points.length-1];let A,$,F;i===void 0&&(i=n,o=r),A={x:T.x+M.x*n,y:T.y+M.y*n},F={x:z.x+M.x*i,y:z.y+M.y*i},$={x:(A.x+F.x)/2,y:(A.y+F.y)/2};const H=[A,$,F];A={x:T.x-M.x*r,y:T.y-M.y*r},F={x:z.x-M.x*o,y:z.y-M.y*o},$={x:(A.x+F.x)/2,y:(A.y+F.y)/2};const U=[F,$,A],Y=re.makeline(U[2],H[0]),D=re.makeline(H[2],U[0]),G=[Y,new Fe(H),D,new Fe(U)];return new Ms(G)}const a=this.reduce(),l=a.length,c=[];let f=[],h,m=0,d=this.length();const g=typeof i<"u"&&typeof o<"u";function y(M,T,z,A,$){return function(F){const H=A/z,U=(A+$)/z,Y=T-M;return re.map(F,0,1,M+H*Y,M+U*Y)}}a.forEach(function(M){const T=M.length();g?(c.push(M.scale(y(n,i,d,m,T))),f.push(M.scale(y(-r,-o,d,m,T)))):(c.push(M.scale(n)),f.push(M.scale(-r))),m+=T}),f=f.map(function(M){return h=M.points,h[3]?M.points=[h[3],h[2],h[1],h[0]]:M.points=[h[2],h[1],h[0]],M}).reverse();const w=c[0].points[0],S=c[l-1].points[c[l-1].points.length-1],P=f[l-1].points[f[l-1].points.length-1],x=f[0].points[0],k=re.makeline(P,w),C=re.makeline(S,x),N=[k].concat(c).concat([C]).concat(f);return new Ms(N)}outlineshapes(n,r,i){r=r||n;const o=this.outline(n,r).curves,a=[];for(let l=1,c=o.length;l<c/2;l++){const f=re.makeshape(o[l],o[c-l],i);f.startcap.virtual=l>1,f.endcap.virtual=l<c/2-1,a.push(f)}return a}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof Fe&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=Hy(n.p1.x,n.p2.x),i=Hy(n.p1.y,n.p2.y),o=Zy(n.p1.x,n.p2.x),a=Zy(n.p1.y,n.p2.y);return re.roots(this.points,n).filter(l=>{var c=this.get(l);return re.between(c.x,r,o)&&re.between(c.y,i,a)})}selfintersects(n){const r=this.reduce(),i=r.length-2,o=[];for(let a=0,l,c,f;a<i;a++)c=r.slice(a,a+1),f=r.slice(a+2),l=this.curveintersects(c,f,n),o.push(...l);return o}curveintersects(n,r,i){const o=[];n.forEach(function(l){r.forEach(function(c){l.overlaps(c)&&o.push({left:l,right:c})})});let a=[];return o.forEach(function(l){const c=re.pairiteration(l.left,l.right,i);c.length>0&&(a=a.concat(c))}),a}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,i,o){const a=(o-i)/4,l=this.get(i+a),c=this.get(o-a),f=re.dist(n,r),h=re.dist(n,l),m=re.dist(n,c);return ls(h-f)+ls(m-f)}_iterate(n,r){let i=0,o=1,a;do{a=0,o=1;let l=this.get(i),c,f,h,m,d=!1,g=!1,y,w=o,S=1;do if(g=d,m=h,w=(i+o)/2,c=this.get(w),f=this.get(o),h=re.getccenter(l,c,f),h.interval={start:i,end:o},d=this._error(h,l,i,o)<=n,y=g&&!d,y||(S=o),d){if(o>=1){if(h.interval.end=S=1,m=h,o>1){let x={x:h.x+h.r*qA(h.e),y:h.y+h.r*GA(h.e)};h.e+=re.angle({x:h.x,y:h.y},x,this.get(1))}break}o=o+(o-i)/2}else o=w;while(!y&&a++<100);if(a>=100)break;m=m||h,r.push(m),i=S}while(o<1);return r}}function ed(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function KA(e){if(Array.isArray(e))return e}function QA(e){if(Array.isArray(e))return ed(e)}function JA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eO(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,c=[],f=!0,h=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(f=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);f=!0);}catch(m){h=!0,o=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}function tO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rO(e,n){if(e==null)return{};var r,i,o=iO(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function iO(e,n){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.includes(i))continue;r[i]=e[i]}return r}function oO(e,n){return KA(e)||eO(e,n)||_w(e,n)||tO()}function sO(e){return QA(e)||JA(e)||_w(e)||nO()}function aO(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lO(e){var n=aO(e,"string");return typeof n=="symbol"?n:n+""}function _w(e,n){if(e){if(typeof e=="string")return ed(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ed(e,n):void 0}}var uO=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(c){return{keyAccessor:c,isProp:!(c instanceof Function)}}),a=e.reduce(function(c,f){var h=c,m=f;return o.forEach(function(d,g){var y=d.keyAccessor,w=d.isProp,S;if(w){var P=m,x=P[y],k=rO(P,[y].map(lO));S=x,m=k}else S=y(m,g);g+1<o.length?(h.hasOwnProperty(S)||(h[S]={}),h=h[S]):r?(h.hasOwnProperty(S)||(h[S]=[]),h[S].push(m)):h[S]=m}),c},{});r instanceof Function&&function c(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;h===o.length?Object.keys(f).forEach(function(m){return f[m]=r(f[m])}):Object.values(f).forEach(function(m){return c(m,h+1)})}(a);var l=a;return i&&(l=[],function c(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];h.length===o.length?l.push({keys:h,vals:f}):Object.entries(f).forEach(function(m){var d=oO(m,2),g=d[0],y=d[1];return c(y,[].concat(sO(h),[g]))})}(a),n instanceof Array&&n.length===0&&l.length===1&&(l[0].keys=[])),l};function cO(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const Wy=Symbol("implicit");function xw(){var e=new hy,n=[],r=[],i=Wy;function o(a){let l=e.get(a);if(l===void 0){if(i!==Wy)return i;e.set(a,l=n.push(a)-1)}return r[l%r.length]}return o.domain=function(a){if(!arguments.length)return n.slice();n=[],e=new hy;for(const l of a)e.has(l)||e.set(l,n.push(l)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return xw(n,r).unknown(i)},cO.apply(o,arguments),o}function fO(e){for(var n=e.length/6|0,r=new Array(n),i=0;i<n;)r[i]="#"+e.slice(i*6,++i*6);return r}const hO=fO("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function dO(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var pO=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;dO(pO);function td(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function mO(e){if(Array.isArray(e))return e}function gO(e){if(Array.isArray(e))return td(e)}function Vy(e,n,r){if(ww())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var o=new(e.bind.apply(e,i));return o}function aa(e,n,r){return(n=bO(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ww(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ww=function(){return!!e})()}function yO(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vO(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,c=[],f=!0,h=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(f=(i=a.call(r)).done)&&(c.push(i.value),c.length!==n);f=!0);}catch(m){h=!0,o=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}function _O(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qy(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Hi(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?qy(Object(r),!0).forEach(function(i){aa(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qy(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function zs(e,n){return mO(e)||vO(e,n)||bw(e,n)||_O()}function un(e){return gO(e)||yO(e)||bw(e)||xO()}function wO(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function bO(e){var n=wO(e,"string");return typeof n=="symbol"?n:n+""}function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nd(e)}function bw(e,n){if(e){if(typeof e=="string")return td(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?td(e,n):void 0}}var kO=xw(hO);function Gy(e,n,r){!n||typeof r!="string"||e.filter(function(i){return!i[r]}).forEach(function(i){i[r]=kO(n(i))})}function SO(e,n){var r=e.nodes,i=e.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.nodeFilter,l=a===void 0?function(){return!0}:a,c=o.onLoopError,f=c===void 0?function(y){throw"Invalid DAG structure! Found cycle in node path: ".concat(y.join(" -> "),".")}:c,h={};r.forEach(function(y){return h[n(y)]={data:y,out:[],depth:-1,skip:!l(y)}}),i.forEach(function(y){var w=y.source,S=y.target,P=N(w),x=N(S);if(!h.hasOwnProperty(P))throw"Missing source node with id: ".concat(P);if(!h.hasOwnProperty(x))throw"Missing target node with id: ".concat(x);var k=h[P],C=h[x];k.out.push(C);function N(M){return nd(M)==="object"?n(M):M}});var m=[];g(Object.values(h));var d=Object.assign.apply(Object,[{}].concat(un(Object.entries(h).filter(function(y){var w=zs(y,2),S=w[1];return!S.skip}).map(function(y){var w=zs(y,2),S=w[0],P=w[1];return aa({},S,P.depth)}))));return d;function g(y){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,P=function(){var N=y[x];if(w.indexOf(N)!==-1){var M=[].concat(un(w.slice(w.indexOf(N))),[N]).map(function(T){return n(T.data)});return m.some(function(T){return T.length===M.length&&T.every(function(z,A){return z===M[A]})})||(m.push(M),f(M)),1}S>N.depth&&(N.depth=S,g(N.out,[].concat(un(w),[N]),S+(N.skip?0:1)))},x=0,k=y.length;x<k;x++)P()}}var CO=2,gt=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Xy=function(n,r){if(!r.isShadow){var i=je(r.linkDirectionalParticles);r.graphData.links.forEach(function(o){var a=Math.round(Math.abs(i(o)));a?o.__photons=un(Array(a)).map(function(){return{}}):delete o.__photons})}},xu=Pp({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,Xy(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:gt},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:gt},nodeColor:{default:"color",triggerUpdate:!1,onChange:gt},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:gt},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:gt},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:gt},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:gt},linkColor:{default:"color",triggerUpdate:!1,onChange:gt},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:gt},linkWidth:{default:1,triggerUpdate:!1,onChange:gt},linkCurvature:{default:0,triggerUpdate:!1,onChange:gt},linkCanvasObject:{triggerUpdate:!1,onChange:gt},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:gt},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:gt},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:gt},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:gt},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Xy},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,i){return i===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,i),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),o(),!n.isShadow&&a(),!n.isShadow&&l(),i(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function i(){var c=je(n.nodeVisibility),f=je(n.nodeVal),h=je(n.nodeColor),m=je(n.nodeCanvasObjectMode),d=n.ctx,g=n.isShadow/n.globalScale,y=n.graphData.nodes.filter(c);d.save(),y.forEach(function(w){var S=m(w);if(n.nodeCanvasObject&&(S==="before"||S==="replace")&&(n.nodeCanvasObject(w,d,n.globalScale),S==="replace")){d.restore();return}var P=Math.sqrt(Math.max(0,f(w)||1))*n.nodeRelSize+g;d.beginPath(),d.arc(w.x,w.y,P,0,2*Math.PI,!1),d.fillStyle=h(w)||"rgba(31, 120, 180, 0.92)",d.fill(),n.nodeCanvasObject&&S==="after"&&n.nodeCanvasObject(w,n.ctx,n.globalScale)}),d.restore()}function o(){var c=je(n.linkVisibility),f=je(n.linkColor),h=je(n.linkWidth),m=je(n.linkLineDash),d=je(n.linkCurvature),g=je(n.linkCanvasObjectMode),y=n.ctx,w=n.isShadow*2,S=n.graphData.links.filter(c);S.forEach(T);var P=[],x=[],k=S;if(n.linkCanvasObject){var C=[],N=[];S.forEach(function(z){return({before:P,after:x,replace:C}[g(z)]||N).push(z)}),k=[].concat(un(P),x,N),P=P.concat(C)}y.save(),P.forEach(function(z){return n.linkCanvasObject(z,y,n.globalScale)}),y.restore();var M=uO(k,[f,h,m]);y.save(),Object.entries(M).forEach(function(z){var A=zs(z,2),$=A[0],F=A[1],H=!$||$==="undefined"?"rgba(0,0,0,0.15)":$;Object.entries(F).forEach(function(U){var Y=zs(U,2),D=Y[0],G=Y[1],q=(D||1)/n.globalScale+w;Object.entries(G).forEach(function(J){var Z=zs(J,2);Z[0];var Q=Z[1],j=m(Q[0]);y.beginPath(),Q.forEach(function(ee){var oe=ee.source,O=ee.target;if(!(!oe||!O||!oe.hasOwnProperty("x")||!O.hasOwnProperty("x"))){y.moveTo(oe.x,oe.y);var fe=ee.__controlPoints;fe?y[fe.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(y,un(fe).concat([O.x,O.y])):y.lineTo(O.x,O.y)}}),y.strokeStyle=H,y.lineWidth=q,y.setLineDash(j||[]),y.stroke()})})}),y.restore(),y.save(),x.forEach(function(z){return n.linkCanvasObject(z,y,n.globalScale)}),y.restore();function T(z){var A=d(z);if(!A){z.__controlPoints=null;return}var $=z.source,F=z.target;if(!(!$||!F||!$.hasOwnProperty("x")||!F.hasOwnProperty("x"))){var H=Math.sqrt(Math.pow(F.x-$.x,2)+Math.pow(F.y-$.y,2));if(H>0){var U=Math.atan2(F.y-$.y,F.x-$.x),Y=H*A,D={x:($.x+F.x)/2+Y*Math.cos(U-Math.PI/2),y:($.y+F.y)/2+Y*Math.sin(U-Math.PI/2)};z.__controlPoints=[D.x,D.y]}else{var G=A*70;z.__controlPoints=[F.x,F.y-G,F.x+G,F.y]}}}}function a(){var c=1.6,f=.2,h=je(n.linkDirectionalArrowLength),m=je(n.linkDirectionalArrowRelPos),d=je(n.linkVisibility),g=je(n.linkDirectionalArrowColor||n.linkColor),y=je(n.nodeVal),w=n.ctx;w.save(),n.graphData.links.filter(d).forEach(function(S){var P=h(S);if(!(!P||P<0)){var x=S.source,k=S.target;if(!(!x||!k||!x.hasOwnProperty("x")||!k.hasOwnProperty("x"))){var C=Math.sqrt(Math.max(0,y(x)||1))*n.nodeRelSize,N=Math.sqrt(Math.max(0,y(k)||1))*n.nodeRelSize,M=Math.min(1,Math.max(0,m(S))),T=g(S)||"rgba(0,0,0,0.28)",z=P/c/2,A=S.__controlPoints&&Vy(Fe,[x.x,x.y].concat(un(S.__controlPoints),[k.x,k.y])),$=A?function(q){return A.get(q)}:function(q){return{x:x.x+(k.x-x.x)*q||0,y:x.y+(k.y-x.y)*q||0}},F=A?A.length():Math.sqrt(Math.pow(k.x-x.x,2)+Math.pow(k.y-x.y,2)),H=C+P+(F-C-N-P)*M,U=$(H/F),Y=$((H-P)/F),D=$((H-P*(1-f))/F),G=Math.atan2(U.y-Y.y,U.x-Y.x)-Math.PI/2;w.beginPath(),w.moveTo(U.x,U.y),w.lineTo(Y.x+z*Math.cos(G),Y.y+z*Math.sin(G)),w.lineTo(D.x,D.y),w.lineTo(Y.x-z*Math.cos(G),Y.y-z*Math.sin(G)),w.fillStyle=T,w.fill()}}}),w.restore()}function l(){var c=je(n.linkDirectionalParticles),f=je(n.linkDirectionalParticleSpeed),h=je(n.linkDirectionalParticleOffset),m=je(n.linkDirectionalParticleWidth),d=je(n.linkVisibility),g=je(n.linkDirectionalParticleColor||n.linkColor),y=n.ctx;y.save(),n.graphData.links.filter(d).forEach(function(w){var S=c(w);if(!(!w.hasOwnProperty("__photons")||!w.__photons.length)){var P=w.source,x=w.target;if(!(!P||!x||!P.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var k=f(w),C=Math.abs(h(w)),N=w.__photons||[],M=Math.max(0,m(w)/2)/Math.sqrt(n.globalScale),T=g(w)||"rgba(0,0,0,0.28)";y.fillStyle=T;var z=w.__controlPoints?Vy(Fe,[P.x,P.y].concat(un(w.__controlPoints),[x.x,x.y])):null,A=0,$=!1;N.forEach(function(F){var H=!!F.__singleHop;if(F.hasOwnProperty("__progressRatio")||(F.__progressRatio=H?0:(A+C)/S),!H&&A++,F.__progressRatio+=k,F.__progressRatio>=1)if(!H)F.__progressRatio=F.__progressRatio%1;else{$=!0;return}var U=F.__progressRatio,Y=z?z.get(U):{x:P.x+(x.x-P.x)*U||0,y:P.y+(x.y-P.y)*U||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(Y.x,Y.y,w,y,n.globalScale):(y.beginPath(),y.arc(Y.x,Y.y,M,0,2*Math.PI,!1),y.fill())}),$&&(w.__photons=w.__photons.filter(function(F){return!F.__singleHop||F.__progressRatio<=1}))}}}),y.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:UA().force("link",zA()).force("charge",$A()).force("center",Oz()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&Gy(n.graphData.nodes,je(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&Gy(n.graphData.links,je(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(g){g.source=g[n.linkSource],g.target=g[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var i=n.forceLayout.force("link");i&&i.id(function(g){return g[n.nodeId]}).links(n.graphData.links);var o=n.dagMode&&SO(n.graphData,function(g){return g[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),a=Math.max.apply(Math,un(Object.values(o||[]))),l=n.dagLevelDistance||n.graphData.nodes.length/(a||1)*CO*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var c=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(g){return delete g[c]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var f=["rl","bu"].includes(n.dagMode),h=function(y){return(o[y[n.nodeId]]-a/2)*l*(f?-1:1)},m=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(g){return g[m]=h(g)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?HA(function(g){var y=o[g[n.nodeId]]||-1;return(n.dagMode==="radialin"?a-y:y)*l}).strength(function(g){return n.dagNodeFilter(g)?1:0}):null);for(var d=0;d<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);d++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function kw(e,n){var r=e instanceof Array?e:[e],i=new n;return i._destructor&&i._destructor(),{linkProp:function(a){return{default:i[a](),onChange:function(c,f){r.forEach(function(h){return f[h][a](c)})},triggerUpdate:!1}},linkMethod:function(a){return function(l){for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];var m=[];return r.forEach(function(d){var g=l[d],y=g[a].apply(g,f);y!==g&&m.push(y)}),m.length?m[0]:this}}}}var PO=800,EO=4,NO=5,Sw=kw("forceGraph",xu),TO=kw(["forceGraph","shadowGraph"],xu),LO=Object.assign.apply(Object,un(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return aa({},e,Sw.linkProp(e))})).concat(un(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return aa({},e,TO.linkProp(e))})))),jO=Object.assign.apply(Object,un(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return aa({},e,Sw.linkMethod(e))})));function kf(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var i=window.devicePixelRatio;n/=i,r/=i,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*i,a.height=e.height*i,!n&&!r&&a.getContext("2d").scale(i,i)});var o=On(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/o,(e.height-r)/2/o),e.needsRedraw=!0}}function Cw(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function Yy(e,n,r){e.save(),Cw(e),e.clearRect(0,0,n,r),e.restore()}var MO=Pp({props:Hi({width:{default:window.innerWidth,onChange:function(n,r){return kf(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return kf(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(o){return(o||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(i),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function i(o){var a=o.type,l=o.objs;l.filter(function(c){if(!c.hasOwnProperty("__indexColor"))return!0;var f=r.colorTracker.lookup(c.__indexColor);return!f||!f.hasOwnProperty("d")||f.d!==c}).forEach(function(c){c.__indexColor=r.colorTracker.register({type:a,d:c})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(i,o,a){return n(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(i,o,a){return n(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},LO),aliases:{stopAnimation:"pauseAnimation"},methods:Hi({graph2ScreenCoords:function(n,r,i){var o=On(n.canvas);return{x:r*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(n,r,i){var o=On(n.canvas);return{x:(r-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(n,r,i,o){if(!n.canvas)return null;if(r!==void 0||i!==void 0){var a=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return o?n.tweenGroup.add(new _y(l()).to(a,o).easing(yi.Quadratic.Out).onUpdate(c).start()):c(a),this}return l();function l(){var f=On(n.canvas);return{x:(n.width/2-f.x)/f.k,y:(n.height/2-f.y)/f.k}}function c(f){var h=f.x,m=f.y;n.zoom.translateTo(n.zoom.__baseElem,h===void 0?l().x:h,m===void 0?l().y:m),n.needsRedraw=!0}},zoom:function(n,r,i){if(!n.canvas)return null;if(r!==void 0)return i?n.tweenGroup.add(new _y({k:o()}).to({k:r},i).easing(yi.Quadratic.Out).onUpdate(function(l){var c=l.k;return a(c)}).start()):a(r),this;return o();function o(){return On(n.canvas).k}function a(l){n.zoom.scaleTo(n.zoom.__baseElem,l),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];var c=this.getGraphBbox.apply(this,a);if(c){var f={x:(c.x[0]+c.x[1])/2,y:(c.y[0]+c.y[1])/2},h=Math.max(1e-12,Math.min(1e12,(n.width-i*2)/(c.x[1]-c.x[0]),(n.height-i*2)/(c.y[1]-c.y[0])));this.centerAt(f.x,f.y,r),this.zoom(h,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=je(n.nodeVal),o=function(c){return Math.sqrt(Math.max(0,i(c)||1))*n.nodeRelSize},a=n.graphData.nodes.filter(r).map(function(l){return{x:l.x,y:l.y,r:o(l)}});return a.length?{x:[my(a,function(l){return l.x-l.r}),py(a,function(l){return l.x+l.r})],y:[my(a,function(l){return l.y-l.r}),py(a,function(l){return l.y+l.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},jO),stateInit:function(){return{lastSetZoom:1,zoom:H4(),forceGraph:new xu,shadowGraph:new xu().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new dz,tweenGroup:new q1}},init:function(n,r){var i=this;n.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",n.appendChild(o),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),o.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var a=r.canvas.getContext("2d"),l=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),c={x:-1e12,y:-1e12},f=function(){var d=null,g=window.devicePixelRatio,y=c.x>0&&c.y>0?l.getImageData(c.x*g,c.y*g,1,1):null;return y&&(d=r.colorTracker.lookup(y.data)),d};ln(r.canvas).call(J3().subject(function(){if(!r.enableNodeDrag)return null;var m=f();return m&&m.type==="Node"?m.d:null}).on("start",function(m){var d=m.subject;d.__initialDragPos={x:d.x,y:d.y,fx:d.fx,fy:d.fy},m.active||(d.fx=d.x,d.fy=d.y),r.canvas.classList.add("grabbable")}).on("drag",function(m){var d=m.subject,g=d.__initialDragPos,y=m,w=On(r.canvas).k,S={x:g.x+(y.x-g.x)/w-d.x,y:g.y+(y.y-g.y)/w-d.y};["x","y"].forEach(function(P){return d["f".concat(P)]=d[P]=g[P]+(y[P]-g[P])/w}),!(!d.__dragged&&NO>=Math.sqrt(q4(["x","y"].map(function(P){return Math.pow(m[P]-g[P],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,d.__dragged=!0,r.onNodeDrag(d,S))}).on("end",function(m){var d=m.subject,g=d.__initialDragPos,y={x:d.x-g.x,y:d.y-g.y};g.fx===void 0&&(d.fx=void 0),g.fy===void 0&&(d.fy=void 0),delete d.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,d.__dragged&&(delete d.__dragged,r.onNodeDragEnd(d,y))})),r.zoom(r.zoom.__baseElem=ln(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(m){return!m.button&&r.enableZoomPanInteraction&&(m.type!=="wheel"||je(r.enableZoomInteraction)(m))&&(m.type==="wheel"||je(r.enablePanInteraction)(m))}).on("zoom",function(m){var d=m.transform;[a,l].forEach(function(g){Cw(g),g.translate(d.x,d.y),g.scale(d.k,d.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(Hi(Hi({},d),i.centerAt())),r.needsRedraw=!0}).on("end",function(m){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(Hi(Hi({},m.transform),i.centerAt()))}),kf(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){On(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=EO/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new Az(o),["pointermove","pointerdown"].forEach(function(m){return o.addEventListener(m,function(d){m==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=d),!r.isPointerDragging&&d.type==="pointermove"&&r.onBackgroundClick&&(d.pressure>0||r.isPointerPressed)&&(d.pointerType==="mouse"||d.movementX===void 0||[d.movementX,d.movementY].some(function(w){return Math.abs(w)>1}))&&(r.isPointerDragging=!0);var g=y(o);c.x=d.pageX-g.left,c.y=d.pageY-g.top;function y(w){var S=w.getBoundingClientRect(),P=window.pageXOffset||document.documentElement.scrollLeft,x=window.pageYOffset||document.documentElement.scrollTop;return{top:S.top+x,left:S.left+P}}},{passive:!0})}),o.addEventListener("pointerup",function(m){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var d=[m,r.pointerDownEvent];requestAnimationFrame(function(){if(m.button===0)if(r.hoverObj){var g=r["on".concat(r.hoverObj.type,"Click")];g&&g.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,d);if(m.button===2)if(r.hoverObj){var y=r["on".concat(r.hoverObj.type,"RightClick")];y&&y.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,d)})}},{passive:!0}),o.addEventListener("contextmenu",function(m){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(m.preventDefault(),!1)}),r.forceGraph(a),r.shadowGraph(l);var h=x5(function(){Yy(l,r.width,r.height),r.shadowGraph.linkWidth(function(d){return je(r.linkWidth)(d)+r.linkHoverPrecision});var m=On(r.canvas);r.shadowGraph.globalScale(m.k).tickFrame()},PO);r.flushShadowCanvas=h.flush,(this._animationCycle=function m(){var d=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(C){return C.__photons&&C.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var g=r.isPointerDragging?null:f();if(g!==r.hoverObj){var y=r.hoverObj,w=y?y.type:null,S=g?g.type:null;if(w&&w!==S){var P=r["on".concat(w,"Hover")];P&&P(null,y.d)}if(S){var x=r["on".concat(S,"Hover")];x&&x(g.d,w===S?y.d:null)}r.tooltip.content(g&&je(r["".concat(g.type.toLowerCase(),"Label")])(g.d)||null),r.canvas.classList[(g&&r["on".concat(S,"Click")]||!g&&r.onBackgroundClick)&&je(r.showPointerCursor)(g==null?void 0:g.d)?"add":"remove"]("clickable"),r.hoverObj=g}d&&h()}if(d){Yy(a,r.width,r.height);var k=On(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(a,k),r.forceGraph.globalScale(k).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(a,k)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(m)})()},update:function(n){}}),Pw={exports:{}},zO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AO=zO,OO=AO;function Ew(){}function Nw(){}Nw.resetWarningCache=Ew;var IO=function(){function e(i,o,a,l,c,f){if(f!==OO){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function n(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Nw,resetWarningCache:Ew};return r.PropTypes=r,r};Pw.exports=IO();var RO=Pw.exports;const B=la(RO),Qu={width:B.number,height:B.number,graphData:B.shape({nodes:B.arrayOf(B.object).isRequired,links:B.arrayOf(B.object).isRequired}),backgroundColor:B.string,nodeRelSize:B.number,nodeId:B.string,nodeLabel:B.oneOfType([B.string,B.func]),nodeVal:B.oneOfType([B.number,B.string,B.func]),nodeVisibility:B.oneOfType([B.bool,B.string,B.func]),nodeColor:B.oneOfType([B.string,B.func]),nodeAutoColorBy:B.oneOfType([B.string,B.func]),onNodeHover:B.func,onNodeClick:B.func,linkSource:B.string,linkTarget:B.string,linkLabel:B.oneOfType([B.string,B.func]),linkVisibility:B.oneOfType([B.bool,B.string,B.func]),linkColor:B.oneOfType([B.string,B.func]),linkAutoColorBy:B.oneOfType([B.string,B.func]),linkWidth:B.oneOfType([B.number,B.string,B.func]),linkCurvature:B.oneOfType([B.number,B.string,B.func]),linkDirectionalArrowLength:B.oneOfType([B.number,B.string,B.func]),linkDirectionalArrowColor:B.oneOfType([B.string,B.func]),linkDirectionalArrowRelPos:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticles:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticleSpeed:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticleOffset:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticleWidth:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticleColor:B.oneOfType([B.string,B.func]),onLinkHover:B.func,onLinkClick:B.func,dagMode:B.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:B.number,dagNodeFilter:B.func,onDagError:B.func,d3AlphaMin:B.number,d3AlphaDecay:B.number,d3VelocityDecay:B.number,warmupTicks:B.number,cooldownTicks:B.number,cooldownTime:B.number,onEngineTick:B.func,onEngineStop:B.func,getGraphBbox:B.func},Tw={zoomToFit:B.func,onNodeRightClick:B.func,onNodeDrag:B.func,onNodeDragEnd:B.func,onLinkRightClick:B.func,linkHoverPrecision:B.number,onBackgroundClick:B.func,onBackgroundRightClick:B.func,showPointerCursor:B.oneOfType([B.bool,B.func]),enablePointerInteraction:B.bool,enableNodeDrag:B.bool},Ap={showNavInfo:B.bool,nodeOpacity:B.number,nodeResolution:B.number,nodeThreeObject:B.oneOfType([B.object,B.string,B.func]),nodeThreeObjectExtend:B.oneOfType([B.bool,B.string,B.func]),nodePositionUpdate:B.func,linkOpacity:B.number,linkResolution:B.number,linkCurveRotation:B.oneOfType([B.number,B.string,B.func]),linkMaterial:B.oneOfType([B.object,B.string,B.func]),linkThreeObject:B.oneOfType([B.object,B.string,B.func]),linkThreeObjectExtend:B.oneOfType([B.bool,B.string,B.func]),linkPositionUpdate:B.func,linkDirectionalArrowResolution:B.number,linkDirectionalParticleResolution:B.number,linkDirectionalParticleThreeObject:B.oneOfType([B.object,B.string,B.func]),forceEngine:B.oneOf(["d3","ngraph"]),ngraphPhysics:B.object,numDimensions:B.oneOf([1,2,3])},DO=Object.assign({},Qu,Tw,{linkLineDash:B.oneOfType([B.arrayOf(B.number),B.string,B.func]),nodeCanvasObjectMode:B.oneOfType([B.string,B.func]),nodeCanvasObject:B.func,nodePointerAreaPaint:B.func,linkCanvasObjectMode:B.oneOfType([B.string,B.func]),linkCanvasObject:B.func,linkPointerAreaPaint:B.func,linkDirectionalParticleCanvasObject:B.func,autoPauseRedraw:B.bool,minZoom:B.number,maxZoom:B.number,enableZoomInteraction:B.oneOfType([B.bool,B.func]),enablePanInteraction:B.oneOfType([B.bool,B.func]),onZoom:B.func,onZoomEnd:B.func,onRenderFramePre:B.func,onRenderFramePost:B.func});Object.assign({},Qu,Tw,Ap,{enableNavigationControls:B.bool,controlType:B.oneOf(["trackball","orbit","fly"]),rendererConfig:B.object,extraRenderers:B.arrayOf(B.shape({render:B.func.isRequired}))});Object.assign({},Qu,Ap,{nodeDesc:B.oneOfType([B.string,B.func]),linkDesc:B.oneOfType([B.string,B.func])});Object.assign({},Qu,Ap,{markerAttrs:B.object,yOffset:B.number,glScale:B.number});const Op=fj(MO,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});Op.displayName="ForceGraph2D";Op.propTypes=DO;const FO=()=>{const[e,n]=I.useState({nodes:[],links:[]}),[r,i]=I.useState(!0),o=vr(),a=I.useRef(),l=I.useRef(null),[c,f]=I.useState({width:800,height:600});I.useEffect(()=>{const y=()=>{l.current&&f({width:l.current.offsetWidth,height:l.current.offsetHeight})};return window.addEventListener("resize",y),y(),()=>window.removeEventListener("resize",y)},[]),I.useEffect(()=>{(async()=>{try{const S=await(await fetch("/api/coherence/feed?limit=30")).json();if(!S.stories||S.stories.length===0){i(!1);return}const x=S.stories.slice(0,20).map($=>fetch(`/api/stories/${$.story_id}`).then(F=>F.json()).catch(F=>(console.error(`Failed to fetch story ${$.story_id}:`,F),null))),C=(await Promise.all(x)).filter($=>$&&$.story),N=new Map,M=new Map;C.forEach($=>{var U;const F=$.story;M.set(F.id,F),(((U=F.entities)==null?void 0:U.people)||[]).forEach(Y=>{const D=Y.canonical_id||Y.id,G=Y.canonical_name||Y.name;D&&G&&(N.has(D)||N.set(D,{person:{id:D,name:G,canonical_id:Y.canonical_id,wikidata_thumbnail:Y.wikidata_thumbnail},storyIds:[]}),N.get(D).storyIds.push(F.id))})});const T=[],z=[],A=new Set;N.forEach(({person:$,storyIds:F},H)=>{if(F.length>=1){const Y=Math.min(F.length*6,30);T.push({id:H,name:$.name,type:"person",val:22+Y,color:"#a78bfa",imgUrl:$.wikidata_thumbnail,data:$,storyIds:F}),A.add(H)}}),M.forEach(($,F)=>{T.push({id:F,name:$.title,type:"story",val:1,color:"#3b82f6",data:$}),A.add(F)}),N.forEach(({storyIds:$},F)=>{A.has(F)&&$.forEach(H=>{A.has(H)&&z.push({source:F,target:H,color:"rgba(167, 139, 250, 0.2)",width:1})})}),T.forEach($=>{if($.imgUrl){const F=new Image;F.src=$.imgUrl,F.onload=()=>{$.img=F}}}),n({nodes:T,links:z}),console.log(`GraphPage: Loaded ${T.length} nodes (${Array.from(N.keys()).length} people, ${M.size} stories) and ${z.length} links`)}catch(w){console.error("Error fetching graph data:",w)}finally{i(!1)}})()},[]);const h=I.useCallback(y=>{y.type==="story"&&o(`/story/${y.id}`)},[o]);I.useEffect(()=>{if(a.current&&e.nodes.length>0){const y=a.current;y.d3Force("charge").strength(w=>w.type==="person"?-800:-100),y.d3Force("link").distance(()=>120).strength(.8)}},[e.nodes]);const m=I.useCallback((y,w,S)=>{if(typeof y.x!="number"||typeof y.y!="number"||!isFinite(y.x)||!isFinite(y.y))return;const P=y.name,x=12/S,k=1;if(w.globalAlpha=k,y.type==="person"){const C=y.val;if(y.img){w.save(),w.beginPath(),w.arc(y.x,y.y,C,0,2*Math.PI,!1),w.fillStyle=y.color||"#a78bfa",w.fill(),w.clip();try{const N=y.img.width,M=y.img.height,T=C*2,z=Math.max(T/N,T/M),A=N*z,$=M*z,F=(T-A)/2,H=(T-$)/2;w.drawImage(y.img,y.x-C+F,y.y-C+H,A,$)}catch{w.fillStyle="#a78bfa",w.fill()}w.restore()}else w.beginPath(),w.arc(y.x,y.y,C,0,2*Math.PI,!1),w.fillStyle=y.color||"#a78bfa",w.fill();w.beginPath(),w.arc(y.x,y.y,C,0,2*Math.PI,!1),w.lineWidth=1.5/S,w.strokeStyle="#8b5cf6",w.stroke(),w.font=`${x}px Sans-Serif`,w.textAlign="center",w.textBaseline="middle",w.fillStyle="rgba(255, 255, 255, 0.9)",w.fillText(P,y.x,y.y+C+x+2)}else if(y.type==="story"){w.font=`${x*.7}px Sans-Serif`,w.textAlign="center",w.textBaseline="middle";const C=150/S,N=x*.7*1.2,M=P.split(" "),T=[];let z="";for(const D of M){const G=z+(z?" ":"")+D;w.measureText(G).width>C&&z?(T.push(z),z=D):z=G}z&&T.push(z);const A=T.slice(0,2);T.length>2&&(A[1]=A[1].substring(0,A[1].length-3)+"...");const $=4/S;let F=0;for(const D of A){const G=w.measureText(D);F=Math.max(F,G.width)}const H=F+$*2,U=A.length*N+$*2;w.fillStyle="rgba(30, 58, 138, 0.2)",w.fillRect(y.x-H/2,y.y-U/2,H,U),w.strokeStyle="rgba(59, 130, 246, 0.3)",w.lineWidth=.5/S,w.strokeRect(y.x-H/2,y.y-U/2,H,U),w.fillStyle="rgba(156, 163, 175, 0.7)";let Y=y.y-(A.length-1)*N/2;for(const D of A)w.fillText(D,y.x,Y),Y+=N}w.globalAlpha=1},[e.nodes]),d=I.useCallback(y=>y.color||"rgba(167, 139, 250, 0.2)",[]),g=I.useCallback(y=>y.width||1,[]);return v.jsxs("div",{className:"h-screen flex flex-col bg-gray-900 text-white",children:[v.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center z-10 bg-gray-900",children:[v.jsx("h1",{className:"text-xl font-bold",children:"Knowledge Graph: People & Stories"}),v.jsx("div",{className:"text-sm text-gray-400",children:v.jsx("span",{children:"People (circles)  Stories (text boxes)  Click story to view details"})})]}),v.jsx("div",{ref:l,className:"flex-1 relative overflow-hidden",style:{minHeight:"500px"},children:r?v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):e.nodes.length===0?v.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:"No data found to visualize."}):v.jsx(Op,{ref:a,width:c.width,height:c.height,graphData:e,nodeCanvasObject:m,nodePointerAreaPaint:(y,w,S)=>{S.fillStyle=w,y.type==="person"?(S.beginPath(),S.arc(y.x,y.y,y.val,0,2*Math.PI,!1),S.fill()):S.fillRect(y.x-120/2,y.y-40/2,120,40)},onNodeClick:h,backgroundColor:"#111827",linkColor:d,linkWidth:g,d3AlphaDecay:.02,d3VelocityDecay:.3,cooldownTicks:100,nodeRelSize:1})})]})};function BO({locations:e}){const n=d1();return I.useEffect(()=>{if(e.length>0){const r=e.map(i=>[i.latitude,i.longitude]);n.fitBounds(r,{padding:[50,50]})}},[e,n]),null}const UO=()=>{const[e,n]=I.useState({locations:[],connections:[],total_locations:0,total_connections:0}),[r,i]=I.useState(!1),[o,a]=I.useState(null),l=vr();I.useEffect(()=>{i(!0),(async()=>{try{const y=await(await fetch("/api/map/locations?limit=100")).json();y.status==="success"&&(n(y),console.log(`MapPage: Loaded ${y.total_locations} locations and ${y.total_connections} connections`))}catch(g){console.error("Error fetching map data:",g)}finally{i(!1)}})()},[]);const c=new Map;e.locations.forEach(d=>c.set(d.id,d));const f=d=>d>=5?"#ef4444":d>=3?"#f59e0b":d>=2?"#eab308":"#3b82f6",h=d=>Math.min(8+d*3,25),m=I.useMemo(()=>{const d=new Map;return e.locations.forEach(g=>{const y=f(g.story_count),w=h(g.story_count)*2;g.thumbnail?d.set(g.id,Si.divIcon({className:"custom-location-marker",html:`
                        <div style="
                            width: ${w}px;
                            height: ${w}px;
                            border-radius: 50%;
                            border: 3px solid ${y};
                            overflow: hidden;
                            background: white;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
                        ">
                            <img
                                src="${g.thumbnail}"
                                style="
                                    width: 100%;
                                    height: 100%;
                                    object-fit: cover;
                                "
                                onerror="this.style.display='none'"
                            />
                        </div>
                    `,iconSize:[w,w],iconAnchor:[w/2,w/2]})):d.set(g.id,Si.divIcon({className:"custom-location-marker",html:`
                        <div style="
                            width: ${w}px;
                            height: ${w}px;
                            border-radius: 50%;
                            background: ${y};
                            border: 3px solid white;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
                        "></div>
                    `,iconSize:[w,w],iconAnchor:[w/2,w/2]}))}),d},[e.locations]);return v.jsxs("div",{className:"h-screen flex flex-col bg-gray-900 text-white",children:[v.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center z-10 bg-gray-900",children:[v.jsx("h1",{className:"text-xl font-bold",children:"News Map: Global Story Locations"}),v.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-4",children:[e.total_locations>0&&v.jsxs("span",{children:[e.total_locations," locations  ",e.total_connections," connections"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),v.jsx("span",{className:"text-xs",children:"1-2 stories"})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),v.jsx("span",{className:"text-xs",children:"3-4 stories"})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),v.jsx("span",{className:"text-xs",children:"5+ stories"})]})]})]})]}),v.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[r&&v.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000] bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[v.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),v.jsx("span",{className:"text-sm",children:"Loading locations..."})]}),v.jsxs(p1,{center:[20,0],zoom:2,className:"h-full w-full",style:{background:"#111827"},children:[v.jsx(m1,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'}),e.locations.length>0&&v.jsx(BO,{locations:e.locations}),e.locations.length>0&&e.connections.map((d,g)=>{const y=c.get(d.source),w=c.get(d.target);return!y||!w?null:v.jsx(BL,{positions:[[y.latitude,y.longitude],[w.latitude,w.longitude]],pathOptions:{color:"#a78bfa",weight:Math.min(d.shared_story_count,4),opacity:.3+d.shared_story_count*.1}},g)}),e.locations.length>0&&e.locations.map(d=>{const g=m.get(d.id);return g?v.jsx(Ah,{position:[d.latitude,d.longitude],icon:g,eventHandlers:{mouseover:()=>a(d.id),mouseout:()=>a(null)},children:v.jsx(Oh,{children:v.jsxs("div",{className:"text-gray-900 max-w-xs",children:[v.jsx("h3",{className:"font-bold text-lg mb-1",children:d.name}),d.description&&v.jsx("p",{className:"text-sm text-gray-600 mb-2",children:d.description}),v.jsxs("div",{className:"text-sm font-semibold mb-2",children:[d.story_count," ",d.story_count===1?"story":"stories"]}),v.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:d.stories.map(y=>v.jsxs("div",{className:"p-2 bg-gray-100 rounded hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>l(`/story/${y.id}`),children:[v.jsx("div",{className:"text-sm font-medium line-clamp-2",children:y.title}),y.coherence!==void 0&&v.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Coherence: ",(y.coherence*100).toFixed(0),"%"]})]},y.id))})]})})},d.id):null})]})]})]})};function $O(){return v.jsx(vC,{basename:"/app",children:v.jsxs(cC,{children:[v.jsx(Er,{path:"/",element:v.jsx(EC,{})}),v.jsx(Er,{path:"/archive",element:v.jsx(VL,{})}),v.jsx(Er,{path:"/graph",element:v.jsx(FO,{})}),v.jsx(Er,{path:"/map",element:v.jsx(UO,{})}),v.jsx(Er,{path:"/story/:storyId",element:v.jsx(e0,{})}),v.jsx(Er,{path:"/story/:storyId/:slug",element:v.jsx(e0,{})}),v.jsx(Er,{path:"/event/:eventSlug",element:v.jsx(WL,{})})]})})}Sf.createRoot(document.getElementById("root")).render(v.jsx(vi.StrictMode,{children:v.jsx($O,{})}));
